2018-11-09T17:45:16.4846378+02:00 0HLI6B9C4TCMF:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-09T17:45:19.2568061+02:00 0HLI6B9C4TCMF:00000001 [INF] Request finished in 2778.2697ms 404  (791a596a)
2018-11-09T17:45:47.6085967+02:00 0HLI6B9C4TCMF:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T17:45:47.6102948+02:00 0HLI6B9C4TCMF:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T17:45:47.6112339+02:00 0HLI6B9C4TCMF:00000002 [INF] Request finished in 2.5851ms 204  (791a596a)
2018-11-09T17:45:47.8512856+02:00 0HLI6B9C4TCMF:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:45:47.8524994+02:00 0HLI6B9C4TCMF:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T17:45:48.5817867+02:00 0HLI6B9C4TCMF:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T17:45:48.5826311+02:00 0HLI6B9C4TCMF:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T17:45:48.6624391+02:00 0HLI6B9C4TCMF:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:45:48.7247266+02:00 0HLI6B9C4TCMF:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:45:48.7701990+02:00 0HLI6B9C4TCMF:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:45:49.3807787+02:00 0HLI6B9C4TCMF:00000003 [INF] Executed DbCommand ("326"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:45:49.5582405+02:00 0HLI6B9C4TCMF:00000003 [INF] Executed DbCommand ("63"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:45:49.5788692+02:00 0HLI6B9C4TCMF:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 849.2604ms. (50a9e262)
2018-11-09T17:45:49.5864585+02:00 0HLI6B9C4TCMF:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:45:49.7629836+02:00 0HLI6B9C4TCMF:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 1089.8158ms (afa2e885)
2018-11-09T17:45:49.7659401+02:00 0HLI6B9C4TCMF:00000003 [INF] Request finished in 1914.6608ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:55:17.2007898+02:00 0HLI6B9C4TCMG:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T17:55:17.2010977+02:00 0HLI6B9C4TCMG:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:17.2014158+02:00 0HLI6B9C4TCMG:00000001 [INF] Request finished in 0.7267ms 204  (791a596a)
2018-11-09T17:55:17.7721972+02:00 0HLI6B9C4TCMG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:55:17.7723330+02:00 0HLI6B9C4TCMG:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:17.7743461+02:00 0HLI6B9C4TCMG:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T17:55:17.7745076+02:00 0HLI6B9C4TCMG:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T17:55:17.7752568+02:00 0HLI6B9C4TCMG:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:55:17.7772254+02:00 0HLI6B9C4TCMG:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:55:17.7779652+02:00 0HLI6B9C4TCMG:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:55:17.9519520+02:00 0HLI6B9C4TCMG:00000002 [INF] Executed DbCommand ("22"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:55:17.9554277+02:00 0HLI6B9C4TCMG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:55:17.9559302+02:00 0HLI6B9C4TCMG:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 178.5631ms. (50a9e262)
2018-11-09T17:55:17.9564271+02:00 0HLI6B9C4TCMG:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:55:17.9570718+02:00 0HLI6B9C4TCMG:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 181.6882ms (afa2e885)
2018-11-09T17:55:17.9572174+02:00 0HLI6B9C4TCMG:00000002 [INF] Request finished in 185.0577ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:55:20.7938128+02:00 0HLI6B9C4TCMG:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8  0 (ca22a1cb)
2018-11-09T17:55:20.7942170+02:00 0HLI6B9C4TCMG:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:20.7943492+02:00 0HLI6B9C4TCMG:00000003 [INF] Request finished in 0.6568ms 204  (791a596a)
2018-11-09T17:55:20.8335334+02:00 0HLI6B9C4TCMG:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:55:20.8336948+02:00 0HLI6B9C4TCMG:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:20.8338942+02:00 0HLI6B9C4TCMG:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:55:20.8343260+02:00 0HLI6B9C4TCMG:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:55:20.8347756+02:00 0HLI6B9C4TCMG:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:55:20.8371112+02:00 0HLI6B9C4TCMG:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:55:20.8393830+02:00 0HLI6B9C4TCMG:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:55:20.8395697+02:00 0HLI6B9C4TCMG:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1568ms. (50a9e262)
2018-11-09T17:55:20.8396806+02:00 0HLI6B9C4TCMG:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:55:20.8399183+02:00 0HLI6B9C4TCMG:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9431ms (afa2e885)
2018-11-09T17:55:20.8400403+02:00 0HLI6B9C4TCMG:00000004 [INF] Request finished in 6.5435ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:55:31.0570920+02:00 0HLI6B9C4TCMG:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T17:55:31.0572744+02:00 0HLI6B9C4TCMG:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:31.0574433+02:00 0HLI6B9C4TCMG:00000005 [INF] Request finished in 1.6389ms 204  (791a596a)
2018-11-09T17:55:31.2974035+02:00 0HLI6B9C4TCMG:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:55:31.2976553+02:00 0HLI6B9C4TCMG:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:31.3024222+02:00 0HLI6B9C4TCMG:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T17:55:31.3025517+02:00 0HLI6B9C4TCMG:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T17:55:31.3026926+02:00 0HLI6B9C4TCMG:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:55:31.3030534+02:00 0HLI6B9C4TCMG:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:55:31.3036455+02:00 0HLI6B9C4TCMG:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:55:31.3060245+02:00 0HLI6B9C4TCMG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:55:31.3079497+02:00 0HLI6B9C4TCMG:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:55:31.3081155+02:00 0HLI6B9C4TCMG:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9914ms. (50a9e262)
2018-11-09T17:55:31.3082312+02:00 0HLI6B9C4TCMG:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:55:31.3084617+02:00 0HLI6B9C4TCMG:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7027ms (afa2e885)
2018-11-09T17:55:31.3085754+02:00 0HLI6B9C4TCMG:00000006 [INF] Request finished in 11.6499ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:55:33.6143452+02:00 0HLI6B9C4TCMG:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8  0 (ca22a1cb)
2018-11-09T17:55:33.6145094+02:00 0HLI6B9C4TCMG:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:33.6146231+02:00 0HLI6B9C4TCMG:00000007 [INF] Request finished in 0.3603ms 204  (791a596a)
2018-11-09T17:55:33.6214494+02:00 0HLI6B9C4TCMG:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:55:33.6215844+02:00 0HLI6B9C4TCMG:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T17:55:33.6219148+02:00 0HLI6B9C4TCMG:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:55:33.6222740+02:00 0HLI6B9C4TCMG:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:55:33.6227694+02:00 0HLI6B9C4TCMG:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:55:33.6250371+02:00 0HLI6B9C4TCMG:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:55:33.6269201+02:00 0HLI6B9C4TCMG:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:55:33.6270843+02:00 0HLI6B9C4TCMG:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7337ms. (50a9e262)
2018-11-09T17:55:33.6271948+02:00 0HLI6B9C4TCMG:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:55:33.6274308+02:00 0HLI6B9C4TCMG:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.4237ms (afa2e885)
2018-11-09T17:55:33.6275504+02:00 0HLI6B9C4TCMG:00000008 [INF] Request finished in 6.1531ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:56:44.2512095+02:00 0HLI6B9C4TCMH:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T17:56:44.2513820+02:00 0HLI6B9C4TCMH:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T17:56:44.2515008+02:00 0HLI6B9C4TCMH:00000001 [INF] Request finished in 0.3852ms 204  (791a596a)
2018-11-09T17:56:44.5814118+02:00 0HLI6B9C4TCMH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:56:44.5815634+02:00 0HLI6B9C4TCMH:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T17:56:44.5832958+02:00 0HLI6B9C4TCMH:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T17:56:44.5834205+02:00 0HLI6B9C4TCMH:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T17:56:44.5835950+02:00 0HLI6B9C4TCMH:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:56:44.5843245+02:00 0HLI6B9C4TCMH:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:56:44.5849601+02:00 0HLI6B9C4TCMH:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:56:44.5875633+02:00 0HLI6B9C4TCMH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:56:44.5895674+02:00 0HLI6B9C4TCMH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:56:44.5897253+02:00 0HLI6B9C4TCMH:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.31ms. (50a9e262)
2018-11-09T17:56:44.5898556+02:00 0HLI6B9C4TCMH:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:56:44.5900704+02:00 0HLI6B9C4TCMH:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3639ms (afa2e885)
2018-11-09T17:56:44.5901647+02:00 0HLI6B9C4TCMH:00000002 [INF] Request finished in 8.9771ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:56:46.4333727+02:00 0HLI6B9C4TCMH:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8  0 (ca22a1cb)
2018-11-09T17:56:46.4336785+02:00 0HLI6B9C4TCMH:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T17:56:46.4337926+02:00 0HLI6B9C4TCMH:00000003 [INF] Request finished in 0.5009ms 204  (791a596a)
2018-11-09T17:56:46.4408541+02:00 0HLI6B9C4TCMH:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:56:46.4410195+02:00 0HLI6B9C4TCMH:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T17:56:46.4412019+02:00 0HLI6B9C4TCMH:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:56:46.4415346+02:00 0HLI6B9C4TCMH:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:56:46.4419396+02:00 0HLI6B9C4TCMH:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:56:46.4441281+02:00 0HLI6B9C4TCMH:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:56:46.4460974+02:00 0HLI6B9C4TCMH:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:56:46.4462632+02:00 0HLI6B9C4TCMH:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6579ms. (50a9e262)
2018-11-09T17:56:46.4463718+02:00 0HLI6B9C4TCMH:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:56:46.4465447+02:00 0HLI6B9C4TCMH:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2812ms (afa2e885)
2018-11-09T17:56:46.4467855+02:00 0HLI6B9C4TCMH:00000004 [INF] Request finished in 5.9684ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T17:59:22.8926878+02:00 0HLI6B9C4TCMI:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T17:59:22.8929271+02:00 0HLI6B9C4TCMI:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T17:59:22.8930648+02:00 0HLI6B9C4TCMI:00000001 [INF] Request finished in 0.5076ms 204  (791a596a)
2018-11-09T17:59:23.0240556+02:00 0HLI6B9C4TCMI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T17:59:23.0242079+02:00 0HLI6B9C4TCMI:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T17:59:23.0253613+02:00 0HLI6B9C4TCMI:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T17:59:23.0254773+02:00 0HLI6B9C4TCMI:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T17:59:23.0256396+02:00 0HLI6B9C4TCMI:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T17:59:23.0261508+02:00 0HLI6B9C4TCMI:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T17:59:23.0266501+02:00 0HLI6B9C4TCMI:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T17:59:23.0290975+02:00 0HLI6B9C4TCMI:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T17:59:23.0310582+02:00 0HLI6B9C4TCMI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T17:59:23.0312587+02:00 0HLI6B9C4TCMI:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0226ms. (50a9e262)
2018-11-09T17:59:23.0314103+02:00 0HLI6B9C4TCMI:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T17:59:23.0316764+02:00 0HLI6B9C4TCMI:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9601ms (afa2e885)
2018-11-09T17:59:23.0317987+02:00 0HLI6B9C4TCMI:00000002 [INF] Request finished in 8.1983ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:00:09.8979110+02:00 0HLI6B9C4TCMI:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:00:09.8983338+02:00 0HLI6B9C4TCMI:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T18:00:09.8985509+02:00 0HLI6B9C4TCMI:00000003 [INF] Request finished in 1.1313ms 204  (791a596a)
2018-11-09T18:00:10.1421182+02:00 0HLI6B9C4TCMI:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:00:10.1423487+02:00 0HLI6B9C4TCMI:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T18:00:10.1432672+02:00 0HLI6B9C4TCMI:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:00:10.1433852+02:00 0HLI6B9C4TCMI:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:00:10.1435400+02:00 0HLI6B9C4TCMI:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:00:10.1439698+02:00 0HLI6B9C4TCMI:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:00:10.1444948+02:00 0HLI6B9C4TCMI:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:00:10.1471432+02:00 0HLI6B9C4TCMI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:00:10.1491966+02:00 0HLI6B9C4TCMI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:00:10.1493576+02:00 0HLI6B9C4TCMI:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3108ms. (50a9e262)
2018-11-09T18:00:10.1494713+02:00 0HLI6B9C4TCMI:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:00:10.1497279+02:00 0HLI6B9C4TCMI:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.107ms (afa2e885)
2018-11-09T18:00:10.1498345+02:00 0HLI6B9C4TCMI:00000004 [INF] Request finished in 7.813ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:01:00.2064630+02:00 0HLI6B9C4TCMI:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:01:00.2067611+02:00 0HLI6B9C4TCMI:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T18:01:00.2069545+02:00 0HLI6B9C4TCMI:00000005 [INF] Request finished in 0.5909ms 204  (791a596a)
2018-11-09T18:01:00.5839164+02:00 0HLI6B9C4TCMI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:01:00.5842164+02:00 0HLI6B9C4TCMI:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T18:01:00.5853820+02:00 0HLI6B9C4TCMI:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:01:00.5855059+02:00 0HLI6B9C4TCMI:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:01:00.5856560+02:00 0HLI6B9C4TCMI:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:01:00.5860535+02:00 0HLI6B9C4TCMI:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:01:00.5865311+02:00 0HLI6B9C4TCMI:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:01:00.5890610+02:00 0HLI6B9C4TCMI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:01:00.5910347+02:00 0HLI6B9C4TCMI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:01:00.5911665+02:00 0HLI6B9C4TCMI:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0467ms. (50a9e262)
2018-11-09T18:01:00.5912506+02:00 0HLI6B9C4TCMI:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:01:00.5914480+02:00 0HLI6B9C4TCMI:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7316ms (afa2e885)
2018-11-09T18:01:00.5915478+02:00 0HLI6B9C4TCMI:00000006 [INF] Request finished in 7.708ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:01:36.3162294+02:00 0HLI6B9C4TCMI:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:01:36.3164169+02:00 0HLI6B9C4TCMI:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T18:01:36.3165333+02:00 0HLI6B9C4TCMI:00000007 [INF] Request finished in 0.3911ms 204  (791a596a)
2018-11-09T18:01:36.4147493+02:00 0HLI6B9C4TCMI:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:01:36.4150054+02:00 0HLI6B9C4TCMI:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T18:01:36.4164130+02:00 0HLI6B9C4TCMI:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:01:36.4175894+02:00 0HLI6B9C4TCMI:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:01:36.4177256+02:00 0HLI6B9C4TCMI:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:01:36.4181286+02:00 0HLI6B9C4TCMI:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:01:36.4185561+02:00 0HLI6B9C4TCMI:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:01:36.4208530+02:00 0HLI6B9C4TCMI:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:01:36.4227881+02:00 0HLI6B9C4TCMI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:01:36.4229341+02:00 0HLI6B9C4TCMI:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7396ms. (50a9e262)
2018-11-09T18:01:36.4230324+02:00 0HLI6B9C4TCMI:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:01:36.4233309+02:00 0HLI6B9C4TCMI:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5421ms (afa2e885)
2018-11-09T18:01:36.4234323+02:00 0HLI6B9C4TCMI:00000008 [INF] Request finished in 9.6004ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:03:30.3797872+02:00 0HLI6B9C4TCMJ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:03:30.3799644+02:00 0HLI6B9C4TCMJ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:03:30.3800852+02:00 0HLI6B9C4TCMJ:00000001 [INF] Request finished in 0.4026ms 204  (791a596a)
2018-11-09T18:03:30.5383153+02:00 0HLI6B9C4TCMJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:03:30.5384882+02:00 0HLI6B9C4TCMJ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:03:30.5397103+02:00 0HLI6B9C4TCMJ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:03:30.5398224+02:00 0HLI6B9C4TCMJ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:03:30.5400683+02:00 0HLI6B9C4TCMJ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:03:30.5405448+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:03:30.5411160+02:00 0HLI6B9C4TCMJ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:03:30.5437429+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:03:30.5455805+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:03:30.5457384+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.081ms. (50a9e262)
2018-11-09T18:03:30.5458513+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:03:30.5460775+02:00 0HLI6B9C4TCMJ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9349ms (afa2e885)
2018-11-09T18:03:30.5462275+02:00 0HLI6B9C4TCMJ:00000002 [INF] Request finished in 7.9291ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:03:38.7732025+02:00 0HLI6B9C4TCMJ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:03:38.7734808+02:00 0HLI6B9C4TCMJ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T18:03:38.7736620+02:00 0HLI6B9C4TCMJ:00000003 [INF] Request finished in 0.5127ms 204  (791a596a)
2018-11-09T18:03:39.0344009+02:00 0HLI6B9C4TCMJ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:03:39.0346843+02:00 0HLI6B9C4TCMJ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T18:03:39.0371439+02:00 0HLI6B9C4TCMJ:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:03:39.0374068+02:00 0HLI6B9C4TCMJ:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:03:39.0375505+02:00 0HLI6B9C4TCMJ:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:03:39.0379665+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:03:39.0386443+02:00 0HLI6B9C4TCMJ:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:03:39.0409540+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:03:39.0428325+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:03:39.0429955+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9176ms. (50a9e262)
2018-11-09T18:03:39.0431084+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:03:39.0433322+02:00 0HLI6B9C4TCMJ:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7162ms (afa2e885)
2018-11-09T18:03:39.0434428+02:00 0HLI6B9C4TCMJ:00000004 [INF] Request finished in 10.0188ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:07:01.6836543+02:00 0HLI6B9C4TCMK:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:07:01.6838505+02:00 0HLI6B9C4TCMK:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:07:01.6839808+02:00 0HLI6B9C4TCMK:00000001 [INF] Request finished in 0.4338ms 204  (791a596a)
2018-11-09T18:07:01.8230195+02:00 0HLI6B9C4TCMK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:07:01.8232906+02:00 0HLI6B9C4TCMK:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:07:01.8245941+02:00 0HLI6B9C4TCMK:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:07:01.8248029+02:00 0HLI6B9C4TCMK:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:07:01.8249675+02:00 0HLI6B9C4TCMK:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:07:01.8255944+02:00 0HLI6B9C4TCMK:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:07:01.8261814+02:00 0HLI6B9C4TCMK:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:07:01.8289291+02:00 0HLI6B9C4TCMK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:07:01.8308764+02:00 0HLI6B9C4TCMK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:07:01.8310817+02:00 0HLI6B9C4TCMK:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3716ms. (50a9e262)
2018-11-09T18:07:01.8312139+02:00 0HLI6B9C4TCMK:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:07:01.8314504+02:00 0HLI6B9C4TCMK:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2321ms (afa2e885)
2018-11-09T18:07:01.8315479+02:00 0HLI6B9C4TCMK:00000002 [INF] Request finished in 8.8555ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:07:16.0170477+02:00 0HLI6B9C4TCMK:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:07:16.0172759+02:00 0HLI6B9C4TCMK:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T18:07:16.0174109+02:00 0HLI6B9C4TCMK:00000003 [INF] Request finished in 0.414ms 204  (791a596a)
2018-11-09T18:07:16.2121915+02:00 0HLI6B9C4TCMK:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:07:16.2123671+02:00 0HLI6B9C4TCMK:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T18:07:16.2131179+02:00 0HLI6B9C4TCMK:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:07:16.2132510+02:00 0HLI6B9C4TCMK:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:07:16.2133769+02:00 0HLI6B9C4TCMK:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:07:16.2141561+02:00 0HLI6B9C4TCMK:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:07:16.2146022+02:00 0HLI6B9C4TCMK:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:07:16.2168991+02:00 0HLI6B9C4TCMK:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:07:16.2187998+02:00 0HLI6B9C4TCMK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:07:16.2189537+02:00 0HLI6B9C4TCMK:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7206ms. (50a9e262)
2018-11-09T18:07:16.2190580+02:00 0HLI6B9C4TCMK:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:07:16.2192245+02:00 0HLI6B9C4TCMK:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.578ms (afa2e885)
2018-11-09T18:07:16.2193382+02:00 0HLI6B9C4TCMK:00000004 [INF] Request finished in 7.2249ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:08:14.1739345+02:00 0HLI6B9C4TCMK:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:08:14.1741311+02:00 0HLI6B9C4TCMK:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T18:08:14.1743154+02:00 0HLI6B9C4TCMK:00000005 [INF] Request finished in 0.4235ms 204  (791a596a)
2018-11-09T18:08:14.2809188+02:00 0HLI6B9C4TCMK:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:08:14.2814098+02:00 0HLI6B9C4TCMK:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T18:08:14.2825944+02:00 0HLI6B9C4TCMK:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:08:14.2826912+02:00 0HLI6B9C4TCMK:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:08:14.2828183+02:00 0HLI6B9C4TCMK:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:08:14.2831617+02:00 0HLI6B9C4TCMK:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:08:14.2835714+02:00 0HLI6B9C4TCMK:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:08:14.2859220+02:00 0HLI6B9C4TCMK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:08:14.2877221+02:00 0HLI6B9C4TCMK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:08:14.2878847+02:00 0HLI6B9C4TCMK:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.661ms. (50a9e262)
2018-11-09T18:08:14.2880245+02:00 0HLI6B9C4TCMK:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:08:14.2882799+02:00 0HLI6B9C4TCMK:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.402ms (afa2e885)
2018-11-09T18:08:14.2883813+02:00 0HLI6B9C4TCMK:00000006 [INF] Request finished in 7.5403ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:08:30.3340135+02:00 0HLI6B9C4TCMK:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:08:30.3341552+02:00 0HLI6B9C4TCMK:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T18:08:30.3342539+02:00 0HLI6B9C4TCMK:00000007 [INF] Request finished in 0.3205ms 204  (791a596a)
2018-11-09T18:08:30.5009027+02:00 0HLI6B9C4TCMK:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:08:30.5012978+02:00 0HLI6B9C4TCMK:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T18:08:30.5020415+02:00 0HLI6B9C4TCMK:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:08:30.5021674+02:00 0HLI6B9C4TCMK:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:08:30.5023810+02:00 0HLI6B9C4TCMK:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:08:30.5026940+02:00 0HLI6B9C4TCMK:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:08:30.5031546+02:00 0HLI6B9C4TCMK:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:08:30.5054034+02:00 0HLI6B9C4TCMK:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:08:30.5074932+02:00 0HLI6B9C4TCMK:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:08:30.5076701+02:00 0HLI6B9C4TCMK:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9062ms. (50a9e262)
2018-11-09T18:08:30.5077810+02:00 0HLI6B9C4TCMK:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:08:30.5080036+02:00 0HLI6B9C4TCMK:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5599ms (afa2e885)
2018-11-09T18:08:30.5081228+02:00 0HLI6B9C4TCMK:00000008 [INF] Request finished in 7.2876ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:09:19.2452031+02:00 0HLI6B9C4TCMK:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:09:19.2454108+02:00 0HLI6B9C4TCMK:00000009 [INF] Policy execution successful. (0204925d)
2018-11-09T18:09:19.2464723+02:00 0HLI6B9C4TCMK:00000009 [INF] Request finished in 1.2675ms 204  (791a596a)
2018-11-09T18:09:19.4434551+02:00 0HLI6B9C4TCMK:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:09:19.4438013+02:00 0HLI6B9C4TCMK:0000000A [INF] Policy execution successful. (0204925d)
2018-11-09T18:09:19.4448662+02:00 0HLI6B9C4TCMK:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:09:19.4449949+02:00 0HLI6B9C4TCMK:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:09:19.4451327+02:00 0HLI6B9C4TCMK:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:09:19.4455444+02:00 0HLI6B9C4TCMK:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:09:19.4460126+02:00 0HLI6B9C4TCMK:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:09:19.4486704+02:00 0HLI6B9C4TCMK:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:09:19.4506958+02:00 0HLI6B9C4TCMK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:09:19.4508639+02:00 0HLI6B9C4TCMK:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2452ms. (50a9e262)
2018-11-09T18:09:19.4509729+02:00 0HLI6B9C4TCMK:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:09:19.4511588+02:00 0HLI6B9C4TCMK:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9404ms (afa2e885)
2018-11-09T18:09:19.4512622+02:00 0HLI6B9C4TCMK:0000000A [INF] Request finished in 8.3515ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:09:52.0103024+02:00 0HLI6B9C4TCMK:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:09:52.0104741+02:00 0HLI6B9C4TCMK:0000000B [INF] Policy execution successful. (0204925d)
2018-11-09T18:09:52.0105933+02:00 0HLI6B9C4TCMK:0000000B [INF] Request finished in 0.3615ms 204  (791a596a)
2018-11-09T18:09:52.1884369+02:00 0HLI6B9C4TCMK:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:09:52.1886319+02:00 0HLI6B9C4TCMK:0000000C [INF] Policy execution successful. (0204925d)
2018-11-09T18:09:52.1894585+02:00 0HLI6B9C4TCMK:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:09:52.1895453+02:00 0HLI6B9C4TCMK:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:09:52.1896775+02:00 0HLI6B9C4TCMK:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:09:52.1903122+02:00 0HLI6B9C4TCMK:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:09:52.1910575+02:00 0HLI6B9C4TCMK:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:09:52.1937599+02:00 0HLI6B9C4TCMK:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:09:52.1958867+02:00 0HLI6B9C4TCMK:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:09:52.1960734+02:00 0HLI6B9C4TCMK:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6712ms. (50a9e262)
2018-11-09T18:09:52.1961883+02:00 0HLI6B9C4TCMK:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:09:52.1964184+02:00 0HLI6B9C4TCMK:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.6695ms (afa2e885)
2018-11-09T18:09:52.1965254+02:00 0HLI6B9C4TCMK:0000000C [INF] Request finished in 8.5472ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:10:07.6729649+02:00 0HLI6B9C4TCMK:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:10:07.6731330+02:00 0HLI6B9C4TCMK:0000000D [INF] Policy execution successful. (0204925d)
2018-11-09T18:10:07.6732443+02:00 0HLI6B9C4TCMK:0000000D [INF] Request finished in 0.33ms 204  (791a596a)
2018-11-09T18:10:07.8182222+02:00 0HLI6B9C4TCMK:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:10:07.8184070+02:00 0HLI6B9C4TCMK:0000000E [INF] Policy execution successful. (0204925d)
2018-11-09T18:10:07.8191364+02:00 0HLI6B9C4TCMK:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:10:07.8192260+02:00 0HLI6B9C4TCMK:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:10:07.8193511+02:00 0HLI6B9C4TCMK:0000000E [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:10:07.8197151+02:00 0HLI6B9C4TCMK:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:10:07.8201379+02:00 0HLI6B9C4TCMK:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:10:07.8225221+02:00 0HLI6B9C4TCMK:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:10:07.8243241+02:00 0HLI6B9C4TCMK:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:10:07.8244832+02:00 0HLI6B9C4TCMK:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6966ms. (50a9e262)
2018-11-09T18:10:07.8245898+02:00 0HLI6B9C4TCMK:0000000E [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:10:07.8247406+02:00 0HLI6B9C4TCMK:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.3143ms (afa2e885)
2018-11-09T18:10:07.8248882+02:00 0HLI6B9C4TCMK:0000000E [INF] Request finished in 6.6872ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:38:49.5933072+02:00 0HLI6B9C4TCML:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:38:49.5935034+02:00 0HLI6B9C4TCML:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:38:49.5936241+02:00 0HLI6B9C4TCML:00000001 [INF] Request finished in 0.4456ms 204  (791a596a)
2018-11-09T18:38:49.7678617+02:00 0HLI6B9C4TCML:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:38:49.7680232+02:00 0HLI6B9C4TCML:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:38:49.7695138+02:00 0HLI6B9C4TCML:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:38:49.7696369+02:00 0HLI6B9C4TCML:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:38:49.7698343+02:00 0HLI6B9C4TCML:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:38:49.7704785+02:00 0HLI6B9C4TCML:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:38:49.7712795+02:00 0HLI6B9C4TCML:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:38:50.3233370+02:00 0HLI6B9C4TCML:00000002 [INF] Executed DbCommand ("315"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:38:50.3850968+02:00 0HLI6B9C4TCML:00000002 [INF] Executed DbCommand ("61"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:38:50.3855022+02:00 0HLI6B9C4TCML:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 614.878ms. (50a9e262)
2018-11-09T18:38:50.3857766+02:00 0HLI6B9C4TCML:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:38:50.3867716+02:00 0HLI6B9C4TCML:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 616.7858ms (afa2e885)
2018-11-09T18:38:50.3870717+02:00 0HLI6B9C4TCML:00000002 [INF] Request finished in 619.2253ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:39:04.7430839+02:00 0HLI6B9C4TCML:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:39:04.7436259+02:00 0HLI6B9C4TCML:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T18:39:04.7437649+02:00 0HLI6B9C4TCML:00000003 [INF] Request finished in 0.7496ms 204  (791a596a)
2018-11-09T18:39:04.9738218+02:00 0HLI6B9C4TCML:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:39:04.9739600+02:00 0HLI6B9C4TCML:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T18:39:04.9747443+02:00 0HLI6B9C4TCML:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:39:04.9748446+02:00 0HLI6B9C4TCML:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:39:04.9749788+02:00 0HLI6B9C4TCML:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:39:04.9754189+02:00 0HLI6B9C4TCML:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:39:04.9758523+02:00 0HLI6B9C4TCML:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:39:04.9960567+02:00 0HLI6B9C4TCML:00000004 [INF] Executed DbCommand ("19"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:39:04.9980998+02:00 0HLI6B9C4TCML:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:39:04.9982842+02:00 0HLI6B9C4TCML:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.7902ms. (50a9e262)
2018-11-09T18:39:04.9983986+02:00 0HLI6B9C4TCML:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:39:04.9987823+02:00 0HLI6B9C4TCML:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 23.723ms (afa2e885)
2018-11-09T18:39:04.9989059+02:00 0HLI6B9C4TCML:00000004 [INF] Request finished in 25.5064ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:41:41.0291413+02:00 0HLI6B9C4TCMM:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:41:41.0295061+02:00 0HLI6B9C4TCMM:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:41:41.0297165+02:00 0HLI6B9C4TCMM:00000001 [INF] Request finished in 0.7373ms 204  (791a596a)
2018-11-09T18:41:41.2748923+02:00 0HLI6B9C4TCMM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:41:41.2750561+02:00 0HLI6B9C4TCMM:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:41:41.2765620+02:00 0HLI6B9C4TCMM:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:41:41.2766768+02:00 0HLI6B9C4TCMM:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:41:41.2768430+02:00 0HLI6B9C4TCMM:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:41:41.2774340+02:00 0HLI6B9C4TCMM:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:41:41.2789360+02:00 0HLI6B9C4TCMM:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:41:41.2814998+02:00 0HLI6B9C4TCMM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:41:41.2835584+02:00 0HLI6B9C4TCMM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:41:41.2837277+02:00 0HLI6B9C4TCMM:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.2009ms. (50a9e262)
2018-11-09T18:41:41.2838556+02:00 0HLI6B9C4TCMM:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:41:41.2841880+02:00 0HLI6B9C4TCMM:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.1309ms (afa2e885)
2018-11-09T18:41:41.2843025+02:00 0HLI6B9C4TCMM:00000002 [INF] Request finished in 9.5001ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:43:30.6800500+02:00 0HLI6B9C4TCMN:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:43:30.6802418+02:00 0HLI6B9C4TCMN:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:43:30.6803650+02:00 0HLI6B9C4TCMN:00000001 [INF] Request finished in 0.3927ms 204  (791a596a)
2018-11-09T18:43:30.8933120+02:00 0HLI6B9C4TCMN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:43:30.8935954+02:00 0HLI6B9C4TCMN:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:43:30.8958654+02:00 0HLI6B9C4TCMN:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:43:30.8960040+02:00 0HLI6B9C4TCMN:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:43:30.8961840+02:00 0HLI6B9C4TCMN:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:43:30.8967702+02:00 0HLI6B9C4TCMN:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:43:30.8976078+02:00 0HLI6B9C4TCMN:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:43:30.9008005+02:00 0HLI6B9C4TCMN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:43:30.9032163+02:00 0HLI6B9C4TCMN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:43:30.9035637+02:00 0HLI6B9C4TCMN:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.6983ms. (50a9e262)
2018-11-09T18:43:30.9036987+02:00 0HLI6B9C4TCMN:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:43:30.9041538+02:00 0HLI6B9C4TCMN:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.8829ms (afa2e885)
2018-11-09T18:43:30.9042620+02:00 0HLI6B9C4TCMN:00000002 [INF] Request finished in 11.059ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:47:02.7181703+02:00 0HLI6B9C4TCMO:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:47:02.7183618+02:00 0HLI6B9C4TCMO:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:47:02.7184790+02:00 0HLI6B9C4TCMO:00000001 [INF] Request finished in 0.4081ms 204  (791a596a)
2018-11-09T18:47:02.7993663+02:00 0HLI6B9C4TCMO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:47:02.7997654+02:00 0HLI6B9C4TCMO:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:47:02.8008028+02:00 0HLI6B9C4TCMO:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:47:02.8009034+02:00 0HLI6B9C4TCMO:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:47:02.8010728+02:00 0HLI6B9C4TCMO:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:47:02.8015460+02:00 0HLI6B9C4TCMO:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:47:02.8020616+02:00 0HLI6B9C4TCMO:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:47:02.8046349+02:00 0HLI6B9C4TCMO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:47:02.8068257+02:00 0HLI6B9C4TCMO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:47:02.8070022+02:00 0HLI6B9C4TCMO:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.385ms. (50a9e262)
2018-11-09T18:47:02.8071249+02:00 0HLI6B9C4TCMO:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:47:02.8074123+02:00 0HLI6B9C4TCMO:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2656ms (afa2e885)
2018-11-09T18:47:02.8075201+02:00 0HLI6B9C4TCMO:00000002 [INF] Request finished in 8.2453ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T18:50:29.2915120+02:00 0HLI6B9C4TCMP:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T18:50:29.2917639+02:00 0HLI6B9C4TCMP:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T18:50:29.2919154+02:00 0HLI6B9C4TCMP:00000001 [INF] Request finished in 0.495ms 204  (791a596a)
2018-11-09T18:50:29.4608473+02:00 0HLI6B9C4TCMP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T18:50:29.4610470+02:00 0HLI6B9C4TCMP:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T18:50:29.4622478+02:00 0HLI6B9C4TCMP:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T18:50:29.4623864+02:00 0HLI6B9C4TCMP:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T18:50:29.4673388+02:00 0HLI6B9C4TCMP:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T18:50:29.4678630+02:00 0HLI6B9C4TCMP:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T18:50:29.4684393+02:00 0HLI6B9C4TCMP:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T18:50:29.4708748+02:00 0HLI6B9C4TCMP:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T18:50:29.4729547+02:00 0HLI6B9C4TCMP:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T18:50:29.4731308+02:00 0HLI6B9C4TCMP:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1876ms. (50a9e262)
2018-11-09T18:50:29.4732614+02:00 0HLI6B9C4TCMP:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T18:50:29.4735776+02:00 0HLI6B9C4TCMP:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1393ms (afa2e885)
2018-11-09T18:50:29.4737643+02:00 0HLI6B9C4TCMP:00000002 [INF] Request finished in 13.0449ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:04:57.4606175+02:00 0HLI6B9C4TCMQ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:04:57.4608686+02:00 0HLI6B9C4TCMQ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:04:57.4611094+02:00 0HLI6B9C4TCMQ:00000001 [INF] Request finished in 14.9385ms 204  (791a596a)
2018-11-09T22:04:57.5825722+02:00 0HLI6B9C4TCMQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:04:57.5828864+02:00 0HLI6B9C4TCMQ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:04:57.5961103+02:00 0HLI6B9C4TCMQ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:04:57.5962910+02:00 0HLI6B9C4TCMQ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:04:57.5964833+02:00 0HLI6B9C4TCMQ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:04:57.6196549+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:04:57.6203089+02:00 0HLI6B9C4TCMQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:04:58.3092026+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executed DbCommand ("573"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:04:58.3501241+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:04:58.4043352+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 730.5354ms. (50a9e262)
2018-11-09T22:04:58.4044702+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:04:58.4048716+02:00 0HLI6B9C4TCMQ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 808.3192ms (afa2e885)
2018-11-09T22:04:58.4050256+02:00 0HLI6B9C4TCMQ:00000002 [INF] Request finished in 822.5046ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:06:24.2551605+02:00 0HLI6B9C4TCMR:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:06:24.2553243+02:00 0HLI6B9C4TCMR:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:24.2555272+02:00 0HLI6B9C4TCMR:00000001 [INF] Request finished in 0.3809ms 204  (791a596a)
2018-11-09T22:06:24.4549499+02:00 0HLI6B9C4TCMR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:06:24.4552898+02:00 0HLI6B9C4TCMR:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:24.4565328+02:00 0HLI6B9C4TCMR:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:06:24.4566800+02:00 0HLI6B9C4TCMR:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:06:24.4568683+02:00 0HLI6B9C4TCMR:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:06:24.4572709+02:00 0HLI6B9C4TCMR:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:06:24.4579053+02:00 0HLI6B9C4TCMR:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:06:24.4605075+02:00 0HLI6B9C4TCMR:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:06:24.4626793+02:00 0HLI6B9C4TCMR:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:06:24.4628747+02:00 0HLI6B9C4TCMR:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4304ms. (50a9e262)
2018-11-09T22:06:24.4631147+02:00 0HLI6B9C4TCMR:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:06:24.4634762+02:00 0HLI6B9C4TCMR:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5214ms (afa2e885)
2018-11-09T22:06:24.4636030+02:00 0HLI6B9C4TCMR:00000002 [INF] Request finished in 8.7422ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:06:36.5181177+02:00 0HLI6B9C4TCMR:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:06:36.5182997+02:00 0HLI6B9C4TCMR:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:36.5184130+02:00 0HLI6B9C4TCMR:00000003 [INF] Request finished in 0.3311ms 204  (791a596a)
2018-11-09T22:06:36.6470048+02:00 0HLI6B9C4TCMR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:06:36.6472050+02:00 0HLI6B9C4TCMR:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:36.6480473+02:00 0HLI6B9C4TCMR:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:06:36.6481803+02:00 0HLI6B9C4TCMR:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:06:36.6483354+02:00 0HLI6B9C4TCMR:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:06:36.6486816+02:00 0HLI6B9C4TCMR:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:06:36.6490918+02:00 0HLI6B9C4TCMR:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:06:36.6510655+02:00 0HLI6B9C4TCMR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:06:36.6531170+02:00 0HLI6B9C4TCMR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:06:36.6532847+02:00 0HLI6B9C4TCMR:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5312ms. (50a9e262)
2018-11-09T22:06:36.6534402+02:00 0HLI6B9C4TCMR:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:06:36.6536111+02:00 0HLI6B9C4TCMR:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2046ms (afa2e885)
2018-11-09T22:06:36.6537114+02:00 0HLI6B9C4TCMR:00000004 [INF] Request finished in 6.7484ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:06:47.7643284+02:00 0HLI6B9C4TCMR:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:06:47.7645025+02:00 0HLI6B9C4TCMR:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:47.7646154+02:00 0HLI6B9C4TCMR:00000005 [INF] Request finished in 0.3528ms 204  (791a596a)
2018-11-09T22:06:47.9478262+02:00 0HLI6B9C4TCMR:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:06:47.9482742+02:00 0HLI6B9C4TCMR:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:06:47.9763382+02:00 0HLI6B9C4TCMR:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:06:47.9764993+02:00 0HLI6B9C4TCMR:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:06:47.9766434+02:00 0HLI6B9C4TCMR:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:06:47.9770361+02:00 0HLI6B9C4TCMR:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:06:47.9777348+02:00 0HLI6B9C4TCMR:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:06:47.9799682+02:00 0HLI6B9C4TCMR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:06:47.9820762+02:00 0HLI6B9C4TCMR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:06:47.9822364+02:00 0HLI6B9C4TCMR:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1229ms. (50a9e262)
2018-11-09T22:06:47.9823470+02:00 0HLI6B9C4TCMR:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:06:47.9827678+02:00 0HLI6B9C4TCMR:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.043ms (afa2e885)
2018-11-09T22:06:47.9828838+02:00 0HLI6B9C4TCMR:00000006 [INF] Request finished in 35.236ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:08:23.0905948+02:00 0HLI6B9C4TCMS:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:08:23.0908470+02:00 0HLI6B9C4TCMS:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:08:23.0909820+02:00 0HLI6B9C4TCMS:00000001 [INF] Request finished in 0.4657ms 204  (791a596a)
2018-11-09T22:08:23.1931011+02:00 0HLI6B9C4TCMS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:08:23.1934224+02:00 0HLI6B9C4TCMS:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:08:23.1949078+02:00 0HLI6B9C4TCMS:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:08:23.1950262+02:00 0HLI6B9C4TCMS:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:08:23.1953511+02:00 0HLI6B9C4TCMS:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:08:23.1957715+02:00 0HLI6B9C4TCMS:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:08:23.1969869+02:00 0HLI6B9C4TCMS:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:08:23.2000639+02:00 0HLI6B9C4TCMS:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:08:23.2024820+02:00 0HLI6B9C4TCMS:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:08:23.2026553+02:00 0HLI6B9C4TCMS:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.4121ms. (50a9e262)
2018-11-09T22:08:23.2027789+02:00 0HLI6B9C4TCMS:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:08:23.2032549+02:00 0HLI6B9C4TCMS:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.813ms (afa2e885)
2018-11-09T22:08:23.2033682+02:00 0HLI6B9C4TCMS:00000002 [INF] Request finished in 10.5624ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:10:26.5612603+02:00 0HLI6B9C4TCMT:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:10:26.5614774+02:00 0HLI6B9C4TCMT:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:26.5616953+02:00 0HLI6B9C4TCMT:00000001 [INF] Request finished in 0.5186ms 204  (791a596a)
2018-11-09T22:10:26.8415813+02:00 0HLI6B9C4TCMT:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:10:26.8418541+02:00 0HLI6B9C4TCMT:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:26.8429882+02:00 0HLI6B9C4TCMT:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:10:26.8431370+02:00 0HLI6B9C4TCMT:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:10:26.8434026+02:00 0HLI6B9C4TCMT:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:10:26.8439747+02:00 0HLI6B9C4TCMT:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:10:26.8446635+02:00 0HLI6B9C4TCMT:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:10:26.8474128+02:00 0HLI6B9C4TCMT:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:10:26.8496577+02:00 0HLI6B9C4TCMT:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:10:26.8746849+02:00 0HLI6B9C4TCMT:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7691ms. (50a9e262)
2018-11-09T22:10:26.8748543+02:00 0HLI6B9C4TCMT:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:10:26.8753146+02:00 0HLI6B9C4TCMT:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 31.8219ms (afa2e885)
2018-11-09T22:10:26.8754436+02:00 0HLI6B9C4TCMT:00000002 [INF] Request finished in 33.9239ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:10:41.6284350+02:00 0HLI6B9C4TCMT:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:10:41.6286782+02:00 0HLI6B9C4TCMT:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:41.6288310+02:00 0HLI6B9C4TCMT:00000003 [INF] Request finished in 0.4468ms 204  (791a596a)
2018-11-09T22:10:41.8301441+02:00 0HLI6B9C4TCMT:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:10:41.8303944+02:00 0HLI6B9C4TCMT:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:41.8314077+02:00 0HLI6B9C4TCMT:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:10:41.8315104+02:00 0HLI6B9C4TCMT:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:10:41.8316505+02:00 0HLI6B9C4TCMT:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:10:41.8320125+02:00 0HLI6B9C4TCMT:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:10:41.8325544+02:00 0HLI6B9C4TCMT:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:10:41.8350282+02:00 0HLI6B9C4TCMT:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:10:41.8370797+02:00 0HLI6B9C4TCMT:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:10:41.8374053+02:00 0HLI6B9C4TCMT:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3096ms. (50a9e262)
2018-11-09T22:10:41.8375269+02:00 0HLI6B9C4TCMT:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:10:41.8376970+02:00 0HLI6B9C4TCMT:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9747ms (afa2e885)
2018-11-09T22:10:41.8377973+02:00 0HLI6B9C4TCMT:00000004 [INF] Request finished in 7.7013ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:10:56.7528944+02:00 0HLI6B9C4TCMT:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:10:56.7531822+02:00 0HLI6B9C4TCMT:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:56.7533109+02:00 0HLI6B9C4TCMT:00000005 [INF] Request finished in 0.4689ms 204  (791a596a)
2018-11-09T22:10:56.9532484+02:00 0HLI6B9C4TCMT:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:10:56.9543315+02:00 0HLI6B9C4TCMT:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:10:56.9553527+02:00 0HLI6B9C4TCMT:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:10:56.9554649+02:00 0HLI6B9C4TCMT:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:10:56.9556259+02:00 0HLI6B9C4TCMT:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:10:56.9561544+02:00 0HLI6B9C4TCMT:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:10:56.9745102+02:00 0HLI6B9C4TCMT:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:10:56.9769686+02:00 0HLI6B9C4TCMT:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:10:56.9794294+02:00 0HLI6B9C4TCMT:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:10:56.9796213+02:00 0HLI6B9C4TCMT:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 23.3587ms. (50a9e262)
2018-11-09T22:10:56.9797444+02:00 0HLI6B9C4TCMT:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:10:56.9802181+02:00 0HLI6B9C4TCMT:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 24.5141ms (afa2e885)
2018-11-09T22:10:56.9803444+02:00 0HLI6B9C4TCMT:00000006 [INF] Request finished in 27.6668ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:12:08.7522447+02:00 0HLI6B9C4TCMU:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:12:08.7524279+02:00 0HLI6B9C4TCMU:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:12:08.7525854+02:00 0HLI6B9C4TCMU:00000001 [INF] Request finished in 0.3923ms 204  (791a596a)
2018-11-09T22:12:08.8969834+02:00 0HLI6B9C4TCMU:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:12:08.8972783+02:00 0HLI6B9C4TCMU:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:12:08.8986777+02:00 0HLI6B9C4TCMU:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:12:08.8987929+02:00 0HLI6B9C4TCMU:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:12:08.8989954+02:00 0HLI6B9C4TCMU:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:12:08.8995927+02:00 0HLI6B9C4TCMU:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:12:08.9001065+02:00 0HLI6B9C4TCMU:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:12:08.9025133+02:00 0HLI6B9C4TCMU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:12:08.9044120+02:00 0HLI6B9C4TCMU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:12:08.9045707+02:00 0HLI6B9C4TCMU:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8927ms. (50a9e262)
2018-11-09T22:12:08.9047388+02:00 0HLI6B9C4TCMU:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:12:08.9050775+02:00 0HLI6B9C4TCMU:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0071ms (afa2e885)
2018-11-09T22:12:08.9051825+02:00 0HLI6B9C4TCMU:00000002 [INF] Request finished in 8.3617ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:13:39.1781310+02:00 0HLI6B9C4TCMV:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:13:39.1783079+02:00 0HLI6B9C4TCMV:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:13:39.1785960+02:00 0HLI6B9C4TCMV:00000001 [INF] Request finished in 0.6114ms 204  (791a596a)
2018-11-09T22:13:39.2809397+02:00 0HLI6B9C4TCMV:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:13:39.2813538+02:00 0HLI6B9C4TCMV:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:13:39.2826070+02:00 0HLI6B9C4TCMV:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:13:39.2827183+02:00 0HLI6B9C4TCMV:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:13:39.2828577+02:00 0HLI6B9C4TCMV:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:13:39.2835864+02:00 0HLI6B9C4TCMV:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:13:39.2841679+02:00 0HLI6B9C4TCMV:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:13:39.2870553+02:00 0HLI6B9C4TCMV:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:13:39.2890780+02:00 0HLI6B9C4TCMV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:13:39.2894479+02:00 0HLI6B9C4TCMV:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7489ms. (50a9e262)
2018-11-09T22:13:39.2895943+02:00 0HLI6B9C4TCMV:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:13:39.2898355+02:00 0HLI6B9C4TCMV:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.915ms (afa2e885)
2018-11-09T22:13:39.2899461+02:00 0HLI6B9C4TCMV:00000002 [INF] Request finished in 9.075ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:14:19.0131414+02:00 0HLI6B9C4TCMV:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:14:19.0133060+02:00 0HLI6B9C4TCMV:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:14:19.0134181+02:00 0HLI6B9C4TCMV:00000003 [INF] Request finished in 0.3469ms 204  (791a596a)
2018-11-09T22:14:19.1775515+02:00 0HLI6B9C4TCMV:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:14:19.1777919+02:00 0HLI6B9C4TCMV:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:14:19.1789895+02:00 0HLI6B9C4TCMV:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:14:19.1791158+02:00 0HLI6B9C4TCMV:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:14:19.1792998+02:00 0HLI6B9C4TCMV:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:14:19.1796689+02:00 0HLI6B9C4TCMV:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:14:19.1804947+02:00 0HLI6B9C4TCMV:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:14:19.1830123+02:00 0HLI6B9C4TCMV:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:14:19.1850440+02:00 0HLI6B9C4TCMV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:14:19.1852205+02:00 0HLI6B9C4TCMV:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4683ms. (50a9e262)
2018-11-09T22:14:19.1853421+02:00 0HLI6B9C4TCMV:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:14:19.1858233+02:00 0HLI6B9C4TCMV:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.4456ms (afa2e885)
2018-11-09T22:14:19.1859441+02:00 0HLI6B9C4TCMV:00000004 [INF] Request finished in 8.4545ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:14:47.9116566+02:00 0HLI6B9C4TCMV:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:14:47.9118540+02:00 0HLI6B9C4TCMV:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:14:47.9120506+02:00 0HLI6B9C4TCMV:00000005 [INF] Request finished in 0.4772ms 204  (791a596a)
2018-11-09T22:14:48.1290341+02:00 0HLI6B9C4TCMV:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:14:48.1293716+02:00 0HLI6B9C4TCMV:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:14:48.1303158+02:00 0HLI6B9C4TCMV:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:14:48.1304239+02:00 0HLI6B9C4TCMV:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:14:48.1306718+02:00 0HLI6B9C4TCMV:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:14:48.1311554+02:00 0HLI6B9C4TCMV:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:14:48.1318403+02:00 0HLI6B9C4TCMV:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:14:48.1346359+02:00 0HLI6B9C4TCMV:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:14:48.1388082+02:00 0HLI6B9C4TCMV:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:14:48.1393016+02:00 0HLI6B9C4TCMV:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.0033ms. (50a9e262)
2018-11-09T22:14:48.1456711+02:00 0HLI6B9C4TCMV:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:14:48.1460445+02:00 0HLI6B9C4TCMV:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 15.2823ms (afa2e885)
2018-11-09T22:14:48.1461527+02:00 0HLI6B9C4TCMV:00000006 [INF] Request finished in 17.522ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:16:16.4042338+02:00 0HLI6B9C4TCN0:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:16:16.4043944+02:00 0HLI6B9C4TCN0:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:16:16.4045724+02:00 0HLI6B9C4TCN0:00000001 [INF] Request finished in 0.4365ms 204  (791a596a)
2018-11-09T22:16:16.5383575+02:00 0HLI6B9C4TCN0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:16:16.5385671+02:00 0HLI6B9C4TCN0:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:16:16.5412343+02:00 0HLI6B9C4TCN0:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:16:16.5413697+02:00 0HLI6B9C4TCN0:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:16:16.5415355+02:00 0HLI6B9C4TCN0:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:16:16.5420471+02:00 0HLI6B9C4TCN0:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:16:16.5426689+02:00 0HLI6B9C4TCN0:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:16:16.5456425+02:00 0HLI6B9C4TCN0:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:16:16.5477002+02:00 0HLI6B9C4TCN0:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:16:16.5480365+02:00 0HLI6B9C4TCN0:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.8914ms. (50a9e262)
2018-11-09T22:16:16.5482122+02:00 0HLI6B9C4TCN0:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:16:16.5486882+02:00 0HLI6B9C4TCN0:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.0457ms (afa2e885)
2018-11-09T22:16:16.5488197+02:00 0HLI6B9C4TCN0:00000002 [INF] Request finished in 10.5505ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:16:42.6411082+02:00 0HLI6B9C4TCN0:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:16:42.6413150+02:00 0HLI6B9C4TCN0:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:16:42.6414331+02:00 0HLI6B9C4TCN0:00000003 [INF] Request finished in 0.3856ms 204  (791a596a)
2018-11-09T22:16:42.7036992+02:00 0HLI6B9C4TCN0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:16:42.7043707+02:00 0HLI6B9C4TCN0:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:16:42.7201745+02:00 0HLI6B9C4TCN0:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:16:42.7203505+02:00 0HLI6B9C4TCN0:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:16:42.7205163+02:00 0HLI6B9C4TCN0:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:16:42.7213575+02:00 0HLI6B9C4TCN0:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:16:42.7220286+02:00 0HLI6B9C4TCN0:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:16:42.7244184+02:00 0HLI6B9C4TCN0:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:16:42.7267090+02:00 0HLI6B9C4TCN0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:16:42.7268772+02:00 0HLI6B9C4TCN0:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4312ms. (50a9e262)
2018-11-09T22:16:42.7418843+02:00 0HLI6B9C4TCN0:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:16:42.7423746+02:00 0HLI6B9C4TCN0:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 21.7422ms (afa2e885)
2018-11-09T22:16:42.7424875+02:00 0HLI6B9C4TCN0:00000004 [INF] Request finished in 38.894ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:21:08.7469974+02:00 0HLI6B9C4TCN1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:21:08.7471830+02:00 0HLI6B9C4TCN1:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:21:08.7473108+02:00 0HLI6B9C4TCN1:00000001 [INF] Request finished in 0.4843ms 204  (791a596a)
2018-11-09T22:21:08.7609846+02:00 0HLI6B9C4TCN1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:21:08.7615072+02:00 0HLI6B9C4TCN1:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:21:08.7627645+02:00 0HLI6B9C4TCN1:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:21:08.7628813+02:00 0HLI6B9C4TCN1:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:21:08.7630396+02:00 0HLI6B9C4TCN1:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:21:08.7636890+02:00 0HLI6B9C4TCN1:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:21:08.7643044+02:00 0HLI6B9C4TCN1:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:21:08.7671666+02:00 0HLI6B9C4TCN1:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:21:08.7690389+02:00 0HLI6B9C4TCN1:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:21:08.7692055+02:00 0HLI6B9C4TCN1:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4134ms. (50a9e262)
2018-11-09T22:21:08.7693255+02:00 0HLI6B9C4TCN1:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:21:08.7697040+02:00 0HLI6B9C4TCN1:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5909ms (afa2e885)
2018-11-09T22:21:08.7698548+02:00 0HLI6B9C4TCN1:00000002 [INF] Request finished in 8.9274ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:22:11.2390021+02:00 0HLI6B9C4TCN2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:22:11.2391600+02:00 0HLI6B9C4TCN2:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:22:11.2392674+02:00 0HLI6B9C4TCN2:00000001 [INF] Request finished in 0.3272ms 204  (791a596a)
2018-11-09T22:22:11.6375709+02:00 0HLI6B9C4TCN2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:22:11.6608451+02:00 0HLI6B9C4TCN2:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:22:11.6617325+02:00 0HLI6B9C4TCN2:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:22:11.6618494+02:00 0HLI6B9C4TCN2:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:22:11.6620168+02:00 0HLI6B9C4TCN2:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:22:11.6834317+02:00 0HLI6B9C4TCN2:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:22:11.6841443+02:00 0HLI6B9C4TCN2:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:22:11.6867819+02:00 0HLI6B9C4TCN2:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:22:11.6997160+02:00 0HLI6B9C4TCN2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:22:11.6998873+02:00 0HLI6B9C4TCN2:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.3722ms. (50a9e262)
2018-11-09T22:22:11.7000045+02:00 0HLI6B9C4TCN2:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:22:11.7004138+02:00 0HLI6B9C4TCN2:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 38.3145ms (afa2e885)
2018-11-09T22:22:11.7005185+02:00 0HLI6B9C4TCN2:00000002 [INF] Request finished in 63.011ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:23:07.2673429+02:00 0HLI6B9C4TCN2:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:23:07.2675205+02:00 0HLI6B9C4TCN2:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:23:07.2676342+02:00 0HLI6B9C4TCN2:00000003 [INF] Request finished in 0.375ms 204  (791a596a)
2018-11-09T22:23:07.4360414+02:00 0HLI6B9C4TCN2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:23:07.4361910+02:00 0HLI6B9C4TCN2:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:23:07.4371704+02:00 0HLI6B9C4TCN2:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:23:07.4373745+02:00 0HLI6B9C4TCN2:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:23:07.4375166+02:00 0HLI6B9C4TCN2:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:23:07.4381920+02:00 0HLI6B9C4TCN2:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:23:07.4388958+02:00 0HLI6B9C4TCN2:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:23:07.4414995+02:00 0HLI6B9C4TCN2:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:23:07.4434570+02:00 0HLI6B9C4TCN2:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:23:07.4436295+02:00 0HLI6B9C4TCN2:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3447ms. (50a9e262)
2018-11-09T22:23:07.4437622+02:00 0HLI6B9C4TCN2:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:23:07.4442177+02:00 0HLI6B9C4TCN2:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.6268ms (afa2e885)
2018-11-09T22:23:07.4443306+02:00 0HLI6B9C4TCN2:00000004 [INF] Request finished in 8.3515ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:24:51.8803052+02:00 0HLI6B9C4TCN3:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:24:51.8805065+02:00 0HLI6B9C4TCN3:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:24:51.8806293+02:00 0HLI6B9C4TCN3:00000001 [INF] Request finished in 0.429ms 204  (791a596a)
2018-11-09T22:24:52.0735736+02:00 0HLI6B9C4TCN3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:24:52.0753053+02:00 0HLI6B9C4TCN3:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:24:52.0764193+02:00 0HLI6B9C4TCN3:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:24:52.0765523+02:00 0HLI6B9C4TCN3:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:24:52.0767169+02:00 0HLI6B9C4TCN3:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:24:52.0773529+02:00 0HLI6B9C4TCN3:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:24:52.0779284+02:00 0HLI6B9C4TCN3:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:24:52.0847901+02:00 0HLI6B9C4TCN3:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:24:52.0870749+02:00 0HLI6B9C4TCN3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:24:52.0872387+02:00 0HLI6B9C4TCN3:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.8013ms. (50a9e262)
2018-11-09T22:24:52.0874637+02:00 0HLI6B9C4TCN3:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:24:52.0879326+02:00 0HLI6B9C4TCN3:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 11.1505ms (afa2e885)
2018-11-09T22:24:52.0883463+02:00 0HLI6B9C4TCN3:00000002 [INF] Request finished in 14.8161ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:26:03.5318641+02:00 0HLI6B9C4TCN4:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:26:03.5321416+02:00 0HLI6B9C4TCN4:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:26:03.5323982+02:00 0HLI6B9C4TCN4:00000001 [INF] Request finished in 2.083ms 204  (791a596a)
2018-11-09T22:26:03.8229223+02:00 0HLI6B9C4TCN4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:26:03.8230826+02:00 0HLI6B9C4TCN4:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:26:03.8240951+02:00 0HLI6B9C4TCN4:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:26:03.8241847+02:00 0HLI6B9C4TCN4:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:26:03.8244843+02:00 0HLI6B9C4TCN4:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:26:03.8249150+02:00 0HLI6B9C4TCN4:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:26:03.8280512+02:00 0HLI6B9C4TCN4:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:26:03.8307769+02:00 0HLI6B9C4TCN4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:26:03.8326618+02:00 0HLI6B9C4TCN4:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:26:03.8328173+02:00 0HLI6B9C4TCN4:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.8347ms. (50a9e262)
2018-11-09T22:26:03.8329401+02:00 0HLI6B9C4TCN4:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:26:03.8331722+02:00 0HLI6B9C4TCN4:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.6211ms (afa2e885)
2018-11-09T22:26:03.8332705+02:00 0HLI6B9C4TCN4:00000002 [INF] Request finished in 10.4183ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:27:24.7733629+02:00 0HLI6B9C4TCN5:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:27:24.7736806+02:00 0HLI6B9C4TCN5:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:27:24.7739424+02:00 0HLI6B9C4TCN5:00000001 [INF] Request finished in 0.7547ms 204  (791a596a)
2018-11-09T22:27:25.0700884+02:00 0HLI6B9C4TCN5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:27:25.0706525+02:00 0HLI6B9C4TCN5:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:27:25.0718395+02:00 0HLI6B9C4TCN5:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:27:25.0719646+02:00 0HLI6B9C4TCN5:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:27:25.0721245+02:00 0HLI6B9C4TCN5:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:27:25.0726254+02:00 0HLI6B9C4TCN5:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:27:25.0733301+02:00 0HLI6B9C4TCN5:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:27:25.0762961+02:00 0HLI6B9C4TCN5:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:27:25.0782410+02:00 0HLI6B9C4TCN5:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:27:25.0784313+02:00 0HLI6B9C4TCN5:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6976ms. (50a9e262)
2018-11-09T22:27:25.0785639+02:00 0HLI6B9C4TCN5:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:27:25.0787858+02:00 0HLI6B9C4TCN5:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5901ms (afa2e885)
2018-11-09T22:27:25.0788923+02:00 0HLI6B9C4TCN5:00000002 [INF] Request finished in 8.8772ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:28:31.1384625+02:00 0HLI6B9C4TCN6:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:28:31.1388453+02:00 0HLI6B9C4TCN6:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:28:31.1389717+02:00 0HLI6B9C4TCN6:00000001 [INF] Request finished in 0.615ms 204  (791a596a)
2018-11-09T22:28:31.3822666+02:00 0HLI6B9C4TCN6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:28:31.3827264+02:00 0HLI6B9C4TCN6:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:28:31.3845469+02:00 0HLI6B9C4TCN6:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:28:31.3847040+02:00 0HLI6B9C4TCN6:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:28:31.3850182+02:00 0HLI6B9C4TCN6:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:28:31.3856790+02:00 0HLI6B9C4TCN6:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:28:31.3863801+02:00 0HLI6B9C4TCN6:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:28:31.3888271+02:00 0HLI6B9C4TCN6:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:28:31.3907100+02:00 0HLI6B9C4TCN6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:28:31.3908762+02:00 0HLI6B9C4TCN6:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1106ms. (50a9e262)
2018-11-09T22:28:31.3909895+02:00 0HLI6B9C4TCN6:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:28:31.3912224+02:00 0HLI6B9C4TCN6:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0872ms (afa2e885)
2018-11-09T22:28:31.3913270+02:00 0HLI6B9C4TCN6:00000002 [INF] Request finished in 9.1516ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:30:55.8935380+02:00 0HLI6B9C4TCN7:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:30:55.8937177+02:00 0HLI6B9C4TCN7:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:30:55.8938266+02:00 0HLI6B9C4TCN7:00000001 [INF] Request finished in 0.3911ms 204  (791a596a)
2018-11-09T22:30:56.1745428+02:00 0HLI6B9C4TCN7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:30:56.1748349+02:00 0HLI6B9C4TCN7:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:30:56.1764368+02:00 0HLI6B9C4TCN7:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:30:56.1765572+02:00 0HLI6B9C4TCN7:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:30:56.1767174+02:00 0HLI6B9C4TCN7:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:30:56.1771892+02:00 0HLI6B9C4TCN7:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:30:56.1777971+02:00 0HLI6B9C4TCN7:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:30:56.1805112+02:00 0HLI6B9C4TCN7:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:30:56.1825323+02:00 0HLI6B9C4TCN7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:30:56.1827001+02:00 0HLI6B9C4TCN7:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4296ms. (50a9e262)
2018-11-09T22:30:56.1828185+02:00 0HLI6B9C4TCN7:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:30:56.1830471+02:00 0HLI6B9C4TCN7:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2633ms (afa2e885)
2018-11-09T22:30:56.1831557+02:00 0HLI6B9C4TCN7:00000002 [INF] Request finished in 8.8188ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:31:10.5502451+02:00 0HLI6B9C4TCN7:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:31:10.5504819+02:00 0HLI6B9C4TCN7:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:31:10.5506023+02:00 0HLI6B9C4TCN7:00000003 [INF] Request finished in 0.4227ms 204  (791a596a)
2018-11-09T22:31:10.9402382+02:00 0HLI6B9C4TCN7:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:31:10.9406009+02:00 0HLI6B9C4TCN7:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:31:10.9426784+02:00 0HLI6B9C4TCN7:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:31:10.9428734+02:00 0HLI6B9C4TCN7:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:31:10.9430538+02:00 0HLI6B9C4TCN7:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:31:10.9436175+02:00 0HLI6B9C4TCN7:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:31:10.9444977+02:00 0HLI6B9C4TCN7:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:31:10.9476979+02:00 0HLI6B9C4TCN7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:31:10.9504488+02:00 0HLI6B9C4TCN7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:31:10.9506261+02:00 0HLI6B9C4TCN7:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.9103ms. (50a9e262)
2018-11-09T22:31:10.9507516+02:00 0HLI6B9C4TCN7:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:31:10.9509751+02:00 0HLI6B9C4TCN7:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.8383ms (afa2e885)
2018-11-09T22:31:10.9510817+02:00 0HLI6B9C4TCN7:00000004 [INF] Request finished in 11.1794ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:31:41.9010666+02:00 0HLI6B9C4TCN7:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:31:41.9012355+02:00 0HLI6B9C4TCN7:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:31:41.9013484+02:00 0HLI6B9C4TCN7:00000005 [INF] Request finished in 0.4373ms 204  (791a596a)
2018-11-09T22:31:42.2274209+02:00 0HLI6B9C4TCN7:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:31:42.2278776+02:00 0HLI6B9C4TCN7:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:31:42.2287902+02:00 0HLI6B9C4TCN7:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:31:42.2289284+02:00 0HLI6B9C4TCN7:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:31:42.2290725+02:00 0HLI6B9C4TCN7:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:31:42.2294337+02:00 0HLI6B9C4TCN7:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:31:42.2300230+02:00 0HLI6B9C4TCN7:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:31:42.2320899+02:00 0HLI6B9C4TCN7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:31:42.2336811+02:00 0HLI6B9C4TCN7:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:31:42.2338295+02:00 0HLI6B9C4TCN7:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.3176ms. (50a9e262)
2018-11-09T22:31:42.2339388+02:00 0HLI6B9C4TCN7:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:31:42.2341433+02:00 0HLI6B9C4TCN7:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.0104ms (afa2e885)
2018-11-09T22:31:42.2342388+02:00 0HLI6B9C4TCN7:00000006 [INF] Request finished in 6.9126ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:32:17.3434557+02:00 0HLI6B9C4TCN7:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:32:17.3436247+02:00 0HLI6B9C4TCN7:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T22:32:17.3437352+02:00 0HLI6B9C4TCN7:00000007 [INF] Request finished in 0.3655ms 204  (791a596a)
2018-11-09T22:32:17.5868323+02:00 0HLI6B9C4TCN7:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:32:17.5869874+02:00 0HLI6B9C4TCN7:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T22:32:17.5877793+02:00 0HLI6B9C4TCN7:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:32:17.5878820+02:00 0HLI6B9C4TCN7:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:32:17.5881153+02:00 0HLI6B9C4TCN7:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:32:17.5884819+02:00 0HLI6B9C4TCN7:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:32:17.5888916+02:00 0HLI6B9C4TCN7:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:32:17.6151765+02:00 0HLI6B9C4TCN7:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:32:17.6318428+02:00 0HLI6B9C4TCN7:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:32:17.6320532+02:00 0HLI6B9C4TCN7:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.4687ms. (50a9e262)
2018-11-09T22:32:17.6322005+02:00 0HLI6B9C4TCN7:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:32:17.6323793+02:00 0HLI6B9C4TCN7:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 44.1969ms (afa2e885)
2018-11-09T22:32:17.6324815+02:00 0HLI6B9C4TCN7:00000008 [INF] Request finished in 45.7041ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:32:34.0956422+02:00 0HLI6B9C4TCN7:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:32:34.0958834+02:00 0HLI6B9C4TCN7:00000009 [INF] Policy execution successful. (0204925d)
2018-11-09T22:32:34.0960884+02:00 0HLI6B9C4TCN7:00000009 [INF] Request finished in 0.5328ms 204  (791a596a)
2018-11-09T22:32:34.3079994+02:00 0HLI6B9C4TCN7:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:32:34.3084676+02:00 0HLI6B9C4TCN7:0000000A [INF] Policy execution successful. (0204925d)
2018-11-09T22:32:34.3098054+02:00 0HLI6B9C4TCN7:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:32:34.3099341+02:00 0HLI6B9C4TCN7:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:32:34.3101398+02:00 0HLI6B9C4TCN7:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:32:34.3105531+02:00 0HLI6B9C4TCN7:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:32:34.3111818+02:00 0HLI6B9C4TCN7:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:32:34.3136347+02:00 0HLI6B9C4TCN7:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:32:34.3152875+02:00 0HLI6B9C4TCN7:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:32:34.3154237+02:00 0HLI6B9C4TCN7:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8012ms. (50a9e262)
2018-11-09T22:32:34.3155378+02:00 0HLI6B9C4TCN7:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:32:34.3157190+02:00 0HLI6B9C4TCN7:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5172ms (afa2e885)
2018-11-09T22:32:34.3158042+02:00 0HLI6B9C4TCN7:0000000A [INF] Request finished in 7.8896ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:33:50.4797501+02:00 0HLI6B9C4TCN8:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:33:50.4799463+02:00 0HLI6B9C4TCN8:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:33:50.4801303+02:00 0HLI6B9C4TCN8:00000001 [INF] Request finished in 0.6761ms 204  (791a596a)
2018-11-09T22:33:50.7463003+02:00 0HLI6B9C4TCN8:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:33:50.7464740+02:00 0HLI6B9C4TCN8:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:33:50.7478761+02:00 0HLI6B9C4TCN8:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:33:50.7479972+02:00 0HLI6B9C4TCN8:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:33:50.7481650+02:00 0HLI6B9C4TCN8:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:33:50.7486668+02:00 0HLI6B9C4TCN8:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:33:50.7504182+02:00 0HLI6B9C4TCN8:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:33:50.7539839+02:00 0HLI6B9C4TCN8:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:33:50.7559817+02:00 0HLI6B9C4TCN8:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:33:50.7561660+02:00 0HLI6B9C4TCN8:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.41ms. (50a9e262)
2018-11-09T22:33:50.7562908+02:00 0HLI6B9C4TCN8:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:33:50.7565225+02:00 0HLI6B9C4TCN8:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.2812ms (afa2e885)
2018-11-09T22:33:50.7566271+02:00 0HLI6B9C4TCN8:00000002 [INF] Request finished in 10.4215ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:34:06.5819845+02:00 0HLI6B9C4TCN8:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:34:06.5821543+02:00 0HLI6B9C4TCN8:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:34:06.5823493+02:00 0HLI6B9C4TCN8:00000003 [INF] Request finished in 0.4184ms 204  (791a596a)
2018-11-09T22:34:06.7987185+02:00 0HLI6B9C4TCN8:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:34:06.7992009+02:00 0HLI6B9C4TCN8:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:34:06.7999446+02:00 0HLI6B9C4TCN8:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:34:06.8000666+02:00 0HLI6B9C4TCN8:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:34:06.8004526+02:00 0HLI6B9C4TCN8:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:34:06.8008399+02:00 0HLI6B9C4TCN8:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:34:06.8012986+02:00 0HLI6B9C4TCN8:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:34:06.8035462+02:00 0HLI6B9C4TCN8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:34:06.8054520+02:00 0HLI6B9C4TCN8:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:34:06.8056276+02:00 0HLI6B9C4TCN8:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.71ms. (50a9e262)
2018-11-09T22:34:06.8057362+02:00 0HLI6B9C4TCN8:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:34:06.8059028+02:00 0HLI6B9C4TCN8:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.3277ms (afa2e885)
2018-11-09T22:34:06.8060011+02:00 0HLI6B9C4TCN8:00000004 [INF] Request finished in 7.3666ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:35:04.0727778+02:00 0HLI6B9C4TCN8:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:35:04.0730873+02:00 0HLI6B9C4TCN8:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:35:04.0732093+02:00 0HLI6B9C4TCN8:00000005 [INF] Request finished in 1.2102ms 204  (791a596a)
2018-11-09T22:35:04.4627029+02:00 0HLI6B9C4TCN8:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:35:04.4630728+02:00 0HLI6B9C4TCN8:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:35:04.4641118+02:00 0HLI6B9C4TCN8:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:35:04.4642156+02:00 0HLI6B9C4TCN8:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:35:04.4643672+02:00 0HLI6B9C4TCN8:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:35:04.4647856+02:00 0HLI6B9C4TCN8:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:35:04.4652439+02:00 0HLI6B9C4TCN8:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:35:04.4675974+02:00 0HLI6B9C4TCN8:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:35:04.4694929+02:00 0HLI6B9C4TCN8:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:35:04.4696618+02:00 0HLI6B9C4TCN8:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8ms. (50a9e262)
2018-11-09T22:35:04.4697759+02:00 0HLI6B9C4TCN8:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:35:04.4700021+02:00 0HLI6B9C4TCN8:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5626ms (afa2e885)
2018-11-09T22:35:04.4701071+02:00 0HLI6B9C4TCN8:00000006 [INF] Request finished in 7.4704ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:35:42.2125637+02:00 0HLI6B9C4TCN8:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:35:42.2127228+02:00 0HLI6B9C4TCN8:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T22:35:42.2128412+02:00 0HLI6B9C4TCN8:00000007 [INF] Request finished in 0.3785ms 204  (791a596a)
2018-11-09T22:35:42.4255237+02:00 0HLI6B9C4TCN8:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:35:42.4256662+02:00 0HLI6B9C4TCN8:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T22:35:42.4267110+02:00 0HLI6B9C4TCN8:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:35:42.4268535+02:00 0HLI6B9C4TCN8:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:35:42.4269952+02:00 0HLI6B9C4TCN8:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:35:42.4276860+02:00 0HLI6B9C4TCN8:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:35:42.4287692+02:00 0HLI6B9C4TCN8:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:35:42.4310674+02:00 0HLI6B9C4TCN8:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:35:42.4329009+02:00 0HLI6B9C4TCN8:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:35:42.4331318+02:00 0HLI6B9C4TCN8:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2259ms. (50a9e262)
2018-11-09T22:35:42.4332506+02:00 0HLI6B9C4TCN8:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:35:42.4335554+02:00 0HLI6B9C4TCN8:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.491ms (afa2e885)
2018-11-09T22:35:42.4336959+02:00 0HLI6B9C4TCN8:00000008 [INF] Request finished in 8.2611ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:36:09.3667382+02:00 0HLI6B9C4TCN8:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:36:09.3668981+02:00 0HLI6B9C4TCN8:00000009 [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:09.3670086+02:00 0HLI6B9C4TCN8:00000009 [INF] Request finished in 0.3331ms 204  (791a596a)
2018-11-09T22:36:09.5851235+02:00 0HLI6B9C4TCN8:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:36:09.5857578+02:00 0HLI6B9C4TCN8:0000000A [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:09.5867518+02:00 0HLI6B9C4TCN8:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:36:09.5868864+02:00 0HLI6B9C4TCN8:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:36:09.5870258+02:00 0HLI6B9C4TCN8:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:36:09.5873948+02:00 0HLI6B9C4TCN8:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:36:09.5878767+02:00 0HLI6B9C4TCN8:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:36:09.5902247+02:00 0HLI6B9C4TCN8:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:36:09.5921443+02:00 0HLI6B9C4TCN8:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:36:09.5923255+02:00 0HLI6B9C4TCN8:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8592ms. (50a9e262)
2018-11-09T22:36:09.5924365+02:00 0HLI6B9C4TCN8:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:36:09.5926453+02:00 0HLI6B9C4TCN8:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5492ms (afa2e885)
2018-11-09T22:36:09.5927432+02:00 0HLI6B9C4TCN8:0000000A [INF] Request finished in 8.1245ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:36:24.7261781+02:00 0HLI6B9C4TCN8:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:36:24.7266221+02:00 0HLI6B9C4TCN8:0000000B [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:24.7267555+02:00 0HLI6B9C4TCN8:0000000B [INF] Request finished in 0.6592ms 204  (791a596a)
2018-11-09T22:36:24.9175769+02:00 0HLI6B9C4TCN8:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:36:24.9177099+02:00 0HLI6B9C4TCN8:0000000C [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:24.9184461+02:00 0HLI6B9C4TCN8:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:36:24.9185440+02:00 0HLI6B9C4TCN8:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:36:24.9187039+02:00 0HLI6B9C4TCN8:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:36:24.9190521+02:00 0HLI6B9C4TCN8:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:36:24.9194642+02:00 0HLI6B9C4TCN8:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:36:24.9217821+02:00 0HLI6B9C4TCN8:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:36:24.9236646+02:00 0HLI6B9C4TCN8:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:36:24.9238963+02:00 0HLI6B9C4TCN8:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7096ms. (50a9e262)
2018-11-09T22:36:24.9240100+02:00 0HLI6B9C4TCN8:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:36:24.9242871+02:00 0HLI6B9C4TCN8:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5121ms (afa2e885)
2018-11-09T22:36:24.9244059+02:00 0HLI6B9C4TCN8:0000000C [INF] Request finished in 6.881ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:36:47.4891714+02:00 0HLI6B9C4TCN8:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:36:47.4893317+02:00 0HLI6B9C4TCN8:0000000D [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:47.4894465+02:00 0HLI6B9C4TCN8:0000000D [INF] Request finished in 0.3643ms 204  (791a596a)
2018-11-09T22:36:47.6949202+02:00 0HLI6B9C4TCN8:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:36:47.6952341+02:00 0HLI6B9C4TCN8:0000000E [INF] Policy execution successful. (0204925d)
2018-11-09T22:36:47.6964167+02:00 0HLI6B9C4TCN8:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:36:47.6965529+02:00 0HLI6B9C4TCN8:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:36:47.6966816+02:00 0HLI6B9C4TCN8:0000000E [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:36:47.6971379+02:00 0HLI6B9C4TCN8:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:36:47.6976167+02:00 0HLI6B9C4TCN8:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:36:47.7000424+02:00 0HLI6B9C4TCN8:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:36:47.7019707+02:00 0HLI6B9C4TCN8:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:36:47.7021404+02:00 0HLI6B9C4TCN8:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9192ms. (50a9e262)
2018-11-09T22:36:47.7022623+02:00 0HLI6B9C4TCN8:0000000E [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:36:47.7024747+02:00 0HLI6B9C4TCN8:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7272ms (afa2e885)
2018-11-09T22:36:47.7025884+02:00 0HLI6B9C4TCN8:0000000E [INF] Request finished in 7.7388ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:37:18.5891901+02:00 0HLI6B9C4TCN8:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:37:18.5896424+02:00 0HLI6B9C4TCN8:0000000F [INF] Policy execution successful. (0204925d)
2018-11-09T22:37:18.5900305+02:00 0HLI6B9C4TCN8:0000000F [INF] Request finished in 1.0981ms 204  (791a596a)
2018-11-09T22:37:18.8291711+02:00 0HLI6B9C4TCN8:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:37:18.8294100+02:00 0HLI6B9C4TCN8:00000010 [INF] Policy execution successful. (0204925d)
2018-11-09T22:37:18.8302874+02:00 0HLI6B9C4TCN8:00000010 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:37:18.8304078+02:00 0HLI6B9C4TCN8:00000010 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:37:18.8305452+02:00 0HLI6B9C4TCN8:00000010 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:37:18.8309375+02:00 0HLI6B9C4TCN8:00000010 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:37:18.8314420+02:00 0HLI6B9C4TCN8:00000010 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:37:18.8337998+02:00 0HLI6B9C4TCN8:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:37:18.8360013+02:00 0HLI6B9C4TCN8:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:37:18.8362330+02:00 0HLI6B9C4TCN8:00000010 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2054ms. (50a9e262)
2018-11-09T22:37:18.8364138+02:00 0HLI6B9C4TCN8:00000010 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:37:18.8370260+02:00 0HLI6B9C4TCN8:00000010 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.392ms (afa2e885)
2018-11-09T22:37:18.8371598+02:00 0HLI6B9C4TCN8:00000010 [INF] Request finished in 8.882ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:37:54.7144105+02:00 0HLI6B9C4TCN8:00000011 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:37:54.7146817+02:00 0HLI6B9C4TCN8:00000011 [INF] Policy execution successful. (0204925d)
2018-11-09T22:37:54.7148009+02:00 0HLI6B9C4TCN8:00000011 [INF] Request finished in 0.4906ms 204  (791a596a)
2018-11-09T22:37:54.8858486+02:00 0HLI6B9C4TCN8:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:37:54.8863072+02:00 0HLI6B9C4TCN8:00000012 [INF] Policy execution successful. (0204925d)
2018-11-09T22:37:54.8878653+02:00 0HLI6B9C4TCN8:00000012 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:37:54.8879841+02:00 0HLI6B9C4TCN8:00000012 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:37:54.8881290+02:00 0HLI6B9C4TCN8:00000012 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:37:54.8888534+02:00 0HLI6B9C4TCN8:00000012 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:37:54.8917831+02:00 0HLI6B9C4TCN8:00000012 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:37:54.8947499+02:00 0HLI6B9C4TCN8:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:37:54.8969482+02:00 0HLI6B9C4TCN8:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:37:54.8971053+02:00 0HLI6B9C4TCN8:00000012 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.1691ms. (50a9e262)
2018-11-09T22:37:54.8972155+02:00 0HLI6B9C4TCN8:00000012 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:37:54.8974381+02:00 0HLI6B9C4TCN8:00000012 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 9.2444ms (afa2e885)
2018-11-09T22:37:54.8975301+02:00 0HLI6B9C4TCN8:00000012 [INF] Request finished in 11.7813ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:40:21.2342886+02:00 0HLI6B9C4TCN9:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:40:21.2345041+02:00 0HLI6B9C4TCN9:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:40:21.2346375+02:00 0HLI6B9C4TCN9:00000001 [INF] Request finished in 0.4488ms 204  (791a596a)
2018-11-09T22:40:21.4926471+02:00 0HLI6B9C4TCN9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:40:21.4928030+02:00 0HLI6B9C4TCN9:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:40:21.4941957+02:00 0HLI6B9C4TCN9:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:40:21.4943232+02:00 0HLI6B9C4TCN9:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:40:21.4944838+02:00 0HLI6B9C4TCN9:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:40:21.4949212+02:00 0HLI6B9C4TCN9:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:40:21.4954446+02:00 0HLI6B9C4TCN9:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:40:21.4978501+02:00 0HLI6B9C4TCN9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:40:21.4996904+02:00 0HLI6B9C4TCN9:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:40:21.4998653+02:00 0HLI6B9C4TCN9:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8687ms. (50a9e262)
2018-11-09T22:40:21.4999790+02:00 0HLI6B9C4TCN9:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:40:21.5002328+02:00 0HLI6B9C4TCN9:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.6767ms (afa2e885)
2018-11-09T22:40:21.5003513+02:00 0HLI6B9C4TCN9:00000002 [INF] Request finished in 7.7514ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:42:33.2975673+02:00 0HLI6B9C4TCNA:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:42:33.2977575+02:00 0HLI6B9C4TCNA:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:42:33.2978874+02:00 0HLI6B9C4TCNA:00000001 [INF] Request finished in 0.431ms 204  (791a596a)
2018-11-09T22:42:33.4024018+02:00 0HLI6B9C4TCNA:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:42:33.4026398+02:00 0HLI6B9C4TCNA:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:42:33.4035563+02:00 0HLI6B9C4TCNA:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:42:33.4036696+02:00 0HLI6B9C4TCNA:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:42:33.4038236+02:00 0HLI6B9C4TCNA:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:42:33.4042388+02:00 0HLI6B9C4TCNA:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:42:33.4047437+02:00 0HLI6B9C4TCNA:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:42:33.4082570+02:00 0HLI6B9C4TCNA:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:42:33.4110900+02:00 0HLI6B9C4TCNA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:42:33.4112818+02:00 0HLI6B9C4TCNA:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.9703ms. (50a9e262)
2018-11-09T22:42:33.4114014+02:00 0HLI6B9C4TCNA:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:42:33.4116699+02:00 0HLI6B9C4TCNA:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.7771ms (afa2e885)
2018-11-09T22:42:33.4117753+02:00 0HLI6B9C4TCNA:00000002 [INF] Request finished in 10.5711ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:44:32.1490770+02:00 0HLI6B9C4TCNB:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:44:32.1493131+02:00 0HLI6B9C4TCNB:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:44:32.1500027+02:00 0HLI6B9C4TCNB:00000001 [INF] Request finished in 1.0286ms 204  (791a596a)
2018-11-09T22:44:32.2156908+02:00 0HLI6B9C4TCNB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:44:32.2158321+02:00 0HLI6B9C4TCNB:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:44:32.2167515+02:00 0HLI6B9C4TCNB:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:44:32.2168439+02:00 0HLI6B9C4TCNB:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:44:32.2169864+02:00 0HLI6B9C4TCNB:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:44:32.2175939+02:00 0HLI6B9C4TCNB:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:44:32.2180751+02:00 0HLI6B9C4TCNB:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:44:32.2209136+02:00 0HLI6B9C4TCNB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:44:32.2234416+02:00 0HLI6B9C4TCNB:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:44:32.2236235+02:00 0HLI6B9C4TCNB:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9451ms. (50a9e262)
2018-11-09T22:44:32.2237412+02:00 0HLI6B9C4TCNB:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:44:32.2240135+02:00 0HLI6B9C4TCNB:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.9624ms (afa2e885)
2018-11-09T22:44:32.2241359+02:00 0HLI6B9C4TCNB:00000002 [INF] Request finished in 8.8232ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:44:47.5586211+02:00 0HLI6B9C4TCNB:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:44:47.5588362+02:00 0HLI6B9C4TCNB:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:44:47.5589614+02:00 0HLI6B9C4TCNB:00000003 [INF] Request finished in 0.3923ms 204  (791a596a)
2018-11-09T22:44:47.6618288+02:00 0HLI6B9C4TCNB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:44:47.6625208+02:00 0HLI6B9C4TCNB:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:44:47.6633801+02:00 0HLI6B9C4TCNB:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:44:47.6635021+02:00 0HLI6B9C4TCNB:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:44:47.6648912+02:00 0HLI6B9C4TCNB:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:44:47.6654155+02:00 0HLI6B9C4TCNB:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:44:47.6731397+02:00 0HLI6B9C4TCNB:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:44:47.6756956+02:00 0HLI6B9C4TCNB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:44:47.6775162+02:00 0HLI6B9C4TCNB:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:44:47.6776934+02:00 0HLI6B9C4TCNB:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 12.1816ms. (50a9e262)
2018-11-09T22:44:47.6778016+02:00 0HLI6B9C4TCNB:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:44:47.6779772+02:00 0HLI6B9C4TCNB:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 12.9967ms (afa2e885)
2018-11-09T22:44:47.6780794+02:00 0HLI6B9C4TCNB:00000004 [INF] Request finished in 22.4764ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:48:26.2770227+02:00 0HLI6B9C4TCNC:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:48:26.2772129+02:00 0HLI6B9C4TCNC:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:48:26.2773491+02:00 0HLI6B9C4TCNC:00000001 [INF] Request finished in 0.4061ms 204  (791a596a)
2018-11-09T22:48:26.4382314+02:00 0HLI6B9C4TCNC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:48:26.4384430+02:00 0HLI6B9C4TCNC:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:48:26.4394094+02:00 0HLI6B9C4TCNC:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:48:26.4395657+02:00 0HLI6B9C4TCNC:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:48:26.4397240+02:00 0HLI6B9C4TCNC:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:48:26.4402818+02:00 0HLI6B9C4TCNC:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:48:26.4408490+02:00 0HLI6B9C4TCNC:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:48:26.4434207+02:00 0HLI6B9C4TCNC:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:48:26.4453692+02:00 0HLI6B9C4TCNC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:48:26.4455267+02:00 0HLI6B9C4TCNC:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1572ms. (50a9e262)
2018-11-09T22:48:26.4456431+02:00 0HLI6B9C4TCNC:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:48:26.4458673+02:00 0HLI6B9C4TCNC:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0758ms (afa2e885)
2018-11-09T22:48:26.4459703+02:00 0HLI6B9C4TCNC:00000002 [INF] Request finished in 7.8371ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:49:14.8810880+02:00 0HLI6B9C4TCNC:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:49:14.8812578+02:00 0HLI6B9C4TCNC:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:49:14.8813707+02:00 0HLI6B9C4TCNC:00000003 [INF] Request finished in 0.3426ms 204  (791a596a)
2018-11-09T22:49:15.0304542+02:00 0HLI6B9C4TCNC:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:49:15.0306338+02:00 0HLI6B9C4TCNC:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:49:15.0316831+02:00 0HLI6B9C4TCNC:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:49:15.0318118+02:00 0HLI6B9C4TCNC:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:49:15.0319566+02:00 0HLI6B9C4TCNC:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:49:15.0325298+02:00 0HLI6B9C4TCNC:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:49:15.0329814+02:00 0HLI6B9C4TCNC:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:49:15.0353790+02:00 0HLI6B9C4TCNC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:49:15.0371530+02:00 0HLI6B9C4TCNC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:49:15.0373531+02:00 0HLI6B9C4TCNC:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7048ms. (50a9e262)
2018-11-09T22:49:15.0375655+02:00 0HLI6B9C4TCNC:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:49:15.0377313+02:00 0HLI6B9C4TCNC:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7138ms (afa2e885)
2018-11-09T22:49:15.0378390+02:00 0HLI6B9C4TCNC:00000004 [INF] Request finished in 7.4353ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:49:47.9301695+02:00 0HLI6B9C4TCNC:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:49:47.9303384+02:00 0HLI6B9C4TCNC:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:49:47.9304577+02:00 0HLI6B9C4TCNC:00000005 [INF] Request finished in 0.3536ms 204  (791a596a)
2018-11-09T22:49:48.1101059+02:00 0HLI6B9C4TCNC:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:49:48.1103112+02:00 0HLI6B9C4TCNC:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:49:48.1110952+02:00 0HLI6B9C4TCNC:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:49:48.1111986+02:00 0HLI6B9C4TCNC:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:49:48.1113241+02:00 0HLI6B9C4TCNC:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:49:48.1116873+02:00 0HLI6B9C4TCNC:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:49:48.1120951+02:00 0HLI6B9C4TCNC:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:49:48.1143494+02:00 0HLI6B9C4TCNC:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:49:48.1161360+02:00 0HLI6B9C4TCNC:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:49:48.1162955+02:00 0HLI6B9C4TCNC:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5379ms. (50a9e262)
2018-11-09T22:49:48.1164107+02:00 0HLI6B9C4TCNC:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:49:48.1166255+02:00 0HLI6B9C4TCNC:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2366ms (afa2e885)
2018-11-09T22:49:48.1167281+02:00 0HLI6B9C4TCNC:00000006 [INF] Request finished in 6.6758ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:51:06.2351108+02:00 0HLI6B9C4TCND:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:51:06.2353046+02:00 0HLI6B9C4TCND:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:06.2354377+02:00 0HLI6B9C4TCND:00000001 [INF] Request finished in 0.4227ms 204  (791a596a)
2018-11-09T22:51:06.3831705+02:00 0HLI6B9C4TCND:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:51:06.3833671+02:00 0HLI6B9C4TCND:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:06.3844375+02:00 0HLI6B9C4TCND:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:51:06.3846274+02:00 0HLI6B9C4TCND:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:51:06.3848043+02:00 0HLI6B9C4TCND:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:51:06.3852866+02:00 0HLI6B9C4TCND:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:51:06.3859167+02:00 0HLI6B9C4TCND:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:51:06.3883949+02:00 0HLI6B9C4TCND:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:51:06.3903053+02:00 0HLI6B9C4TCND:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:51:06.3904869+02:00 0HLI6B9C4TCND:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1134ms. (50a9e262)
2018-11-09T22:51:06.3906156+02:00 0HLI6B9C4TCND:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:51:06.3910218+02:00 0HLI6B9C4TCND:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1283ms (afa2e885)
2018-11-09T22:51:06.3911422+02:00 0HLI6B9C4TCND:00000002 [INF] Request finished in 8.0447ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:51:32.5250663+02:00 0HLI6B9C4TCND:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:51:32.5252329+02:00 0HLI6B9C4TCND:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:32.5254085+02:00 0HLI6B9C4TCND:00000003 [INF] Request finished in 0.3521ms 204  (791a596a)
2018-11-09T22:51:32.6743026+02:00 0HLI6B9C4TCND:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:51:32.6746528+02:00 0HLI6B9C4TCND:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:32.6761977+02:00 0HLI6B9C4TCND:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:51:32.6763414+02:00 0HLI6B9C4TCND:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:51:32.6765143+02:00 0HLI6B9C4TCND:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:51:32.6772260+02:00 0HLI6B9C4TCND:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:51:32.6782780+02:00 0HLI6B9C4TCND:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:51:32.6813211+02:00 0HLI6B9C4TCND:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:51:32.6845418+02:00 0HLI6B9C4TCND:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:51:32.6847912+02:00 0HLI6B9C4TCND:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.4416ms. (50a9e262)
2018-11-09T22:51:32.6849286+02:00 0HLI6B9C4TCND:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:51:32.6857213+02:00 0HLI6B9C4TCND:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.9921ms (afa2e885)
2018-11-09T22:51:32.6858440+02:00 0HLI6B9C4TCND:00000004 [INF] Request finished in 11.6594ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:51:53.0992723+02:00 0HLI6B9C4TCND:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:51:53.0994365+02:00 0HLI6B9C4TCND:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:53.0995561+02:00 0HLI6B9C4TCND:00000005 [INF] Request finished in 0.3864ms 204  (791a596a)
2018-11-09T22:51:53.2675521+02:00 0HLI6B9C4TCND:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:51:53.2677376+02:00 0HLI6B9C4TCND:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:51:53.2684738+02:00 0HLI6B9C4TCND:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:51:53.2685666+02:00 0HLI6B9C4TCND:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:51:53.2686984+02:00 0HLI6B9C4TCND:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:51:53.2690600+02:00 0HLI6B9C4TCND:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:51:53.2701570+02:00 0HLI6B9C4TCND:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:51:53.2731159+02:00 0HLI6B9C4TCND:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:51:53.2752531+02:00 0HLI6B9C4TCND:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:51:53.2754244+02:00 0HLI6B9C4TCND:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1117ms. (50a9e262)
2018-11-09T22:51:53.2755416+02:00 0HLI6B9C4TCND:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:51:53.2759711+02:00 0HLI6B9C4TCND:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.1834ms (afa2e885)
2018-11-09T22:51:53.2760813+02:00 0HLI6B9C4TCND:00000006 [INF] Request finished in 8.6195ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:52:36.6024348+02:00 0HLI6B9C4TCND:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:52:36.6026124+02:00 0HLI6B9C4TCND:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:36.6027135+02:00 0HLI6B9C4TCND:00000007 [INF] Request finished in 0.3619ms 204  (791a596a)
2018-11-09T22:52:36.7623299+02:00 0HLI6B9C4TCND:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:52:36.7625884+02:00 0HLI6B9C4TCND:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:36.7635990+02:00 0HLI6B9C4TCND:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:52:36.7637328+02:00 0HLI6B9C4TCND:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:52:36.7638840+02:00 0HLI6B9C4TCND:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:52:36.7643340+02:00 0HLI6B9C4TCND:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:52:36.7648693+02:00 0HLI6B9C4TCND:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:52:36.7675854+02:00 0HLI6B9C4TCND:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:52:36.7696018+02:00 0HLI6B9C4TCND:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:52:36.7697841+02:00 0HLI6B9C4TCND:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3581ms. (50a9e262)
2018-11-09T22:52:36.7699018+02:00 0HLI6B9C4TCND:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:52:36.7700810+02:00 0HLI6B9C4TCND:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1283ms (afa2e885)
2018-11-09T22:52:36.7701817+02:00 0HLI6B9C4TCND:00000008 [INF] Request finished in 8.3218ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:52:42.4789011+02:00 0HLI6B9C4TCND:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:52:42.4792785+02:00 0HLI6B9C4TCND:00000009 [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:42.4795765+02:00 0HLI6B9C4TCND:00000009 [INF] Request finished in 0.688ms 204  (791a596a)
2018-11-09T22:52:42.6149315+02:00 0HLI6B9C4TCND:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:52:42.6152161+02:00 0HLI6B9C4TCND:0000000A [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:42.6159866+02:00 0HLI6B9C4TCND:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:52:42.6161240+02:00 0HLI6B9C4TCND:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:52:42.6162881+02:00 0HLI6B9C4TCND:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:52:42.6833106+02:00 0HLI6B9C4TCND:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:52:42.6838762+02:00 0HLI6B9C4TCND:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:52:42.6860524+02:00 0HLI6B9C4TCND:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:52:42.6880684+02:00 0HLI6B9C4TCND:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:52:42.6882507+02:00 0HLI6B9C4TCND:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8327ms. (50a9e262)
2018-11-09T22:52:42.6883605+02:00 0HLI6B9C4TCND:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:52:42.6885551+02:00 0HLI6B9C4TCND:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 72.1848ms (afa2e885)
2018-11-09T22:52:42.6886688+02:00 0HLI6B9C4TCND:0000000A [INF] Request finished in 74.0132ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:52:55.9705667+02:00 0HLI6B9C4TCND:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:52:55.9708956+02:00 0HLI6B9C4TCND:0000000B [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:55.9710515+02:00 0HLI6B9C4TCND:0000000B [INF] Request finished in 0.5443ms 204  (791a596a)
2018-11-09T22:52:56.0717361+02:00 0HLI6B9C4TCND:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:52:56.0722860+02:00 0HLI6B9C4TCND:0000000C [INF] Policy execution successful. (0204925d)
2018-11-09T22:52:56.0733672+02:00 0HLI6B9C4TCND:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:52:56.0735049+02:00 0HLI6B9C4TCND:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:52:56.0736443+02:00 0HLI6B9C4TCND:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:52:56.0740493+02:00 0HLI6B9C4TCND:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:52:56.0750433+02:00 0HLI6B9C4TCND:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:52:56.0775470+02:00 0HLI6B9C4TCND:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:52:56.0798385+02:00 0HLI6B9C4TCND:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:52:56.0800295+02:00 0HLI6B9C4TCND:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9029ms. (50a9e262)
2018-11-09T22:52:56.0801499+02:00 0HLI6B9C4TCND:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:52:56.0806295+02:00 0HLI6B9C4TCND:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.8976ms (afa2e885)
2018-11-09T22:52:56.0807385+02:00 0HLI6B9C4TCND:0000000C [INF] Request finished in 9.0829ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:54:10.2862173+02:00 0HLI6B9C4TCNE:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:54:10.2863993+02:00 0HLI6B9C4TCNE:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:54:10.2865134+02:00 0HLI6B9C4TCNE:00000001 [INF] Request finished in 0.4117ms 204  (791a596a)
2018-11-09T22:54:10.4417573+02:00 0HLI6B9C4TCNE:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:54:10.4425921+02:00 0HLI6B9C4TCNE:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:54:10.4435198+02:00 0HLI6B9C4TCNE:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:54:10.4436347+02:00 0HLI6B9C4TCNE:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:54:10.4437863+02:00 0HLI6B9C4TCNE:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:54:10.4441976+02:00 0HLI6B9C4TCNE:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:54:10.4446733+02:00 0HLI6B9C4TCNE:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:54:10.4473811+02:00 0HLI6B9C4TCNE:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:54:10.4493766+02:00 0HLI6B9C4TCNE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:54:10.4495420+02:00 0HLI6B9C4TCNE:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2741ms. (50a9e262)
2018-11-09T22:54:10.4496667+02:00 0HLI6B9C4TCNE:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:54:10.4502470+02:00 0HLI6B9C4TCNE:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3722ms (afa2e885)
2018-11-09T22:54:10.4503520+02:00 0HLI6B9C4TCNE:00000002 [INF] Request finished in 8.7079ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:56:03.0874385+02:00 0HLI6B9C4TCNF:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:56:03.0876860+02:00 0HLI6B9C4TCNF:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:56:03.0878083+02:00 0HLI6B9C4TCNF:00000001 [INF] Request finished in 0.4764ms 204  (791a596a)
2018-11-09T22:56:03.2315183+02:00 0HLI6B9C4TCNF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:56:03.2317204+02:00 0HLI6B9C4TCNF:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:56:03.2330799+02:00 0HLI6B9C4TCNF:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:56:03.2331956+02:00 0HLI6B9C4TCNF:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:56:03.2333665+02:00 0HLI6B9C4TCNF:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:56:03.2337936+02:00 0HLI6B9C4TCNF:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:56:03.2343320+02:00 0HLI6B9C4TCNF:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:56:03.2369898+02:00 0HLI6B9C4TCNF:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:56:03.2390180+02:00 0HLI6B9C4TCNF:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:56:03.2392012+02:00 0HLI6B9C4TCNF:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3309ms. (50a9e262)
2018-11-09T22:56:03.2393534+02:00 0HLI6B9C4TCNF:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:56:03.2398303+02:00 0HLI6B9C4TCNF:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3067ms (afa2e885)
2018-11-09T22:56:03.2399487+02:00 0HLI6B9C4TCNF:00000002 [INF] Request finished in 8.5145ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:56:27.9621028+02:00 0HLI6B9C4TCNF:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:56:27.9622792+02:00 0HLI6B9C4TCNF:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:56:27.9623965+02:00 0HLI6B9C4TCNF:00000003 [INF] Request finished in 0.36ms 204  (791a596a)
2018-11-09T22:56:28.1090788+02:00 0HLI6B9C4TCNF:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:56:28.1094017+02:00 0HLI6B9C4TCNF:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:56:28.1114437+02:00 0HLI6B9C4TCNF:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:56:28.1115634+02:00 0HLI6B9C4TCNF:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:56:28.1117264+02:00 0HLI6B9C4TCNF:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:56:28.1122581+02:00 0HLI6B9C4TCNF:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:56:28.1133389+02:00 0HLI6B9C4TCNF:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:56:28.1169937+02:00 0HLI6B9C4TCNF:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:56:28.1189197+02:00 0HLI6B9C4TCNF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:56:28.1190859+02:00 0HLI6B9C4TCNF:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.7429ms. (50a9e262)
2018-11-09T22:56:28.1193500+02:00 0HLI6B9C4TCNF:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:56:28.1197600+02:00 0HLI6B9C4TCNF:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.9472ms (afa2e885)
2018-11-09T22:56:28.1198733+02:00 0HLI6B9C4TCNF:00000004 [INF] Request finished in 10.9611ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:57:13.3076241+02:00 0HLI6B9C4TCNF:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:57:13.3078321+02:00 0HLI6B9C4TCNF:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:57:13.3080512+02:00 0HLI6B9C4TCNF:00000005 [INF] Request finished in 0.5632ms 204  (791a596a)
2018-11-09T22:57:13.4279367+02:00 0HLI6B9C4TCNF:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:57:13.4281380+02:00 0HLI6B9C4TCNF:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:57:13.4292898+02:00 0HLI6B9C4TCNF:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:57:13.4294094+02:00 0HLI6B9C4TCNF:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:57:13.4295637+02:00 0HLI6B9C4TCNF:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:57:13.4300576+02:00 0HLI6B9C4TCNF:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:57:13.4308147+02:00 0HLI6B9C4TCNF:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:57:13.4330131+02:00 0HLI6B9C4TCNF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:57:13.4350791+02:00 0HLI6B9C4TCNF:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:57:13.4352405+02:00 0HLI6B9C4TCNF:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.115ms. (50a9e262)
2018-11-09T22:57:13.4353581+02:00 0HLI6B9C4TCNF:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:57:13.4357422+02:00 0HLI6B9C4TCNF:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1014ms (afa2e885)
2018-11-09T22:57:13.4358453+02:00 0HLI6B9C4TCNF:00000006 [INF] Request finished in 8.8634ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:58:34.7535232+02:00 0HLI6B9C4TCNG:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:58:34.7538087+02:00 0HLI6B9C4TCNG:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T22:58:34.7539192+02:00 0HLI6B9C4TCNG:00000001 [INF] Request finished in 0.4725ms 204  (791a596a)
2018-11-09T22:58:35.0169794+02:00 0HLI6B9C4TCNG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:58:35.0171164+02:00 0HLI6B9C4TCNG:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T22:58:35.0182248+02:00 0HLI6B9C4TCNG:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:58:35.0183287+02:00 0HLI6B9C4TCNG:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:58:35.0184846+02:00 0HLI6B9C4TCNG:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:58:35.0190396+02:00 0HLI6B9C4TCNG:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:58:35.0195661+02:00 0HLI6B9C4TCNG:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:58:35.0222417+02:00 0HLI6B9C4TCNG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:58:35.0240737+02:00 0HLI6B9C4TCNG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:58:35.0242399+02:00 0HLI6B9C4TCNG:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0933ms. (50a9e262)
2018-11-09T22:58:35.0244120+02:00 0HLI6B9C4TCNG:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:58:35.0247846+02:00 0HLI6B9C4TCNG:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2258ms (afa2e885)
2018-11-09T22:58:35.0248940+02:00 0HLI6B9C4TCNG:00000002 [INF] Request finished in 8.0447ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:59:04.5237814+02:00 0HLI6B9C4TCNG:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:59:04.5239752+02:00 0HLI6B9C4TCNG:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T22:59:04.5241134+02:00 0HLI6B9C4TCNG:00000003 [INF] Request finished in 0.3931ms 204  (791a596a)
2018-11-09T22:59:04.7962076+02:00 0HLI6B9C4TCNG:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:59:04.7963840+02:00 0HLI6B9C4TCNG:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T22:59:04.7977222+02:00 0HLI6B9C4TCNG:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:59:04.7978473+02:00 0HLI6B9C4TCNG:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:59:04.7980033+02:00 0HLI6B9C4TCNG:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:59:04.7996095+02:00 0HLI6B9C4TCNG:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:59:04.8003220+02:00 0HLI6B9C4TCNG:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:59:04.8027212+02:00 0HLI6B9C4TCNG:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:59:04.8048643+02:00 0HLI6B9C4TCNG:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:59:04.8050439+02:00 0HLI6B9C4TCNG:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3443ms. (50a9e262)
2018-11-09T22:59:04.8051666+02:00 0HLI6B9C4TCNG:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:59:04.8056754+02:00 0HLI6B9C4TCNG:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.5801ms (afa2e885)
2018-11-09T22:59:04.8057918+02:00 0HLI6B9C4TCNG:00000004 [INF] Request finished in 9.6521ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T22:59:31.9456133+02:00 0HLI6B9C4TCNG:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T22:59:31.9457878+02:00 0HLI6B9C4TCNG:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T22:59:31.9459279+02:00 0HLI6B9C4TCNG:00000005 [INF] Request finished in 0.4128ms 204  (791a596a)
2018-11-09T22:59:32.0515668+02:00 0HLI6B9C4TCNG:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T22:59:32.0518167+02:00 0HLI6B9C4TCNG:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T22:59:32.0525829+02:00 0HLI6B9C4TCNG:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T22:59:32.0526749+02:00 0HLI6B9C4TCNG:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T22:59:32.0528107+02:00 0HLI6B9C4TCNG:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T22:59:32.0534498+02:00 0HLI6B9C4TCNG:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T22:59:32.0539795+02:00 0HLI6B9C4TCNG:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T22:59:32.0561044+02:00 0HLI6B9C4TCNG:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T22:59:32.0579640+02:00 0HLI6B9C4TCNG:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T22:59:32.0581468+02:00 0HLI6B9C4TCNG:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5912ms. (50a9e262)
2018-11-09T22:59:32.0582644+02:00 0HLI6B9C4TCNG:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T22:59:32.0585376+02:00 0HLI6B9C4TCNG:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.653ms (afa2e885)
2018-11-09T22:59:32.0586390+02:00 0HLI6B9C4TCNG:00000006 [INF] Request finished in 8.2966ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:00:03.3848741+02:00 0HLI6B9C4TCNG:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:00:03.3850419+02:00 0HLI6B9C4TCNG:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T23:00:03.3851564+02:00 0HLI6B9C4TCNG:00000007 [INF] Request finished in 0.3659ms 204  (791a596a)
2018-11-09T23:00:03.5586570+02:00 0HLI6B9C4TCNG:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:00:03.5589195+02:00 0HLI6B9C4TCNG:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T23:00:03.5633303+02:00 0HLI6B9C4TCNG:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:00:03.5634669+02:00 0HLI6B9C4TCNG:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:00:03.5640093+02:00 0HLI6B9C4TCNG:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:00:03.5645481+02:00 0HLI6B9C4TCNG:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:00:03.5649882+02:00 0HLI6B9C4TCNG:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:00:03.5679863+02:00 0HLI6B9C4TCNG:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:00:03.5702442+02:00 0HLI6B9C4TCNG:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:00:03.5704557+02:00 0HLI6B9C4TCNG:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.831ms. (50a9e262)
2018-11-09T23:00:03.5705765+02:00 0HLI6B9C4TCNG:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:00:03.5709804+02:00 0HLI6B9C4TCNG:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.81ms (afa2e885)
2018-11-09T23:00:03.5711008+02:00 0HLI6B9C4TCNG:00000008 [INF] Request finished in 14.2043ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:01:28.2307841+02:00 0HLI6B9C4TCNH:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:01:28.2309507+02:00 0HLI6B9C4TCNH:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:01:28.2310837+02:00 0HLI6B9C4TCNH:00000001 [INF] Request finished in 0.3868ms 204  (791a596a)
2018-11-09T23:01:28.3737098+02:00 0HLI6B9C4TCNH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:01:28.3738936+02:00 0HLI6B9C4TCNH:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:01:28.3751647+02:00 0HLI6B9C4TCNH:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:01:28.3752863+02:00 0HLI6B9C4TCNH:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:01:28.3754829+02:00 0HLI6B9C4TCNH:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:01:28.3759929+02:00 0HLI6B9C4TCNH:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:01:28.3766004+02:00 0HLI6B9C4TCNH:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:01:28.3792728+02:00 0HLI6B9C4TCNH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:01:28.3812642+02:00 0HLI6B9C4TCNH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:01:28.3814328+02:00 0HLI6B9C4TCNH:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3506ms. (50a9e262)
2018-11-09T23:01:28.3815982+02:00 0HLI6B9C4TCNH:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:01:28.3822732+02:00 0HLI6B9C4TCNH:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.6939ms (afa2e885)
2018-11-09T23:01:28.3823916+02:00 0HLI6B9C4TCNH:00000002 [INF] Request finished in 8.7359ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:02:52.2334430+02:00 0HLI6B9C4TCNI:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:02:52.2336206+02:00 0HLI6B9C4TCNI:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:02:52.2337576+02:00 0HLI6B9C4TCNI:00000001 [INF] Request finished in 0.4022ms 204  (791a596a)
2018-11-09T23:02:52.3965075+02:00 0HLI6B9C4TCNI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:02:52.3967104+02:00 0HLI6B9C4TCNI:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:02:52.3976432+02:00 0HLI6B9C4TCNI:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:02:52.3977454+02:00 0HLI6B9C4TCNI:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:02:52.3980584+02:00 0HLI6B9C4TCNI:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:02:52.3984923+02:00 0HLI6B9C4TCNI:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:02:52.3989932+02:00 0HLI6B9C4TCNI:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:02:52.4016454+02:00 0HLI6B9C4TCNI:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:02:52.4035169+02:00 0HLI6B9C4TCNI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:02:52.4036807+02:00 0HLI6B9C4TCNI:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.117ms. (50a9e262)
2018-11-09T23:02:52.4037988+02:00 0HLI6B9C4TCNI:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:02:52.4041126+02:00 0HLI6B9C4TCNI:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9767ms (afa2e885)
2018-11-09T23:02:52.4042207+02:00 0HLI6B9C4TCNI:00000002 [INF] Request finished in 7.757ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:04:30.3806196+02:00 0HLI6B9C4TCNJ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:04:30.3807898+02:00 0HLI6B9C4TCNJ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:04:30.3809185+02:00 0HLI6B9C4TCNJ:00000001 [INF] Request finished in 0.459ms 204  (791a596a)
2018-11-09T23:04:30.5940723+02:00 0HLI6B9C4TCNJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:04:30.5944945+02:00 0HLI6B9C4TCNJ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:04:30.5956121+02:00 0HLI6B9C4TCNJ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:04:30.5957167+02:00 0HLI6B9C4TCNJ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:04:30.5959634+02:00 0HLI6B9C4TCNJ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:04:30.5963882+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:04:30.5969171+02:00 0HLI6B9C4TCNJ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:04:30.5993680+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:04:30.6012048+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:04:30.6013721+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9014ms. (50a9e262)
2018-11-09T23:04:30.6014977+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:04:30.6018075+02:00 0HLI6B9C4TCNJ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7616ms (afa2e885)
2018-11-09T23:04:30.6019173+02:00 0HLI6B9C4TCNJ:00000002 [INF] Request finished in 7.9275ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:05:39.6156231+02:00 0HLI6B9C4TCNK:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:05:39.6158011+02:00 0HLI6B9C4TCNK:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:05:39.6159381+02:00 0HLI6B9C4TCNK:00000001 [INF] Request finished in 0.4693ms 204  (791a596a)
2018-11-09T23:05:39.7748889+02:00 0HLI6B9C4TCNK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:05:39.7753488+02:00 0HLI6B9C4TCNK:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:05:39.7772364+02:00 0HLI6B9C4TCNK:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:05:39.7773734+02:00 0HLI6B9C4TCNK:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:05:39.7775281+02:00 0HLI6B9C4TCNK:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:05:39.7779931+02:00 0HLI6B9C4TCNK:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:05:39.7784948+02:00 0HLI6B9C4TCNK:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:05:39.7912359+02:00 0HLI6B9C4TCNK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:05:39.7931026+02:00 0HLI6B9C4TCNK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:05:39.7932838+02:00 0HLI6B9C4TCNK:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 15.1935ms. (50a9e262)
2018-11-09T23:05:39.7933975+02:00 0HLI6B9C4TCNK:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:05:39.7936158+02:00 0HLI6B9C4TCNK:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 16.0193ms (afa2e885)
2018-11-09T23:05:39.7937212+02:00 0HLI6B9C4TCNK:00000002 [INF] Request finished in 18.9301ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:06:29.3394207+02:00 0HLI6B9C4TCNK:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:06:29.3395963+02:00 0HLI6B9C4TCNK:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T23:06:29.3397191+02:00 0HLI6B9C4TCNK:00000003 [INF] Request finished in 0.3667ms 204  (791a596a)
2018-11-09T23:06:29.4934323+02:00 0HLI6B9C4TCNK:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:06:29.4936541+02:00 0HLI6B9C4TCNK:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T23:06:29.4946915+02:00 0HLI6B9C4TCNK:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:06:29.4947921+02:00 0HLI6B9C4TCNK:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:06:29.4949275+02:00 0HLI6B9C4TCNK:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:06:29.4953155+02:00 0HLI6B9C4TCNK:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:06:29.4957912+02:00 0HLI6B9C4TCNK:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:06:29.4987565+02:00 0HLI6B9C4TCNK:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:06:29.5006370+02:00 0HLI6B9C4TCNK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:06:29.5007933+02:00 0HLI6B9C4TCNK:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4031ms. (50a9e262)
2018-11-09T23:06:29.5008983+02:00 0HLI6B9C4TCNK:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:06:29.5010858+02:00 0HLI6B9C4TCNK:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0931ms (afa2e885)
2018-11-09T23:06:29.5011813+02:00 0HLI6B9C4TCNK:00000004 [INF] Request finished in 7.8347ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:09:37.3255543+02:00 0HLI6B9C4TCNL:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:09:37.3257832+02:00 0HLI6B9C4TCNL:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:09:37.3259115+02:00 0HLI6B9C4TCNL:00000001 [INF] Request finished in 0.4413ms 204  (791a596a)
2018-11-09T23:09:37.5659759+02:00 0HLI6B9C4TCNL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:09:37.5664042+02:00 0HLI6B9C4TCNL:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:09:37.5679207+02:00 0HLI6B9C4TCNL:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:09:37.5680968+02:00 0HLI6B9C4TCNL:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:09:37.5682641+02:00 0HLI6B9C4TCNL:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:09:37.5687651+02:00 0HLI6B9C4TCNL:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:09:37.5695672+02:00 0HLI6B9C4TCNL:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:09:37.5737735+02:00 0HLI6B9C4TCNL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:09:37.5764487+02:00 0HLI6B9C4TCNL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:09:37.5768375+02:00 0HLI6B9C4TCNL:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.8845ms. (50a9e262)
2018-11-09T23:09:37.5770523+02:00 0HLI6B9C4TCNL:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:09:37.5773333+02:00 0HLI6B9C4TCNL:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.9961ms (afa2e885)
2018-11-09T23:09:37.5774387+02:00 0HLI6B9C4TCNL:00000002 [INF] Request finished in 11.5623ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:09:43.2976470+02:00 0HLI6B9C4TCNL:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:09:43.2979348+02:00 0HLI6B9C4TCNL:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T23:09:43.2980603+02:00 0HLI6B9C4TCNL:00000003 [INF] Request finished in 0.5064ms 204  (791a596a)
2018-11-09T23:09:43.5303048+02:00 0HLI6B9C4TCNL:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:09:43.5306996+02:00 0HLI6B9C4TCNL:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T23:09:43.5315206+02:00 0HLI6B9C4TCNL:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:09:43.5316418+02:00 0HLI6B9C4TCNL:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:09:43.5317942+02:00 0HLI6B9C4TCNL:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:09:43.5321676+02:00 0HLI6B9C4TCNL:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:09:43.5326330+02:00 0HLI6B9C4TCNL:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:09:43.5352205+02:00 0HLI6B9C4TCNL:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:09:43.5371354+02:00 0HLI6B9C4TCNL:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:09:43.5372921+02:00 0HLI6B9C4TCNL:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0455ms. (50a9e262)
2018-11-09T23:09:43.5373987+02:00 0HLI6B9C4TCNL:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:09:43.5376012+02:00 0HLI6B9C4TCNL:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.747ms (afa2e885)
2018-11-09T23:09:43.5377011+02:00 0HLI6B9C4TCNL:00000004 [INF] Request finished in 7.4822ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:10:18.0199028+02:00 0HLI6B9C4TCNL:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:10:18.0200733+02:00 0HLI6B9C4TCNL:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T23:10:18.0201858+02:00 0HLI6B9C4TCNL:00000005 [INF] Request finished in 0.3548ms 204  (791a596a)
2018-11-09T23:10:18.2407343+02:00 0HLI6B9C4TCNL:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:10:18.2408925+02:00 0HLI6B9C4TCNL:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T23:10:18.2418620+02:00 0HLI6B9C4TCNL:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:10:18.2420148+02:00 0HLI6B9C4TCNL:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:10:18.2421510+02:00 0HLI6B9C4TCNL:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:10:18.2425375+02:00 0HLI6B9C4TCNL:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:10:18.2430340+02:00 0HLI6B9C4TCNL:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:10:18.2451775+02:00 0HLI6B9C4TCNL:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:10:18.2469143+02:00 0HLI6B9C4TCNL:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:10:18.2470840+02:00 0HLI6B9C4TCNL:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4443ms. (50a9e262)
2018-11-09T23:10:18.2472025+02:00 0HLI6B9C4TCNL:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:10:18.2474429+02:00 0HLI6B9C4TCNL:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2235ms (afa2e885)
2018-11-09T23:10:18.2475467+02:00 0HLI6B9C4TCNL:00000006 [INF] Request finished in 6.8534ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:11:30.7633688+02:00 0HLI6B9C4TCNM:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:11:30.7637813+02:00 0HLI6B9C4TCNM:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:11:30.7639653+02:00 0HLI6B9C4TCNM:00000001 [INF] Request finished in 0.7172ms 204  (791a596a)
2018-11-09T23:11:31.2584648+02:00 0HLI6B9C4TCNM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:11:31.2586519+02:00 0HLI6B9C4TCNM:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:11:31.2604839+02:00 0HLI6B9C4TCNM:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:11:31.2606157+02:00 0HLI6B9C4TCNM:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:11:31.2607949+02:00 0HLI6B9C4TCNM:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:11:31.2611913+02:00 0HLI6B9C4TCNM:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:11:31.2616519+02:00 0HLI6B9C4TCNM:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:11:31.2640985+02:00 0HLI6B9C4TCNM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:11:31.2660596+02:00 0HLI6B9C4TCNM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:11:31.2662392+02:00 0HLI6B9C4TCNM:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9768ms. (50a9e262)
2018-11-09T23:11:31.2663612+02:00 0HLI6B9C4TCNM:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:11:31.2666406+02:00 0HLI6B9C4TCNM:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7738ms (afa2e885)
2018-11-09T23:11:31.2667464+02:00 0HLI6B9C4TCNM:00000002 [INF] Request finished in 8.3653ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:11:49.1815309+02:00 0HLI6B9C4TCNM:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:11:49.1819261+02:00 0HLI6B9C4TCNM:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T23:11:49.1820756+02:00 0HLI6B9C4TCNM:00000003 [INF] Request finished in 0.6252ms 204  (791a596a)
2018-11-09T23:11:49.5085831+02:00 0HLI6B9C4TCNM:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:11:49.5089522+02:00 0HLI6B9C4TCNM:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T23:11:49.5096920+02:00 0HLI6B9C4TCNM:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:11:49.5097978+02:00 0HLI6B9C4TCNM:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:11:49.5099304+02:00 0HLI6B9C4TCNM:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:11:49.5102884+02:00 0HLI6B9C4TCNM:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:11:49.5107842+02:00 0HLI6B9C4TCNM:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:11:49.5131155+02:00 0HLI6B9C4TCNM:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:11:49.5150707+02:00 0HLI6B9C4TCNM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:11:49.5152349+02:00 0HLI6B9C4TCNM:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8683ms. (50a9e262)
2018-11-09T23:11:49.5153454+02:00 0HLI6B9C4TCNM:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:11:49.5155574+02:00 0HLI6B9C4TCNM:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5595ms (afa2e885)
2018-11-09T23:11:49.5156640+02:00 0HLI6B9C4TCNM:00000004 [INF] Request finished in 7.1546ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:17:37.7245585+02:00 0HLI6B9C4TCNN:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:17:37.7248380+02:00 0HLI6B9C4TCNN:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:17:37.7250558+02:00 0HLI6B9C4TCNN:00000001 [INF] Request finished in 0.7365ms 204  (791a596a)
2018-11-09T23:17:38.0882460+02:00 0HLI6B9C4TCNN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:17:38.0884197+02:00 0HLI6B9C4TCNN:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:17:38.0893493+02:00 0HLI6B9C4TCNN:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:17:38.0894903+02:00 0HLI6B9C4TCNN:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:17:38.0896427+02:00 0HLI6B9C4TCNN:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:17:38.0900907+02:00 0HLI6B9C4TCNN:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:17:38.0960442+02:00 0HLI6B9C4TCNN:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:17:38.5554332+02:00 0HLI6B9C4TCNN:00000002 [INF] Executed DbCommand ("323"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:17:38.5856489+02:00 0HLI6B9C4TCNN:00000002 [INF] Executed DbCommand ("29"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:17:38.5858522+02:00 0HLI6B9C4TCNN:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 495.6813ms. (50a9e262)
2018-11-09T23:17:38.5859726+02:00 0HLI6B9C4TCNN:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:17:38.5862529+02:00 0HLI6B9C4TCNN:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 496.5339ms (afa2e885)
2018-11-09T23:17:38.5863812+02:00 0HLI6B9C4TCNN:00000002 [INF] Request finished in 498.6963ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:18:00.7033052+02:00 0HLI6B9C4TCNN:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:18:00.7034943+02:00 0HLI6B9C4TCNN:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:00.7036250+02:00 0HLI6B9C4TCNN:00000003 [INF] Request finished in 0.3825ms 204  (791a596a)
2018-11-09T23:18:00.9906357+02:00 0HLI6B9C4TCNN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:18:00.9907845+02:00 0HLI6B9C4TCNN:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:00.9916668+02:00 0HLI6B9C4TCNN:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:18:00.9918326+02:00 0HLI6B9C4TCNN:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:18:00.9919711+02:00 0HLI6B9C4TCNN:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:18:00.9923572+02:00 0HLI6B9C4TCNN:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:18:00.9928486+02:00 0HLI6B9C4TCNN:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:18:00.9950859+02:00 0HLI6B9C4TCNN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:18:00.9970759+02:00 0HLI6B9C4TCNN:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:18:00.9972586+02:00 0HLI6B9C4TCNN:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8205ms. (50a9e262)
2018-11-09T23:18:00.9973699+02:00 0HLI6B9C4TCNN:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:18:01.0367081+02:00 0HLI6B9C4TCNN:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 44.5968ms (afa2e885)
2018-11-09T23:18:01.0369504+02:00 0HLI6B9C4TCNN:00000004 [INF] Request finished in 46.3652ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:18:19.5069055+02:00 0HLI6B9C4TCNN:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:18:19.5070938+02:00 0HLI6B9C4TCNN:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:19.5072169+02:00 0HLI6B9C4TCNN:00000005 [INF] Request finished in 0.3682ms 204  (791a596a)
2018-11-09T23:18:19.8688440+02:00 0HLI6B9C4TCNN:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:18:19.8690303+02:00 0HLI6B9C4TCNN:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:19.8698980+02:00 0HLI6B9C4TCNN:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:18:19.8699931+02:00 0HLI6B9C4TCNN:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:18:19.8701293+02:00 0HLI6B9C4TCNN:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:18:19.8704810+02:00 0HLI6B9C4TCNN:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:18:19.8709042+02:00 0HLI6B9C4TCNN:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:18:19.8730025+02:00 0HLI6B9C4TCNN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:18:19.8748819+02:00 0HLI6B9C4TCNN:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:18:19.8750418+02:00 0HLI6B9C4TCNN:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4862ms. (50a9e262)
2018-11-09T23:18:19.8751511+02:00 0HLI6B9C4TCNN:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:18:19.8753608+02:00 0HLI6B9C4TCNN:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.1671ms (afa2e885)
2018-11-09T23:18:19.8754614+02:00 0HLI6B9C4TCNN:00000006 [INF] Request finished in 6.7125ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:18:28.0043154+02:00 0HLI6B9C4TCNN:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:18:28.0045779+02:00 0HLI6B9C4TCNN:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:28.0046884+02:00 0HLI6B9C4TCNN:00000007 [INF] Request finished in 0.446ms 204  (791a596a)
2018-11-09T23:18:28.3436223+02:00 0HLI6B9C4TCNN:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:18:28.3439188+02:00 0HLI6B9C4TCNN:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T23:18:28.3458637+02:00 0HLI6B9C4TCNN:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:18:28.3459833+02:00 0HLI6B9C4TCNN:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:18:28.3461218+02:00 0HLI6B9C4TCNN:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:18:28.3464905+02:00 0HLI6B9C4TCNN:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:18:28.3469109+02:00 0HLI6B9C4TCNN:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:18:28.3493476+02:00 0HLI6B9C4TCNN:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:18:28.3513825+02:00 0HLI6B9C4TCNN:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:18:28.3515297+02:00 0HLI6B9C4TCNN:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9634ms. (50a9e262)
2018-11-09T23:18:28.3516237+02:00 0HLI6B9C4TCNN:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:18:28.3517757+02:00 0HLI6B9C4TCNN:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5902ms (afa2e885)
2018-11-09T23:18:28.3519052+02:00 0HLI6B9C4TCNN:00000008 [INF] Request finished in 8.402ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:19:01.2736520+02:00 0HLI6B9C4TCNN:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:19:01.2738115+02:00 0HLI6B9C4TCNN:00000009 [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:01.2739354+02:00 0HLI6B9C4TCNN:00000009 [INF] Request finished in 0.4006ms 204  (791a596a)
2018-11-09T23:19:01.5433700+02:00 0HLI6B9C4TCNN:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:19:01.5436013+02:00 0HLI6B9C4TCNN:0000000A [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:01.5444609+02:00 0HLI6B9C4TCNN:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:19:01.5445802+02:00 0HLI6B9C4TCNN:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:19:01.5447211+02:00 0HLI6B9C4TCNN:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:19:01.5451388+02:00 0HLI6B9C4TCNN:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:19:01.5456938+02:00 0HLI6B9C4TCNN:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:19:01.5597212+02:00 0HLI6B9C4TCNN:0000000A [INF] Executed DbCommand ("13"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:19:01.5617043+02:00 0HLI6B9C4TCNN:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:19:01.5618733+02:00 0HLI6B9C4TCNN:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 16.658ms. (50a9e262)
2018-11-09T23:19:01.5619929+02:00 0HLI6B9C4TCNN:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:19:01.5622337+02:00 0HLI6B9C4TCNN:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 17.4324ms (afa2e885)
2018-11-09T23:19:01.5623474+02:00 0HLI6B9C4TCNN:0000000A [INF] Request finished in 19.4918ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:19:34.1889148+02:00 0HLI6B9C4TCNN:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:19:34.1891055+02:00 0HLI6B9C4TCNN:0000000B [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:34.1893277+02:00 0HLI6B9C4TCNN:0000000B [INF] Request finished in 0.7259ms 204  (791a596a)
2018-11-09T23:19:34.5552902+02:00 0HLI6B9C4TCNN:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:19:34.5562210+02:00 0HLI6B9C4TCNN:0000000C [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:34.5570713+02:00 0HLI6B9C4TCNN:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:19:34.5572363+02:00 0HLI6B9C4TCNN:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:19:34.5573919+02:00 0HLI6B9C4TCNN:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:19:34.5579264+02:00 0HLI6B9C4TCNN:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:19:34.5586041+02:00 0HLI6B9C4TCNN:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:19:34.5760946+02:00 0HLI6B9C4TCNN:0000000C [INF] Executed DbCommand ("17"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:19:34.5779455+02:00 0HLI6B9C4TCNN:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:19:34.5781019+02:00 0HLI6B9C4TCNN:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 20.0977ms. (50a9e262)
2018-11-09T23:19:34.5782045+02:00 0HLI6B9C4TCNN:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:19:34.5784864+02:00 0HLI6B9C4TCNN:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 20.8927ms (afa2e885)
2018-11-09T23:19:34.5785914+02:00 0HLI6B9C4TCNN:0000000C [INF] Request finished in 23.378ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:19:46.9997553+02:00 0HLI6B9C4TCNN:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:19:47.0000175+02:00 0HLI6B9C4TCNN:0000000D [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:47.0001426+02:00 0HLI6B9C4TCNN:0000000D [INF] Request finished in 0.446ms 204  (791a596a)
2018-11-09T23:19:47.1858344+02:00 0HLI6B9C4TCNN:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:19:47.1862500+02:00 0HLI6B9C4TCNN:0000000E [INF] Policy execution successful. (0204925d)
2018-11-09T23:19:47.1874673+02:00 0HLI6B9C4TCNN:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:19:47.1875865+02:00 0HLI6B9C4TCNN:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:19:47.1877255+02:00 0HLI6B9C4TCNN:0000000E [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:19:47.1881171+02:00 0HLI6B9C4TCNN:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:19:47.1922263+02:00 0HLI6B9C4TCNN:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:19:47.1973359+02:00 0HLI6B9C4TCNN:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:19:47.1992270+02:00 0HLI6B9C4TCNN:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:19:47.1993924+02:00 0HLI6B9C4TCNN:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.1991ms. (50a9e262)
2018-11-09T23:19:47.1995057+02:00 0HLI6B9C4TCNN:0000000E [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:19:47.1997307+02:00 0HLI6B9C4TCNN:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 11.9408ms (afa2e885)
2018-11-09T23:19:47.1998349+02:00 0HLI6B9C4TCNN:0000000E [INF] Request finished in 14.0531ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:21:03.4280425+02:00 0HLI6B9C4TCNO:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:21:03.4282319+02:00 0HLI6B9C4TCNO:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:21:03.4283559+02:00 0HLI6B9C4TCNO:00000001 [INF] Request finished in 0.4373ms 204  (791a596a)
2018-11-09T23:21:03.5998784+02:00 0HLI6B9C4TCNO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:21:03.6002329+02:00 0HLI6B9C4TCNO:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:21:03.6014045+02:00 0HLI6B9C4TCNO:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:21:03.6015154+02:00 0HLI6B9C4TCNO:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:21:03.6016725+02:00 0HLI6B9C4TCNO:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:21:03.6020791+02:00 0HLI6B9C4TCNO:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:21:03.6029148+02:00 0HLI6B9C4TCNO:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:21:03.6054265+02:00 0HLI6B9C4TCNO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:21:03.6073982+02:00 0HLI6B9C4TCNO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:21:03.6076023+02:00 0HLI6B9C4TCNO:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4442ms. (50a9e262)
2018-11-09T23:21:03.6077527+02:00 0HLI6B9C4TCNO:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:21:03.6080684+02:00 0HLI6B9C4TCNO:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3118ms (afa2e885)
2018-11-09T23:21:03.6082488+02:00 0HLI6B9C4TCNO:00000002 [INF] Request finished in 8.5307ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:28:19.1823342+02:00 0HLI6B9C4TCNP:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:28:19.1826322+02:00 0HLI6B9C4TCNP:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:28:19.1827479+02:00 0HLI6B9C4TCNP:00000001 [INF] Request finished in 0.5309ms 204  (791a596a)
2018-11-09T23:28:19.2815357+02:00 0HLI6B9C4TCNP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:28:19.2817793+02:00 0HLI6B9C4TCNP:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:28:19.2826967+02:00 0HLI6B9C4TCNP:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:28:19.2827918+02:00 0HLI6B9C4TCNP:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:28:19.2830551+02:00 0HLI6B9C4TCNP:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:28:19.2835844+02:00 0HLI6B9C4TCNP:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:28:19.2842208+02:00 0HLI6B9C4TCNP:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:28:19.3392206+02:00 0HLI6B9C4TCNP:00000002 [INF] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:28:19.3431376+02:00 0HLI6B9C4TCNP:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:28:19.3435994+02:00 0HLI6B9C4TCNP:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 59.9147ms. (50a9e262)
2018-11-09T23:28:19.3437858+02:00 0HLI6B9C4TCNP:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:28:19.3441616+02:00 0HLI6B9C4TCNP:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 61.0034ms (afa2e885)
2018-11-09T23:28:19.3443431+02:00 0HLI6B9C4TCNP:00000002 [INF] Request finished in 64.2746ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:30:11.0748609+02:00 0HLI6B9C4TCNQ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:30:11.0750429+02:00 0HLI6B9C4TCNQ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-09T23:30:11.0751601+02:00 0HLI6B9C4TCNQ:00000001 [INF] Request finished in 0.3911ms 204  (791a596a)
2018-11-09T23:30:11.3045237+02:00 0HLI6B9C4TCNQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:30:11.3047496+02:00 0HLI6B9C4TCNQ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-09T23:30:11.3056385+02:00 0HLI6B9C4TCNQ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:30:11.3057325+02:00 0HLI6B9C4TCNQ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:30:11.3060621+02:00 0HLI6B9C4TCNQ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:30:11.3254591+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:30:11.3261495+02:00 0HLI6B9C4TCNQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:30:11.3287841+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:30:11.3308458+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:30:11.3310550+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4916ms. (50a9e262)
2018-11-09T23:30:11.3312555+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:30:11.3315026+02:00 0HLI6B9C4TCNQ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 25.3675ms (afa2e885)
2018-11-09T23:30:11.3316254+02:00 0HLI6B9C4TCNQ:00000002 [INF] Request finished in 27.5733ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:30:31.3810992+02:00 0HLI6B9C4TCNQ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:30:31.3812974+02:00 0HLI6B9C4TCNQ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-09T23:30:31.3814237+02:00 0HLI6B9C4TCNQ:00000003 [INF] Request finished in 0.3927ms 204  (791a596a)
2018-11-09T23:30:31.5175070+02:00 0HLI6B9C4TCNQ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:30:31.5177012+02:00 0HLI6B9C4TCNQ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-09T23:30:31.5185838+02:00 0HLI6B9C4TCNQ:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:30:31.5187449+02:00 0HLI6B9C4TCNQ:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:30:31.5192798+02:00 0HLI6B9C4TCNQ:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:30:31.5197255+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:30:31.5201826+02:00 0HLI6B9C4TCNQ:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:30:31.5222900+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:30:31.5241276+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:30:31.5242878+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4873ms. (50a9e262)
2018-11-09T23:30:31.5244520+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:30:31.5246751+02:00 0HLI6B9C4TCNQ:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.3195ms (afa2e885)
2018-11-09T23:30:31.5247769+02:00 0HLI6B9C4TCNQ:00000004 [INF] Request finished in 7.3224ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:31:30.9813668+02:00 0HLI6B9C4TCNQ:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:31:30.9815484+02:00 0HLI6B9C4TCNQ:00000005 [INF] Policy execution successful. (0204925d)
2018-11-09T23:31:30.9816585+02:00 0HLI6B9C4TCNQ:00000005 [INF] Request finished in 0.3888ms 204  (791a596a)
2018-11-09T23:31:31.1504917+02:00 0HLI6B9C4TCNQ:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:31:31.1506575+02:00 0HLI6B9C4TCNQ:00000006 [INF] Policy execution successful. (0204925d)
2018-11-09T23:31:31.1517166+02:00 0HLI6B9C4TCNQ:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:31:31.1518224+02:00 0HLI6B9C4TCNQ:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:31:31.1519602+02:00 0HLI6B9C4TCNQ:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:31:31.1523422+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:31:31.1527784+02:00 0HLI6B9C4TCNQ:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:31:31.1550352+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:31:31.1569974+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:31:31.1571518+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.738ms. (50a9e262)
2018-11-09T23:31:31.1572789+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:31:31.1575655+02:00 0HLI6B9C4TCNQ:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5401ms (afa2e885)
2018-11-09T23:31:31.1576733+02:00 0HLI6B9C4TCNQ:00000006 [INF] Request finished in 7.2651ms 200 application/json; charset=utf-8 (791a596a)
2018-11-09T23:32:20.5578963+02:00 0HLI6B9C4TCNQ:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-09T23:32:20.5580475+02:00 0HLI6B9C4TCNQ:00000007 [INF] Policy execution successful. (0204925d)
2018-11-09T23:32:20.5582311+02:00 0HLI6B9C4TCNQ:00000007 [INF] Request finished in 0.4322ms 204  (791a596a)
2018-11-09T23:32:21.5845822+02:00 0HLI6B9C4TCNQ:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-09T23:32:21.5848771+02:00 0HLI6B9C4TCNQ:00000008 [INF] Policy execution successful. (0204925d)
2018-11-09T23:32:21.5856394+02:00 0HLI6B9C4TCNQ:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-09T23:32:21.5857310+02:00 0HLI6B9C4TCNQ:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-09T23:32:21.5858478+02:00 0HLI6B9C4TCNQ:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-09T23:32:21.5861604+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-09T23:32:21.5867253+02:00 0HLI6B9C4TCNQ:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-09T23:32:21.5893741+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-09T23:32:21.5912273+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-09T23:32:21.5914077+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1817ms. (50a9e262)
2018-11-09T23:32:21.5915265+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-09T23:32:21.5917981+02:00 0HLI6B9C4TCNQ:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.8843ms (afa2e885)
2018-11-09T23:32:21.5918960+02:00 0HLI6B9C4TCNQ:00000008 [INF] Request finished in 7.4874ms 200 application/json; charset=utf-8 (791a596a)
