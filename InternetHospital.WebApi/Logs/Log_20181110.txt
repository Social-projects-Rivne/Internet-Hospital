2018-11-10T00:01:03.1687429+02:00 0HLI6B9C4TCO4:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:01:03.1689754+02:00 0HLI6B9C4TCO4:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:01:03.1691163+02:00 0HLI6B9C4TCO4:00000001 [INF] Request finished in 0.459ms 204  (791a596a)
2018-11-10T00:01:03.7379326+02:00 0HLI6B9C4TCO4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:01:03.7382046+02:00 0HLI6B9C4TCO4:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:01:03.7393241+02:00 0HLI6B9C4TCO4:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:01:03.7394488+02:00 0HLI6B9C4TCO4:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:01:03.7396154+02:00 0HLI6B9C4TCO4:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:01:03.7400433+02:00 0HLI6B9C4TCO4:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:01:03.7407483+02:00 0HLI6B9C4TCO4:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:01:03.7434459+02:00 0HLI6B9C4TCO4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:01:03.7456486+02:00 0HLI6B9C4TCO4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:01:03.7458223+02:00 0HLI6B9C4TCO4:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7004ms. (50a9e262)
2018-11-10T00:01:03.7459383+02:00 0HLI6B9C4TCO4:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:01:03.7463832+02:00 0HLI6B9C4TCO4:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.6916ms (afa2e885)
2018-11-10T00:01:03.7464973+02:00 0HLI6B9C4TCO4:00000002 [INF] Request finished in 8.6538ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:01:40.6910731+02:00 0HLI6B9C4TCO4:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:01:40.6913554+02:00 0HLI6B9C4TCO4:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T00:01:40.6919072+02:00 0HLI6B9C4TCO4:00000003 [INF] Request finished in 1.0251ms 204  (791a596a)
2018-11-10T00:01:41.0258157+02:00 0HLI6B9C4TCO4:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:01:41.0261010+02:00 0HLI6B9C4TCO4:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T00:01:41.0271621+02:00 0HLI6B9C4TCO4:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:01:41.0272683+02:00 0HLI6B9C4TCO4:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:01:41.0274108+02:00 0HLI6B9C4TCO4:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:01:41.0277984+02:00 0HLI6B9C4TCO4:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:01:41.0283617+02:00 0HLI6B9C4TCO4:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:01:41.0309509+02:00 0HLI6B9C4TCO4:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:01:41.0329593+02:00 0HLI6B9C4TCO4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:01:41.0331294+02:00 0HLI6B9C4TCO4:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2595ms. (50a9e262)
2018-11-10T00:01:41.0332612+02:00 0HLI6B9C4TCO4:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:01:41.0338016+02:00 0HLI6B9C4TCO4:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3118ms (afa2e885)
2018-11-10T00:01:41.0339043+02:00 0HLI6B9C4TCO4:00000004 [INF] Request finished in 8.1928ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:05:53.1252513+02:00 0HLI6B9C4TCO5:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:05:53.1257731+02:00 0HLI6B9C4TCO5:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:05:53.1259263+02:00 0HLI6B9C4TCO5:00000001 [INF] Request finished in 0.8427ms 204  (791a596a)
2018-11-10T00:05:53.4606057+02:00 0HLI6B9C4TCO5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:05:53.4609472+02:00 0HLI6B9C4TCO5:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:05:53.4626276+02:00 0HLI6B9C4TCO5:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:05:53.4627563+02:00 0HLI6B9C4TCO5:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:05:53.4629284+02:00 0HLI6B9C4TCO5:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:05:53.4633980+02:00 0HLI6B9C4TCO5:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:05:53.4643190+02:00 0HLI6B9C4TCO5:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:05:53.4671335+02:00 0HLI6B9C4TCO5:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:05:53.4697376+02:00 0HLI6B9C4TCO5:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:05:53.4699215+02:00 0HLI6B9C4TCO5:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.4464ms. (50a9e262)
2018-11-10T00:05:53.4700684+02:00 0HLI6B9C4TCO5:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:05:53.4706317+02:00 0HLI6B9C4TCO5:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.4791ms (afa2e885)
2018-11-10T00:05:53.4707773+02:00 0HLI6B9C4TCO5:00000002 [INF] Request finished in 10.4001ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:06:35.7345078+02:00 0HLI6B9C4TCO5:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:06:35.7347597+02:00 0HLI6B9C4TCO5:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T00:06:35.7349456+02:00 0HLI6B9C4TCO5:00000003 [INF] Request finished in 0.5427ms 204  (791a596a)
2018-11-10T00:06:36.0631449+02:00 0HLI6B9C4TCO5:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:06:36.0633226+02:00 0HLI6B9C4TCO5:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T00:06:36.0870429+02:00 0HLI6B9C4TCO5:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:06:36.0871894+02:00 0HLI6B9C4TCO5:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:06:36.0873540+02:00 0HLI6B9C4TCO5:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:06:36.0879658+02:00 0HLI6B9C4TCO5:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:06:36.0885137+02:00 0HLI6B9C4TCO5:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:06:36.0915575+02:00 0HLI6B9C4TCO5:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:06:36.0941174+02:00 0HLI6B9C4TCO5:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:06:36.0943025+02:00 0HLI6B9C4TCO5:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.2443ms. (50a9e262)
2018-11-10T00:06:36.0944407+02:00 0HLI6B9C4TCO5:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:06:36.0950446+02:00 0HLI6B9C4TCO5:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.3567ms (afa2e885)
2018-11-10T00:06:36.0951796+02:00 0HLI6B9C4TCO5:00000004 [INF] Request finished in 32.1984ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:07:20.5061018+02:00 0HLI6B9C4TCO5:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:07:20.5062992+02:00 0HLI6B9C4TCO5:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T00:07:20.5064223+02:00 0HLI6B9C4TCO5:00000005 [INF] Request finished in 0.4547ms 204  (791a596a)
2018-11-10T00:07:20.7624862+02:00 0HLI6B9C4TCO5:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:07:20.7634533+02:00 0HLI6B9C4TCO5:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T00:07:20.7851407+02:00 0HLI6B9C4TCO5:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:07:20.7852828+02:00 0HLI6B9C4TCO5:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:07:20.7857257+02:00 0HLI6B9C4TCO5:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:07:20.7861690+02:00 0HLI6B9C4TCO5:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:07:20.7867753+02:00 0HLI6B9C4TCO5:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:07:20.7893127+02:00 0HLI6B9C4TCO5:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:07:20.7914250+02:00 0HLI6B9C4TCO5:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:07:20.7915931+02:00 0HLI6B9C4TCO5:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3451ms. (50a9e262)
2018-11-10T00:07:20.7917120+02:00 0HLI6B9C4TCO5:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:07:20.7922078+02:00 0HLI6B9C4TCO5:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3967ms (afa2e885)
2018-11-10T00:07:20.7923316+02:00 0HLI6B9C4TCO5:00000006 [INF] Request finished in 29.9958ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:09:42.6378611+02:00 0HLI6B9C4TCO6:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:09:42.6381484+02:00 0HLI6B9C4TCO6:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:09:42.6384441+02:00 0HLI6B9C4TCO6:00000001 [INF] Request finished in 0.656ms 204  (791a596a)
2018-11-10T00:09:42.8708642+02:00 0HLI6B9C4TCO6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:09:42.8712613+02:00 0HLI6B9C4TCO6:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:09:42.9015083+02:00 0HLI6B9C4TCO6:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:09:42.9016725+02:00 0HLI6B9C4TCO6:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:09:42.9018509+02:00 0HLI6B9C4TCO6:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:09:42.9028255+02:00 0HLI6B9C4TCO6:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:09:42.9035404+02:00 0HLI6B9C4TCO6:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:09:42.9061875+02:00 0HLI6B9C4TCO6:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:09:42.9082792+02:00 0HLI6B9C4TCO6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:09:42.9084442+02:00 0HLI6B9C4TCO6:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4537ms. (50a9e262)
2018-11-10T00:09:42.9085693+02:00 0HLI6B9C4TCO6:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:09:42.9089858+02:00 0HLI6B9C4TCO6:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.0535ms (afa2e885)
2018-11-10T00:09:42.9090774+02:00 0HLI6B9C4TCO6:00000002 [INF] Request finished in 38.3145ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:14:17.4837063+02:00 0HLI6B9C4TCO7:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:14:17.4839024+02:00 0HLI6B9C4TCO7:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:14:17.4843075+02:00 0HLI6B9C4TCO7:00000001 [INF] Request finished in 0.5625ms 204  (791a596a)
2018-11-10T00:14:18.3307649+02:00 0HLI6B9C4TCO7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:14:18.3311797+02:00 0HLI6B9C4TCO7:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:14:18.3323501+02:00 0HLI6B9C4TCO7:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:14:18.3325160+02:00 0HLI6B9C4TCO7:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:14:18.3327224+02:00 0HLI6B9C4TCO7:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:14:18.3333145+02:00 0HLI6B9C4TCO7:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:14:18.3463188+02:00 0HLI6B9C4TCO7:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:14:18.3498071+02:00 0HLI6B9C4TCO7:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:14:18.3517772+02:00 0HLI6B9C4TCO7:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:14:18.3519536+02:00 0HLI6B9C4TCO7:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.4453ms. (50a9e262)
2018-11-10T00:14:18.3520965+02:00 0HLI6B9C4TCO7:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:14:18.3526598+02:00 0HLI6B9C4TCO7:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.8313ms (afa2e885)
2018-11-10T00:14:18.3527672+02:00 0HLI6B9C4TCO7:00000002 [INF] Request finished in 22.1247ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:18:25.4208633+02:00 0HLI6B9C4TCO8:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:18:25.4212368+02:00 0HLI6B9C4TCO8:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:18:25.4213954+02:00 0HLI6B9C4TCO8:00000001 [INF] Request finished in 0.8881ms 204  (791a596a)
2018-11-10T00:18:25.6832588+02:00 0HLI6B9C4TCO8:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:18:25.6834400+02:00 0HLI6B9C4TCO8:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:18:25.6849274+02:00 0HLI6B9C4TCO8:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:18:25.6851406+02:00 0HLI6B9C4TCO8:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:18:25.6853178+02:00 0HLI6B9C4TCO8:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:18:25.6860291+02:00 0HLI6B9C4TCO8:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:18:25.6866836+02:00 0HLI6B9C4TCO8:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:18:25.6892103+02:00 0HLI6B9C4TCO8:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:18:25.7033029+02:00 0HLI6B9C4TCO8:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:18:25.7034837+02:00 0HLI6B9C4TCO8:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 17.3693ms. (50a9e262)
2018-11-10T00:18:25.7036045+02:00 0HLI6B9C4TCO8:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:18:25.7041508+02:00 0HLI6B9C4TCO8:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 18.7536ms (afa2e885)
2018-11-10T00:18:25.7042597+02:00 0HLI6B9C4TCO8:00000002 [INF] Request finished in 21.085ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:34:08.0592418+02:00 0HLI6B9C4TCO9:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:34:08.0594336+02:00 0HLI6B9C4TCO9:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:34:08.0595950+02:00 0HLI6B9C4TCO9:00000001 [INF] Request finished in 0.5782ms 204  (791a596a)
2018-11-10T00:34:08.4956388+02:00 0HLI6B9C4TCO9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:34:08.4958046+02:00 0HLI6B9C4TCO9:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:34:08.4975427+02:00 0HLI6B9C4TCO9:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:34:08.4978115+02:00 0HLI6B9C4TCO9:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:34:08.4980072+02:00 0HLI6B9C4TCO9:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:34:08.4987675+02:00 0HLI6B9C4TCO9:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:34:08.4994243+02:00 0HLI6B9C4TCO9:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:34:08.7156965+02:00 0HLI6B9C4TCO9:00000002 [INF] Executed DbCommand ("5"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:34:08.7184400+02:00 0HLI6B9C4TCO9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:34:08.7187629+02:00 0HLI6B9C4TCO9:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 219.8094ms. (50a9e262)
2018-11-10T00:34:08.7189098+02:00 0HLI6B9C4TCO9:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:34:08.7192524+02:00 0HLI6B9C4TCO9:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 221.1712ms (afa2e885)
2018-11-10T00:34:08.7193795+02:00 0HLI6B9C4TCO9:00000002 [INF] Request finished in 223.7927ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:40:57.6507655+02:00 0HLI6B9C4TCOA:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:40:57.6511835+02:00 0HLI6B9C4TCOA:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:40:57.6513754+02:00 0HLI6B9C4TCOA:00000001 [INF] Request finished in 0.9011ms 204  (791a596a)
2018-11-10T00:40:58.1341116+02:00 0HLI6B9C4TCOA:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:40:58.1348376+02:00 0HLI6B9C4TCOA:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:40:58.1368890+02:00 0HLI6B9C4TCOA:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:40:58.1370500+02:00 0HLI6B9C4TCOA:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:40:58.1372592+02:00 0HLI6B9C4TCOA:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:40:58.1378044+02:00 0HLI6B9C4TCOA:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:40:58.1386361+02:00 0HLI6B9C4TCOA:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:40:58.2507673+02:00 0HLI6B9C4TCOA:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:40:58.2675679+02:00 0HLI6B9C4TCOA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:40:58.2677794+02:00 0HLI6B9C4TCOA:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 129.8771ms. (50a9e262)
2018-11-10T00:40:58.2865166+02:00 0HLI6B9C4TCOA:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:40:58.2870712+02:00 0HLI6B9C4TCOA:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 149.7187ms (afa2e885)
2018-11-10T00:40:58.2871837+02:00 0HLI6B9C4TCOA:00000002 [INF] Request finished in 154.1228ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:43:35.2391226+02:00 0HLI6B9C4TCOB:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:43:35.2395631+02:00 0HLI6B9C4TCOB:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:43:35.2397163+02:00 0HLI6B9C4TCOB:00000001 [INF] Request finished in 0.9473ms 204  (791a596a)
2018-11-10T00:43:35.7994358+02:00 0HLI6B9C4TCOB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:43:35.7997962+02:00 0HLI6B9C4TCOB:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:43:35.8011573+02:00 0HLI6B9C4TCOB:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:43:35.8012583+02:00 0HLI6B9C4TCOB:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:43:35.8014814+02:00 0HLI6B9C4TCOB:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:43:35.8025751+02:00 0HLI6B9C4TCOB:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:43:35.8035071+02:00 0HLI6B9C4TCOB:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:43:35.8064298+02:00 0HLI6B9C4TCOB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:43:35.8084804+02:00 0HLI6B9C4TCOB:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:43:35.8086664+02:00 0HLI6B9C4TCOB:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0039ms. (50a9e262)
2018-11-10T00:43:35.8087907+02:00 0HLI6B9C4TCOB:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:43:35.8091491+02:00 0HLI6B9C4TCOB:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.59ms (afa2e885)
2018-11-10T00:43:35.8092636+02:00 0HLI6B9C4TCOB:00000002 [INF] Request finished in 10.2573ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T00:46:04.0184648+02:00 0HLI6B9C4TCOC:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-10T00:46:04.0200729+02:00 0HLI6B9C4TCOC:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T00:46:04.0202995+02:00 0HLI6B9C4TCOC:00000001 [INF] Request finished in 1.9583ms 204  (791a596a)
2018-11-10T00:46:04.2887093+02:00 0HLI6B9C4TCOC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-10T00:46:04.2907447+02:00 0HLI6B9C4TCOC:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T00:46:04.2918037+02:00 0HLI6B9C4TCOC:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T00:46:04.2918826+02:00 0HLI6B9C4TCOC:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T00:46:04.2920531+02:00 0HLI6B9C4TCOC:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T00:46:04.2925521+02:00 0HLI6B9C4TCOC:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T00:46:04.2934020+02:00 0HLI6B9C4TCOC:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T00:46:04.2961580+02:00 0HLI6B9C4TCOC:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T00:46:04.2981393+02:00 0HLI6B9C4TCOC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T00:46:04.2982983+02:00 0HLI6B9C4TCOC:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6696ms. (50a9e262)
2018-11-10T00:46:04.2984353+02:00 0HLI6B9C4TCOC:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T00:46:04.2992220+02:00 0HLI6B9C4TCOC:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.0693ms (afa2e885)
2018-11-10T00:46:04.2993377+02:00 0HLI6B9C4TCOC:00000002 [INF] Request finished in 10.6855ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:29:40.3023929+02:00 0HLI6KED2O9OE:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-10T02:29:42.2244260+02:00 0HLI6KED2O9OE:00000001 [INF] Request finished in 1929.2441ms 404  (791a596a)
2018-11-10T02:30:13.9538803+02:00 0HLI6KED2O9OE:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:30:13.9929761+02:00 0HLI6KED2O9OE:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:30:14.0040410+02:00 0HLI6KED2O9OE:00000002 [INF] Request finished in 50.2045ms 204  (791a596a)
2018-11-10T02:30:14.1041978+02:00 0HLI6KED2O9OE:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:30:14.1047268+02:00 0HLI6KED2O9OE:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:30:14.8069145+02:00 0HLI6KED2O9OE:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:30:14.8076696+02:00 0HLI6KED2O9OE:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:30:15.0165054+02:00 0HLI6KED2O9OE:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:30:15.0984746+02:00 0HLI6KED2O9OE:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:30:15.1813718+02:00 0HLI6KED2O9OE:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:30:16.1826168+02:00 0HLI6KED2O9OE:00000003 [INF] Executed DbCommand ("266"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:30:16.5900068+02:00 0HLI6KED2O9OE:00000003 [INF] Executed DbCommand ("155"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:30:16.6950635+02:00 0HLI6KED2O9OE:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1585.6069ms. (50a9e262)
2018-11-10T02:30:16.7199432+02:00 0HLI6KED2O9OE:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:30:17.0180171+02:00 0HLI6KED2O9OE:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 1989.5326ms (afa2e885)
2018-11-10T02:30:17.0209805+02:00 0HLI6KED2O9OE:00000003 [INF] Request finished in 2917.1457ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:30:36.0897196+02:00 0HLI6KED2O9OE:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:30:36.0900836+02:00 0HLI6KED2O9OE:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:30:36.0902703+02:00 0HLI6KED2O9OE:00000004 [INF] Request finished in 0.6805ms 204  (791a596a)
2018-11-10T02:30:36.3158859+02:00 0HLI6KED2O9OE:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:30:36.3160766+02:00 0HLI6KED2O9OE:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:30:36.3192223+02:00 0HLI6KED2O9OE:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:30:36.3193703+02:00 0HLI6KED2O9OE:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:30:36.3198823+02:00 0HLI6KED2O9OE:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:30:36.3218236+02:00 0HLI6KED2O9OE:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:30:36.3223518+02:00 0HLI6KED2O9OE:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:30:36.3248212+02:00 0HLI6KED2O9OE:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:30:36.3271893+02:00 0HLI6KED2O9OE:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:30:36.3276441+02:00 0HLI6KED2O9OE:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.6866ms. (50a9e262)
2018-11-10T02:30:36.3280696+02:00 0HLI6KED2O9OE:00000005 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:30:36.3287119+02:00 0HLI6KED2O9OE:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.698ms (afa2e885)
2018-11-10T02:30:36.3289254+02:00 0HLI6KED2O9OE:00000005 [INF] Request finished in 13.5494ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:32:10.5210367+02:00 0HLI6KED2O9OF:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:32:10.5212199+02:00 0HLI6KED2O9OF:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:10.5213371+02:00 0HLI6KED2O9OF:00000001 [INF] Request finished in 0.3805ms 204  (791a596a)
2018-11-10T02:32:10.5954396+02:00 0HLI6KED2O9OF:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:32:10.5979604+02:00 0HLI6KED2O9OF:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:10.5981463+02:00 0HLI6KED2O9OF:00000002 [INF] Request finished in 2.79ms 204  (791a596a)
2018-11-10T02:32:10.6022772+02:00 0HLI6KED2O9OF:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:32:10.6025149+02:00 0HLI6KED2O9OF:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:10.6026953+02:00 0HLI6KED2O9OF:00000003 [INF] Request finished in 0.4057ms 204  (791a596a)
2018-11-10T02:32:10.7260880+02:00 0HLI6KED2O9OF:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:32:10.7262578+02:00 0HLI6KED2O9OF:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:10.7272087+02:00 0HLI6KED2O9OF:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:32:10.7275245+02:00 0HLI6KED2O9OF:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:32:10.7276879+02:00 0HLI6KED2O9OF:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:32:10.7283543+02:00 0HLI6KED2O9OF:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:32:10.7289559+02:00 0HLI6KED2O9OF:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:32:10.7314494+02:00 0HLI6KED2O9OF:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:32:10.7333959+02:00 0HLI6KED2O9OF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:32:10.7335810+02:00 0HLI6KED2O9OF:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1304ms. (50a9e262)
2018-11-10T02:32:10.7337054+02:00 0HLI6KED2O9OF:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:32:10.7339462+02:00 0HLI6KED2O9OF:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0671ms (afa2e885)
2018-11-10T02:32:10.7340697+02:00 0HLI6KED2O9OF:00000004 [INF] Request finished in 8.072ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:32:12.7499225+02:00 0HLI6KED2O9OF:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:32:12.7503136+02:00 0HLI6KED2O9OF:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:12.7516135+02:00 0HLI6KED2O9OF:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:32:12.7517382+02:00 0HLI6KED2O9OF:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:32:12.7566732+02:00 0HLI6KED2O9OG:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:32:12.7568098+02:00 0HLI6KED2O9OG:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:32:12.7574469+02:00 0HLI6KED2O9OG:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:32:12.7575381+02:00 0HLI6KED2O9OG:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:32:12.7611172+02:00 0HLI6KED2O9OF:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:32:12.7632109+02:00 0HLI6KED2O9OG:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:32:12.7684010+02:00 0HLI6KED2O9OG:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:32:12.7723179+02:00 0HLI6KED2O9OG:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:32:13.5802070+02:00 0HLI6KED2O9OF:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:32:13.7852666+02:00 0HLI6KED2O9OF:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:32:15.2665660+02:00 0HLI6KED2O9OF:00000005 [INF] Executed DbCommand ("266"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:32:15.2787741+02:00 0HLI6KED2O9OF:00000005 [WRN] Query: '"(from Doctor <generated>_2 in DbSet<Doctor> select [<generated>_2]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2018-11-10T02:32:15.3790383+02:00 0HLI6KED2O9OF:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:32:15.3863568+02:00 0HLI6KED2O9OF:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1806.0073ms. (50a9e262)
2018-11-10T02:32:15.3865637+02:00 0HLI6KED2O9OF:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:32:15.3984217+02:00 0HLI6KED2O9OG:00000001 [INF] Executed DbCommand ("2,331"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:32:15.3988460+02:00 0HLI6KED2O9OF:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 2637.6162ms (afa2e885)
2018-11-10T02:32:15.3990110+02:00 0HLI6KED2O9OF:00000005 [INF] Request finished in 2649.1923ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:32:15.4017331+02:00 0HLI6KED2O9OG:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2633.1619ms. (50a9e262)
2018-11-10T02:32:15.4019474+02:00 0HLI6KED2O9OG:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:32:15.4056729+02:00 0HLI6KED2O9OG:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2642.3566ms (afa2e885)
2018-11-10T02:32:15.4058020+02:00 0HLI6KED2O9OG:00000001 [INF] Request finished in 2649.1647ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:33:30.2013929+02:00 0HLI6KED2O9OH:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:33:30.2015706+02:00 0HLI6KED2O9OH:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:30.2016858+02:00 0HLI6KED2O9OH:00000001 [INF] Request finished in 0.4227ms 204  (791a596a)
2018-11-10T02:33:30.4046009+02:00 0HLI6KED2O9OH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:33:30.4047766+02:00 0HLI6KED2O9OH:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:30.4059141+02:00 0HLI6KED2O9OH:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:33:30.4060282+02:00 0HLI6KED2O9OH:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:33:30.4061782+02:00 0HLI6KED2O9OH:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:33:30.4093524+02:00 0HLI6KED2O9OH:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:33:30.4099654+02:00 0HLI6KED2O9OH:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:33:30.4123507+02:00 0HLI6KED2O9OH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:33:30.4142420+02:00 0HLI6KED2O9OH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:33:30.4144469+02:00 0HLI6KED2O9OH:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9847ms. (50a9e262)
2018-11-10T02:33:30.4145767+02:00 0HLI6KED2O9OH:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:33:30.4149170+02:00 0HLI6KED2O9OH:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.6657ms (afa2e885)
2018-11-10T02:33:30.4150635+02:00 0HLI6KED2O9OH:00000002 [INF] Request finished in 10.5067ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:33:32.0615032+02:00 0HLI6KED2O9OH:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:33:32.0617251+02:00 0HLI6KED2O9OH:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:32.0618759+02:00 0HLI6KED2O9OH:00000003 [INF] Request finished in 0.4278ms 204  (791a596a)
2018-11-10T02:33:32.0653981+02:00 0HLI6KED2O9OH:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:33:32.0660558+02:00 0HLI6KED2O9OH:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:32.0662018+02:00 0HLI6KED2O9OH:00000004 [INF] Request finished in 0.8613ms 204  (791a596a)
2018-11-10T02:33:32.2214733+02:00 0HLI6KED2O9OH:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:33:32.2216636+02:00 0HLI6KED2O9OH:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:32.2226943+02:00 0HLI6KED2O9OH:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:33:32.2228076+02:00 0HLI6KED2O9OH:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:33:32.2229382+02:00 0HLI6KED2O9OH:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:33:32.2234664+02:00 0HLI6KED2O9OH:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:33:32.2238098+02:00 0HLI6KED2O9OI:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:33:32.2238892+02:00 0HLI6KED2O9OH:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:33:32.2239385+02:00 0HLI6KED2O9OI:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:33:32.2247387+02:00 0HLI6KED2O9OI:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:33:32.2248390+02:00 0HLI6KED2O9OI:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:33:32.2249763+02:00 0HLI6KED2O9OI:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:33:32.2251792+02:00 0HLI6KED2O9OH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:33:32.2252925+02:00 0HLI6KED2O9OI:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:33:32.2257661+02:00 0HLI6KED2O9OI:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:33:32.2273727+02:00 0HLI6KED2O9OH:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:33:32.2273992+02:00 0HLI6KED2O9OI:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:33:32.2275109+02:00 0HLI6KED2O9OH:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9639ms. (50a9e262)
2018-11-10T02:33:32.2275282+02:00 0HLI6KED2O9OI:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.1754ms. (50a9e262)
2018-11-10T02:33:32.2276175+02:00 0HLI6KED2O9OH:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:33:32.2276151+02:00 0HLI6KED2O9OI:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:33:32.2278456+02:00 0HLI6KED2O9OI:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.7762ms (afa2e885)
2018-11-10T02:33:32.2278800+02:00 0HLI6KED2O9OH:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.8813ms (afa2e885)
2018-11-10T02:33:32.2279696+02:00 0HLI6KED2O9OI:00000001 [INF] Request finished in 4.1889ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:33:32.2279696+02:00 0HLI6KED2O9OH:00000005 [INF] Request finished in 6.557ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:07.5983137+02:00 0HLI6KED2O9OJ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:07.5985316+02:00 0HLI6KED2O9OJ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:07.5987684+02:00 0HLI6KED2O9OJ:00000001 [INF] Request finished in 0.5246ms 204  (791a596a)
2018-11-10T02:35:08.0109368+02:00 0HLI6KED2O9OJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:08.0111562+02:00 0HLI6KED2O9OJ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:08.0120491+02:00 0HLI6KED2O9OJ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:08.0121395+02:00 0HLI6KED2O9OJ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:08.0122769+02:00 0HLI6KED2O9OJ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:08.0127316+02:00 0HLI6KED2O9OJ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:08.0132302+02:00 0HLI6KED2O9OJ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:08.0156800+02:00 0HLI6KED2O9OJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:35:08.0177507+02:00 0HLI6KED2O9OJ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:35:08.0179461+02:00 0HLI6KED2O9OJ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1331ms. (50a9e262)
2018-11-10T02:35:08.0181068+02:00 0HLI6KED2O9OJ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:35:08.0183519+02:00 0HLI6KED2O9OJ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0031ms (afa2e885)
2018-11-10T02:35:08.0184806+02:00 0HLI6KED2O9OJ:00000002 [INF] Request finished in 7.6267ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:09.6258796+02:00 0HLI6KED2O9OJ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:09.6272662+02:00 0HLI6KED2O9OJ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:09.6273992+02:00 0HLI6KED2O9OJ:00000003 [INF] Request finished in 1.6859ms 204  (791a596a)
2018-11-10T02:35:09.6384638+02:00 0HLI6KED2O9OJ:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:09.6386702+02:00 0HLI6KED2O9OJ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:09.6388747+02:00 0HLI6KED2O9OJ:00000004 [INF] Request finished in 0.4736ms 204  (791a596a)
2018-11-10T02:35:09.7961275+02:00 0HLI6KED2O9OJ:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:09.7963513+02:00 0HLI6KED2O9OJ:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:09.7973180+02:00 0HLI6KED2O9OJ:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:09.7974526+02:00 0HLI6KED2O9OJ:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:09.7975829+02:00 0HLI6KED2O9OJ:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:09.7976536+02:00 0HLI6KED2O9OK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:09.7978707+02:00 0HLI6KED2O9OK:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:09.7979544+02:00 0HLI6KED2O9OJ:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:09.7983515+02:00 0HLI6KED2O9OJ:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:09.7985046+02:00 0HLI6KED2O9OK:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:09.7985820+02:00 0HLI6KED2O9OK:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:09.7987044+02:00 0HLI6KED2O9OK:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:09.7990177+02:00 0HLI6KED2O9OK:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:35:09.7995482+02:00 0HLI6KED2O9OJ:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:35:09.7997456+02:00 0HLI6KED2O9OK:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:09.8019092+02:00 0HLI6KED2O9OK:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:35:09.8019017+02:00 0HLI6KED2O9OJ:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:35:09.8020466+02:00 0HLI6KED2O9OJ:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.0223ms. (50a9e262)
2018-11-10T02:35:09.8020553+02:00 0HLI6KED2O9OK:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.9368ms. (50a9e262)
2018-11-10T02:35:09.8021540+02:00 0HLI6KED2O9OJ:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:35:09.8021544+02:00 0HLI6KED2O9OK:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:35:09.8023158+02:00 0HLI6KED2O9OK:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.54ms (afa2e885)
2018-11-10T02:35:09.8023565+02:00 0HLI6KED2O9OJ:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.7135ms (afa2e885)
2018-11-10T02:35:09.8024425+02:00 0HLI6KED2O9OJ:00000005 [INF] Request finished in 6.3778ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:09.8024429+02:00 0HLI6KED2O9OK:00000001 [INF] Request finished in 4.8055ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:25.6670737+02:00 0HLI6KED2O9OJ:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:25.6672506+02:00 0HLI6KED2O9OJ:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:25.6673674+02:00 0HLI6KED2O9OJ:00000006 [INF] Request finished in 0.3588ms 204  (791a596a)
2018-11-10T02:35:25.9809437+02:00 0HLI6KED2O9OK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:25.9813834+02:00 0HLI6KED2O9OK:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:25.9822866+02:00 0HLI6KED2O9OK:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:25.9824070+02:00 0HLI6KED2O9OK:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:25.9826569+02:00 0HLI6KED2O9OK:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:25.9835540+02:00 0HLI6KED2O9OK:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:25.9840451+02:00 0HLI6KED2O9OK:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:25.9870629+02:00 0HLI6KED2O9OK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:35:25.9897968+02:00 0HLI6KED2O9OK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:35:25.9899528+02:00 0HLI6KED2O9OK:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3209ms. (50a9e262)
2018-11-10T02:35:25.9900582+02:00 0HLI6KED2O9OK:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:35:25.9902287+02:00 0HLI6KED2O9OK:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.4905ms (afa2e885)
2018-11-10T02:35:25.9903171+02:00 0HLI6KED2O9OK:00000002 [INF] Request finished in 9.4634ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:27.2997466+02:00 0HLI6KED2O9OJ:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:27.2999626+02:00 0HLI6KED2O9OJ:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:27.3000814+02:00 0HLI6KED2O9OJ:00000007 [INF] Request finished in 0.4389ms 204  (791a596a)
2018-11-10T02:35:27.3006151+02:00 0HLI6KED2O9OK:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:27.3011365+02:00 0HLI6KED2O9OK:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:27.3012818+02:00 0HLI6KED2O9OK:00000003 [INF] Request finished in 0.6892ms 204  (791a596a)
2018-11-10T02:35:27.4373749+02:00 0HLI6KED2O9OJ:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:27.4375427+02:00 0HLI6KED2O9OJ:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:27.4383510+02:00 0HLI6KED2O9OK:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:27.4384959+02:00 0HLI6KED2O9OK:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:27.4386400+02:00 0HLI6KED2O9OJ:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:27.4387213+02:00 0HLI6KED2O9OJ:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:27.4388397+02:00 0HLI6KED2O9OJ:00000008 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:27.4390778+02:00 0HLI6KED2O9OK:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:27.4391445+02:00 0HLI6KED2O9OK:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:27.4392625+02:00 0HLI6KED2O9OK:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:27.4392854+02:00 0HLI6KED2O9OJ:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:27.4394405+02:00 0HLI6KED2O9OK:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:35:27.4396225+02:00 0HLI6KED2O9OJ:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:27.4397117+02:00 0HLI6KED2O9OK:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:27.4405391+02:00 0HLI6KED2O9OJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:35:27.4412410+02:00 0HLI6KED2O9OK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:35:27.4413669+02:00 0HLI6KED2O9OK:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 1.8604ms. (50a9e262)
2018-11-10T02:35:27.4414818+02:00 0HLI6KED2O9OK:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:35:27.4416468+02:00 0HLI6KED2O9OK:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.3226ms (afa2e885)
2018-11-10T02:35:27.4417644+02:00 0HLI6KED2O9OK:00000004 [INF] Request finished in 3.5412ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:27.4423664+02:00 0HLI6KED2O9OJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:35:27.4425081+02:00 0HLI6KED2O9OJ:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1587ms. (50a9e262)
2018-11-10T02:35:27.4426202+02:00 0HLI6KED2O9OJ:00000008 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:35:27.4428377+02:00 0HLI6KED2O9OJ:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.9371ms (afa2e885)
2018-11-10T02:35:27.4429629+02:00 0HLI6KED2O9OJ:00000008 [INF] Request finished in 5.6376ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:43.9831400+02:00 0HLI6KED2O9OK:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:43.9833144+02:00 0HLI6KED2O9OK:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:43.9834858+02:00 0HLI6KED2O9OK:00000005 [INF] Request finished in 0.4472ms 204  (791a596a)
2018-11-10T02:35:44.3538879+02:00 0HLI6KED2O9OJ:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:44.3541815+02:00 0HLI6KED2O9OJ:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:44.3554167+02:00 0HLI6KED2O9OJ:00000009 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:44.3555505+02:00 0HLI6KED2O9OJ:00000009 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:44.3557049+02:00 0HLI6KED2O9OJ:00000009 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:44.3562255+02:00 0HLI6KED2O9OJ:00000009 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:44.3566290+02:00 0HLI6KED2O9OJ:00000009 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:44.3589003+02:00 0HLI6KED2O9OJ:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:35:44.3608077+02:00 0HLI6KED2O9OJ:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:35:44.3609896+02:00 0HLI6KED2O9OJ:00000009 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6827ms. (50a9e262)
2018-11-10T02:35:44.3611104+02:00 0HLI6KED2O9OJ:00000009 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:35:44.3612873+02:00 0HLI6KED2O9OJ:00000009 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5212ms (afa2e885)
2018-11-10T02:35:44.3613923+02:00 0HLI6KED2O9OJ:00000009 [INF] Request finished in 7.5888ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:46.8551509+02:00 0HLI6KED2O9OK:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:35:46.8555807+02:00 0HLI6KED2O9OK:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:46.8557532+02:00 0HLI6KED2O9OK:00000006 [INF] Request finished in 0.6746ms 204  (791a596a)
2018-11-10T02:35:46.8570883+02:00 0HLI6KED2O9OJ:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:46.8572631+02:00 0HLI6KED2O9OJ:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:46.8573982+02:00 0HLI6KED2O9OJ:0000000A [INF] Request finished in 0.4784ms 204  (791a596a)
2018-11-10T02:35:47.0151857+02:00 0HLI6KED2O9OK:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:35:47.0154553+02:00 0HLI6KED2O9OK:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:47.0160664+02:00 0HLI6KED2O9OJ:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:35:47.0161852+02:00 0HLI6KED2O9OJ:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:35:47.0162140+02:00 0HLI6KED2O9OK:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:47.0163312+02:00 0HLI6KED2O9OK:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:47.0164449+02:00 0HLI6KED2O9OK:00000007 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:47.0168112+02:00 0HLI6KED2O9OJ:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:35:47.0168045+02:00 0HLI6KED2O9OK:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:35:47.0168768+02:00 0HLI6KED2O9OJ:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:35:47.0169731+02:00 0HLI6KED2O9OJ:0000000B [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:35:47.0171259+02:00 0HLI6KED2O9OK:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:47.0171416+02:00 0HLI6KED2O9OJ:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:35:47.0174334+02:00 0HLI6KED2O9OJ:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:35:47.0179963+02:00 0HLI6KED2O9OK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:35:47.0194691+02:00 0HLI6KED2O9OJ:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:35:47.0196029+02:00 0HLI6KED2O9OJ:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.4019ms. (50a9e262)
2018-11-10T02:35:47.0196653+02:00 0HLI6KED2O9OK:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:35:47.0197079+02:00 0HLI6KED2O9OJ:0000000B [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:35:47.0197659+02:00 0HLI6KED2O9OK:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 2.9005ms. (50a9e262)
2018-11-10T02:35:47.0198417+02:00 0HLI6KED2O9OK:00000007 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:35:47.0198536+02:00 0HLI6KED2O9OJ:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8275ms (afa2e885)
2018-11-10T02:35:47.0199447+02:00 0HLI6KED2O9OJ:0000000B [INF] Request finished in 3.9039ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:35:47.0199649+02:00 0HLI6KED2O9OK:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.4618ms (afa2e885)
2018-11-10T02:35:47.0200363+02:00 0HLI6KED2O9OK:00000007 [INF] Request finished in 4.9358ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:36:06.7729642+02:00 0HLI6KED2O9OJ:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:36:06.7732247+02:00 0HLI6KED2O9OJ:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:06.7733510+02:00 0HLI6KED2O9OJ:0000000C [INF] Request finished in 0.6067ms 204  (791a596a)
2018-11-10T02:36:06.9217292+02:00 0HLI6KED2O9OK:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:36:06.9223375+02:00 0HLI6KED2O9OK:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:06.9296126+02:00 0HLI6KED2O9OK:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:36:06.9297803+02:00 0HLI6KED2O9OK:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:36:06.9299224+02:00 0HLI6KED2O9OK:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:36:06.9307060+02:00 0HLI6KED2O9OK:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:36:06.9312278+02:00 0HLI6KED2O9OK:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:36:06.9376391+02:00 0HLI6KED2O9OK:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:36:06.9395797+02:00 0HLI6KED2O9OK:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:36:06.9397380+02:00 0HLI6KED2O9OK:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.9511ms. (50a9e262)
2018-11-10T02:36:06.9398391+02:00 0HLI6KED2O9OK:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:36:06.9399926+02:00 0HLI6KED2O9OK:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 10.0105ms (afa2e885)
2018-11-10T02:36:06.9400838+02:00 0HLI6KED2O9OK:00000008 [INF] Request finished in 20.346ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:36:08.4463390+02:00 0HLI6KED2O9OK:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:36:08.4463390+02:00 0HLI6KED2O9OJ:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:36:08.4464945+02:00 0HLI6KED2O9OJ:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:08.4465289+02:00 0HLI6KED2O9OK:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:08.4466003+02:00 0HLI6KED2O9OJ:0000000D [INF] Request finished in 0.3213ms 204  (791a596a)
2018-11-10T02:36:08.4466820+02:00 0HLI6KED2O9OK:00000009 [INF] Request finished in 0.3773ms 204  (791a596a)
2018-11-10T02:36:08.5656774+02:00 0HLI6KED2O9OJ:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:36:08.5658503+02:00 0HLI6KED2O9OJ:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:08.5669907+02:00 0HLI6KED2O9OJ:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:36:08.5670105+02:00 0HLI6KED2O9OK:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:36:08.5670890+02:00 0HLI6KED2O9OJ:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:36:08.5671644+02:00 0HLI6KED2O9OK:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:36:08.5672051+02:00 0HLI6KED2O9OJ:0000000E [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:36:08.5674341+02:00 0HLI6KED2O9OJ:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:36:08.5678162+02:00 0HLI6KED2O9OJ:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:36:08.5678402+02:00 0HLI6KED2O9OK:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:36:08.5679176+02:00 0HLI6KED2O9OK:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:36:08.5680285+02:00 0HLI6KED2O9OK:0000000A [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:36:08.5684157+02:00 0HLI6KED2O9OK:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:36:08.5688570+02:00 0HLI6KED2O9OK:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:36:08.5695766+02:00 0HLI6KED2O9OJ:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:36:08.5697026+02:00 0HLI6KED2O9OK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:36:08.5697187+02:00 0HLI6KED2O9OJ:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.2101ms. (50a9e262)
2018-11-10T02:36:08.5698478+02:00 0HLI6KED2O9OJ:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:36:08.5700022+02:00 0HLI6KED2O9OJ:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.7335ms (afa2e885)
2018-11-10T02:36:08.5700969+02:00 0HLI6KED2O9OJ:0000000E [INF] Request finished in 4.4704ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:36:08.5717114+02:00 0HLI6KED2O9OK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:36:08.5718792+02:00 0HLI6KED2O9OK:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3138ms. (50a9e262)
2018-11-10T02:36:08.5719952+02:00 0HLI6KED2O9OK:0000000A [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:36:08.5722254+02:00 0HLI6KED2O9OK:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.1281ms (afa2e885)
2018-11-10T02:36:08.5723857+02:00 0HLI6KED2O9OK:0000000A [INF] Request finished in 5.4138ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:37:23.5305093+02:00 0HLI6KED2O9OL:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:37:23.5308231+02:00 0HLI6KED2O9OL:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:23.5309332+02:00 0HLI6KED2O9OL:00000001 [INF] Request finished in 15.5993ms 204  (791a596a)
2018-11-10T02:37:23.7201235+02:00 0HLI6KED2O9OL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:37:23.7203734+02:00 0HLI6KED2O9OL:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:23.7212114+02:00 0HLI6KED2O9OL:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:37:23.7212999+02:00 0HLI6KED2O9OL:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:37:23.7214491+02:00 0HLI6KED2O9OL:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:37:23.7218273+02:00 0HLI6KED2O9OL:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:37:23.7222457+02:00 0HLI6KED2O9OL:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:37:23.7249780+02:00 0HLI6KED2O9OL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:37:23.7271858+02:00 0HLI6KED2O9OL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:37:23.7273666+02:00 0HLI6KED2O9OL:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4702ms. (50a9e262)
2018-11-10T02:37:23.7275072+02:00 0HLI6KED2O9OL:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:37:23.7277930+02:00 0HLI6KED2O9OL:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2676ms (afa2e885)
2018-11-10T02:37:23.7278964+02:00 0HLI6KED2O9OL:00000002 [INF] Request finished in 8.2587ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:37:25.9241991+02:00 0HLI6KED2O9OL:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:37:25.9243625+02:00 0HLI6KED2O9OL:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:25.9244742+02:00 0HLI6KED2O9OL:00000003 [INF] Request finished in 0.3236ms 204  (791a596a)
2018-11-10T02:37:25.9369141+02:00 0HLI6KED2O9OL:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:37:25.9370893+02:00 0HLI6KED2O9OL:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:25.9372117+02:00 0HLI6KED2O9OL:00000004 [INF] Request finished in 0.3718ms 204  (791a596a)
2018-11-10T02:37:26.5900198+02:00 0HLI6KED2O9OL:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:37:26.5909273+02:00 0HLI6KED2O9OL:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:26.5921739+02:00 0HLI6KED2O9OL:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:37:26.5923014+02:00 0HLI6KED2O9OL:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:37:26.5925845+02:00 0HLI6KED2O9OL:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:37:26.5929950+02:00 0HLI6KED2O9OL:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:37:26.5933309+02:00 0HLI6KED2O9OM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:37:26.5934253+02:00 0HLI6KED2O9OL:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:37:26.5935046+02:00 0HLI6KED2O9OM:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:37:26.5942530+02:00 0HLI6KED2O9OM:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:37:26.5943738+02:00 0HLI6KED2O9OM:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:37:26.5943987+02:00 0HLI6KED2O9OL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:37:26.5945159+02:00 0HLI6KED2O9OM:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:37:26.5947728+02:00 0HLI6KED2O9OM:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:37:26.5955343+02:00 0HLI6KED2O9OM:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:37:26.5963214+02:00 0HLI6KED2O9OL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:37:26.5964714+02:00 0HLI6KED2O9OL:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3939ms. (50a9e262)
2018-11-10T02:37:26.5966143+02:00 0HLI6KED2O9OL:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:37:26.5968113+02:00 0HLI6KED2O9OL:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.153ms (afa2e885)
2018-11-10T02:37:26.5969376+02:00 0HLI6KED2O9OL:00000005 [INF] Request finished in 6.9943ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:37:26.5975282+02:00 0HLI6KED2O9OM:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:37:26.5976841+02:00 0HLI6KED2O9OM:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.8117ms. (50a9e262)
2018-11-10T02:37:26.5978124+02:00 0HLI6KED2O9OM:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:37:26.5979663+02:00 0HLI6KED2O9OM:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.3848ms (afa2e885)
2018-11-10T02:37:26.5981005+02:00 0HLI6KED2O9OM:00000001 [INF] Request finished in 4.7893ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:38:25.8797506+02:00 0HLI6KED2O9OL:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:38:25.8799188+02:00 0HLI6KED2O9OL:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:25.8800644+02:00 0HLI6KED2O9OL:00000006 [INF] Request finished in 0.3998ms 204  (791a596a)
2018-11-10T02:38:26.1557264+02:00 0HLI6KED2O9OM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:38:26.1559608+02:00 0HLI6KED2O9OM:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:26.1569978+02:00 0HLI6KED2O9OM:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:38:26.1570997+02:00 0HLI6KED2O9OM:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:38:26.1572378+02:00 0HLI6KED2O9OM:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:38:26.1577258+02:00 0HLI6KED2O9OM:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:38:26.1581931+02:00 0HLI6KED2O9OM:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:38:26.1611687+02:00 0HLI6KED2O9OM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:38:26.1631234+02:00 0HLI6KED2O9OM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:38:26.1633255+02:00 0HLI6KED2O9OM:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.518ms. (50a9e262)
2018-11-10T02:38:26.1634475+02:00 0HLI6KED2O9OM:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:38:26.1636717+02:00 0HLI6KED2O9OM:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3643ms (afa2e885)
2018-11-10T02:38:26.1637858+02:00 0HLI6KED2O9OM:00000002 [INF] Request finished in 8.1379ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:38:27.2721402+02:00 0HLI6KED2O9OL:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:38:27.2722416+02:00 0HLI6KED2O9OM:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:38:27.2723198+02:00 0HLI6KED2O9OL:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:27.2723798+02:00 0HLI6KED2O9OM:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:27.2724228+02:00 0HLI6KED2O9OL:00000007 [INF] Request finished in 0.3509ms 204  (791a596a)
2018-11-10T02:38:27.2725258+02:00 0HLI6KED2O9OM:00000003 [INF] Request finished in 0.4531ms 204  (791a596a)
2018-11-10T02:38:27.8271931+02:00 0HLI6KED2O9OL:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:38:27.8273663+02:00 0HLI6KED2O9OL:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:27.8281510+02:00 0HLI6KED2O9OL:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:38:27.8282880+02:00 0HLI6KED2O9OL:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:38:27.8284140+02:00 0HLI6KED2O9OL:00000008 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:38:27.8284412+02:00 0HLI6KED2O9OM:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:38:27.8285438+02:00 0HLI6KED2O9OM:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:38:27.8287842+02:00 0HLI6KED2O9OL:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:38:27.8291237+02:00 0HLI6KED2O9OL:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:38:27.8291470+02:00 0HLI6KED2O9OM:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:38:27.8292172+02:00 0HLI6KED2O9OM:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:38:27.8293294+02:00 0HLI6KED2O9OM:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:38:27.8295567+02:00 0HLI6KED2O9OM:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:38:27.8300261+02:00 0HLI6KED2O9OM:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:38:27.8301346+02:00 0HLI6KED2O9OL:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:38:27.8318688+02:00 0HLI6KED2O9OL:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:38:27.8318688+02:00 0HLI6KED2O9OM:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:38:27.8320069+02:00 0HLI6KED2O9OL:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1527ms. (50a9e262)
2018-11-10T02:38:27.8320069+02:00 0HLI6KED2O9OM:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3814ms. (50a9e262)
2018-11-10T02:38:27.8321088+02:00 0HLI6KED2O9OM:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:38:27.8321099+02:00 0HLI6KED2O9OL:00000008 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:38:27.8323342+02:00 0HLI6KED2O9OM:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9459ms (afa2e885)
2018-11-10T02:38:27.8323342+02:00 0HLI6KED2O9OL:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.8589ms (afa2e885)
2018-11-10T02:38:27.8324455+02:00 0HLI6KED2O9OM:00000004 [INF] Request finished in 4.0279ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:38:27.8324455+02:00 0HLI6KED2O9OL:00000008 [INF] Request finished in 5.3052ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:17.6001299+02:00 0HLI6KED2O9OL:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:39:17.6003593+02:00 0HLI6KED2O9OL:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:17.6004678+02:00 0HLI6KED2O9OL:00000009 [INF] Request finished in 0.4065ms 204  (791a596a)
2018-11-10T02:39:17.7554251+02:00 0HLI6KED2O9OM:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:39:17.7556371+02:00 0HLI6KED2O9OM:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:17.7566768+02:00 0HLI6KED2O9OM:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:17.7567826+02:00 0HLI6KED2O9OM:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:17.7569539+02:00 0HLI6KED2O9OM:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:17.7573479+02:00 0HLI6KED2O9OM:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:39:17.7577695+02:00 0HLI6KED2O9OM:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:17.7600712+02:00 0HLI6KED2O9OM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:39:17.7622581+02:00 0HLI6KED2O9OM:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:39:17.7624535+02:00 0HLI6KED2O9OM:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0274ms. (50a9e262)
2018-11-10T02:39:17.7625786+02:00 0HLI6KED2O9OM:00000005 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:39:17.7627815+02:00 0HLI6KED2O9OM:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7458ms (afa2e885)
2018-11-10T02:39:17.7628952+02:00 0HLI6KED2O9OM:00000005 [INF] Request finished in 7.5478ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:19.6659933+02:00 0HLI6KED2O9OL:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:39:19.6664757+02:00 0HLI6KED2O9OL:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:19.6666036+02:00 0HLI6KED2O9OL:0000000A [INF] Request finished in 0.6892ms 204  (791a596a)
2018-11-10T02:39:19.6687696+02:00 0HLI6KED2O9OM:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:39:19.6689188+02:00 0HLI6KED2O9OM:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:19.6690226+02:00 0HLI6KED2O9OM:00000006 [INF] Request finished in 0.2996ms 204  (791a596a)
2018-11-10T02:39:19.7912232+02:00 0HLI6KED2O9OL:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:39:19.7914281+02:00 0HLI6KED2O9OL:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:19.7921343+02:00 0HLI6KED2O9OM:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:39:19.7922910+02:00 0HLI6KED2O9OL:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:19.7923198+02:00 0HLI6KED2O9OM:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:19.7923743+02:00 0HLI6KED2O9OL:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:19.7924971+02:00 0HLI6KED2O9OL:0000000B [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:19.7928760+02:00 0HLI6KED2O9OL:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:39:19.7929731+02:00 0HLI6KED2O9OM:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:19.7930663+02:00 0HLI6KED2O9OM:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:19.7931760+02:00 0HLI6KED2O9OM:00000007 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:19.7932376+02:00 0HLI6KED2O9OL:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:19.7933608+02:00 0HLI6KED2O9OM:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:39:19.7937235+02:00 0HLI6KED2O9OM:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:19.7941203+02:00 0HLI6KED2O9OL:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:39:19.7957307+02:00 0HLI6KED2O9OM:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:39:19.7958918+02:00 0HLI6KED2O9OM:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.4493ms. (50a9e262)
2018-11-10T02:39:19.7959210+02:00 0HLI6KED2O9OL:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:39:19.7960236+02:00 0HLI6KED2O9OM:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:39:19.7960461+02:00 0HLI6KED2O9OL:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0971ms. (50a9e262)
2018-11-10T02:39:19.7961318+02:00 0HLI6KED2O9OL:0000000B [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:39:19.7961926+02:00 0HLI6KED2O9OM:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9569ms (afa2e885)
2018-11-10T02:39:19.7963161+02:00 0HLI6KED2O9OM:00000007 [INF] Request finished in 4.211ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:19.7963264+02:00 0HLI6KED2O9OL:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.7717ms (afa2e885)
2018-11-10T02:39:19.7964046+02:00 0HLI6KED2O9OL:0000000B [INF] Request finished in 5.2693ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:46.3714503+02:00 0HLI6KED2O9OM:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:39:46.3716587+02:00 0HLI6KED2O9OM:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:46.3717795+02:00 0HLI6KED2O9OM:00000008 [INF] Request finished in 0.4148ms 204  (791a596a)
2018-11-10T02:39:46.5394912+02:00 0HLI6KED2O9OL:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:39:46.5396602+02:00 0HLI6KED2O9OL:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:46.5404543+02:00 0HLI6KED2O9OL:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:46.5405388+02:00 0HLI6KED2O9OL:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:46.5406706+02:00 0HLI6KED2O9OL:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:46.5410725+02:00 0HLI6KED2O9OL:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:39:46.5415276+02:00 0HLI6KED2O9OL:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:46.5446209+02:00 0HLI6KED2O9OL:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:39:46.5467363+02:00 0HLI6KED2O9OL:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:39:46.5468890+02:00 0HLI6KED2O9OL:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7478ms. (50a9e262)
2018-11-10T02:39:46.5469936+02:00 0HLI6KED2O9OL:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:39:46.5472194+02:00 0HLI6KED2O9OL:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.4835ms (afa2e885)
2018-11-10T02:39:46.5473279+02:00 0HLI6KED2O9OL:0000000C [INF] Request finished in 8.3629ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:49.1308890+02:00 0HLI6KED2O9OL:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:39:49.1313788+02:00 0HLI6KED2O9OM:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:39:49.1314199+02:00 0HLI6KED2O9OL:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:49.1314799+02:00 0HLI6KED2O9OM:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:49.1315316+02:00 0HLI6KED2O9OL:0000000D [INF] Request finished in 0.6907ms 204  (791a596a)
2018-11-10T02:39:49.1315545+02:00 0HLI6KED2O9OM:00000009 [INF] Request finished in 0.7275ms 204  (791a596a)
2018-11-10T02:39:49.2658610+02:00 0HLI6KED2O9OL:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:39:49.2660433+02:00 0HLI6KED2O9OL:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:49.2669532+02:00 0HLI6KED2O9OL:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:49.2671897+02:00 0HLI6KED2O9OL:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:49.2673346+02:00 0HLI6KED2O9OL:0000000E [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:49.2677747+02:00 0HLI6KED2O9OL:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:39:49.2682630+02:00 0HLI6KED2O9OL:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:49.2692720+02:00 0HLI6KED2O9OL:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:39:49.2697303+02:00 0HLI6KED2O9OM:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:39:49.2698775+02:00 0HLI6KED2O9OM:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:39:49.2707491+02:00 0HLI6KED2O9OM:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:39:49.2709441+02:00 0HLI6KED2O9OM:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:39:49.2712357+02:00 0HLI6KED2O9OL:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:39:49.2710767+02:00 0HLI6KED2O9OM:0000000A [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:39:49.2713763+02:00 0HLI6KED2O9OL:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4891ms. (50a9e262)
2018-11-10T02:39:49.2714856+02:00 0HLI6KED2O9OL:0000000E [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:39:49.2715196+02:00 0HLI6KED2O9OM:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:39:49.2716569+02:00 0HLI6KED2O9OL:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.2426ms (afa2e885)
2018-11-10T02:39:49.2717501+02:00 0HLI6KED2O9OL:0000000E [INF] Request finished in 5.942ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:39:49.2720375+02:00 0HLI6KED2O9OM:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:39:49.2738498+02:00 0HLI6KED2O9OM:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:39:49.2740041+02:00 0HLI6KED2O9OM:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3921ms. (50a9e262)
2018-11-10T02:39:49.2741217+02:00 0HLI6KED2O9OM:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:39:49.2743428+02:00 0HLI6KED2O9OM:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9846ms (afa2e885)
2018-11-10T02:39:49.2744679+02:00 0HLI6KED2O9OM:0000000A [INF] Request finished in 4.7775ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:40:11.6747436+02:00 0HLI6KED2O9OL:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:40:11.6751711+02:00 0HLI6KED2O9OL:0000000F [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:11.6755390+02:00 0HLI6KED2O9OL:0000000F [INF] Request finished in 0.8455ms 204  (791a596a)
2018-11-10T02:40:11.8927920+02:00 0HLI6KED2O9OM:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:40:11.8938859+02:00 0HLI6KED2O9OM:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:11.8948202+02:00 0HLI6KED2O9OM:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:40:11.8949375+02:00 0HLI6KED2O9OM:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:40:11.8950974+02:00 0HLI6KED2O9OM:0000000B [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:40:11.8954956+02:00 0HLI6KED2O9OM:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:40:11.8960308+02:00 0HLI6KED2O9OM:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:40:11.8985639+02:00 0HLI6KED2O9OM:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:40:11.9005582+02:00 0HLI6KED2O9OM:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:40:11.9007578+02:00 0HLI6KED2O9OM:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1655ms. (50a9e262)
2018-11-10T02:40:11.9009378+02:00 0HLI6KED2O9OM:0000000B [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:40:11.9013578+02:00 0HLI6KED2O9OM:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.178ms (afa2e885)
2018-11-10T02:40:11.9014719+02:00 0HLI6KED2O9OM:0000000B [INF] Request finished in 9.2025ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:40:48.3909117+02:00 0HLI6KED2O9OM:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:40:48.3909488+02:00 0HLI6KED2O9OL:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:40:48.3910743+02:00 0HLI6KED2O9OM:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:48.3910700+02:00 0HLI6KED2O9OL:00000010 [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:48.3911774+02:00 0HLI6KED2O9OM:0000000C [INF] Request finished in 0.3422ms 204  (791a596a)
2018-11-10T02:40:48.3911774+02:00 0HLI6KED2O9OL:00000010 [INF] Request finished in 0.3485ms 204  (791a596a)
2018-11-10T02:40:48.4256389+02:00 0HLI6KED2O9OM:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:40:48.4258316+02:00 0HLI6KED2O9OM:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:48.4259962+02:00 0HLI6KED2O9OM:0000000D [INF] Request finished in 0.3627ms 204  (791a596a)
2018-11-10T02:40:48.6135432+02:00 0HLI6KED2O9OL:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:40:48.6137848+02:00 0HLI6KED2O9OL:00000011 [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:48.6148370+02:00 0HLI6KED2O9OL:00000011 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:40:48.6149559+02:00 0HLI6KED2O9OL:00000011 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:40:48.6151066+02:00 0HLI6KED2O9OL:00000011 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:40:48.6154994+02:00 0HLI6KED2O9OL:00000011 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:40:48.6159775+02:00 0HLI6KED2O9OL:00000011 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:40:48.6185623+02:00 0HLI6KED2O9OL:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:40:48.6205106+02:00 0HLI6KED2O9OL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:40:48.6206926+02:00 0HLI6KED2O9OL:00000011 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1004ms. (50a9e262)
2018-11-10T02:40:48.6208031+02:00 0HLI6KED2O9OL:00000011 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:40:48.6210716+02:00 0HLI6KED2O9OL:00000011 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.8985ms (afa2e885)
2018-11-10T02:40:48.6211777+02:00 0HLI6KED2O9OL:00000011 [INF] Request finished in 7.6851ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:40:49.1834864+02:00 0HLI6KED2O9OM:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:40:49.1834864+02:00 0HLI6KED2O9OL:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:40:49.1836463+02:00 0HLI6KED2O9OL:00000012 [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:49.1836459+02:00 0HLI6KED2O9OM:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T02:40:49.1844362+02:00 0HLI6KED2O9OM:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:40:49.1844836+02:00 0HLI6KED2O9OL:00000012 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:40:49.1845297+02:00 0HLI6KED2O9OM:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:40:49.1845672+02:00 0HLI6KED2O9OL:00000012 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:40:49.1846592+02:00 0HLI6KED2O9OL:00000012 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:40:49.1846572+02:00 0HLI6KED2O9OM:0000000E [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:40:49.1848838+02:00 0HLI6KED2O9OM:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:40:49.1851124+02:00 0HLI6KED2O9OL:00000012 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:40:49.1852896+02:00 0HLI6KED2O9OM:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:40:49.1854708+02:00 0HLI6KED2O9OL:00000012 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:40:49.1864465+02:00 0HLI6KED2O9OL:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:40:49.1870738+02:00 0HLI6KED2O9OM:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:40:49.1872238+02:00 0HLI6KED2O9OM:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.2594ms. (50a9e262)
2018-11-10T02:40:49.1873359+02:00 0HLI6KED2O9OM:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:40:49.1876904+02:00 0HLI6KED2O9OM:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9483ms (afa2e885)
2018-11-10T02:40:49.1878258+02:00 0HLI6KED2O9OM:0000000E [INF] Request finished in 4.367ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:40:49.1884072+02:00 0HLI6KED2O9OL:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:40:49.1885541+02:00 0HLI6KED2O9OL:00000012 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3675ms. (50a9e262)
2018-11-10T02:40:49.1887238+02:00 0HLI6KED2O9OL:00000012 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:40:49.1889618+02:00 0HLI6KED2O9OL:00000012 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.2316ms (afa2e885)
2018-11-10T02:40:49.1890692+02:00 0HLI6KED2O9OL:00000012 [INF] Request finished in 5.6254ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:42:04.5796512+02:00 0HLI6KED2O9ON:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:42:04.5797897+02:00 0HLI6KED2O9OO:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:42:04.5798387+02:00 0HLI6KED2O9ON:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:04.5798908+02:00 0HLI6KED2O9OO:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:04.5799997+02:00 0HLI6KED2O9OO:00000001 [INF] Request finished in 0.2242ms 204  (791a596a)
2018-11-10T02:42:04.5800266+02:00 0HLI6KED2O9ON:00000001 [INF] Request finished in 0.5834ms 204  (791a596a)
2018-11-10T02:42:04.7095919+02:00 0HLI6KED2O9OO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:42:04.7097518+02:00 0HLI6KED2O9OO:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:04.7107489+02:00 0HLI6KED2O9OO:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:42:04.7108630+02:00 0HLI6KED2O9OO:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:42:04.7110232+02:00 0HLI6KED2O9OO:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:42:04.7115412+02:00 0HLI6KED2O9OO:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:42:04.7120216+02:00 0HLI6KED2O9OO:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:42:04.7133273+02:00 0HLI6KED2O9OO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:42:04.7154348+02:00 0HLI6KED2O9OO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:42:04.7156259+02:00 0HLI6KED2O9OO:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9876ms. (50a9e262)
2018-11-10T02:42:04.7157660+02:00 0HLI6KED2O9OO:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:42:04.7162571+02:00 0HLI6KED2O9OO:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 5.1027ms (afa2e885)
2018-11-10T02:42:04.7163893+02:00 0HLI6KED2O9OO:00000002 [INF] Request finished in 6.8637ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:42:04.7475856+02:00 0HLI6KED2O9ON:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:42:04.7477648+02:00 0HLI6KED2O9ON:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:04.7484505+02:00 0HLI6KED2O9ON:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:42:04.7485381+02:00 0HLI6KED2O9ON:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:42:04.7486849+02:00 0HLI6KED2O9ON:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:42:04.7489486+02:00 0HLI6KED2O9ON:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:42:04.7493643+02:00 0HLI6KED2O9ON:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:42:04.7510285+02:00 0HLI6KED2O9ON:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:42:04.7511883+02:00 0HLI6KED2O9ON:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.169ms. (50a9e262)
2018-11-10T02:42:04.7513060+02:00 0HLI6KED2O9ON:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:42:04.7514619+02:00 0HLI6KED2O9ON:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.7142ms (afa2e885)
2018-11-10T02:42:04.7515862+02:00 0HLI6KED2O9ON:00000002 [INF] Request finished in 4.0405ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:42:45.9040812+02:00 0HLI6KED2O9OO:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:42:45.9042510+02:00 0HLI6KED2O9OO:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:45.9043694+02:00 0HLI6KED2O9OO:00000003 [INF] Request finished in 0.399ms 204  (791a596a)
2018-11-10T02:42:46.0824150+02:00 0HLI6KED2O9ON:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:42:46.0828326+02:00 0HLI6KED2O9ON:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:42:46.0836422+02:00 0HLI6KED2O9ON:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:42:46.0837338+02:00 0HLI6KED2O9ON:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:42:46.0838700+02:00 0HLI6KED2O9ON:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:42:46.0842628+02:00 0HLI6KED2O9ON:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:42:46.0872284+02:00 0HLI6KED2O9ON:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:42:46.0895902+02:00 0HLI6KED2O9ON:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:42:46.0914916+02:00 0HLI6KED2O9ON:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:42:46.0916562+02:00 0HLI6KED2O9ON:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.3291ms. (50a9e262)
2018-11-10T02:42:46.0917754+02:00 0HLI6KED2O9ON:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:42:46.0919416+02:00 0HLI6KED2O9ON:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.0151ms (afa2e885)
2018-11-10T02:42:46.0920431+02:00 0HLI6KED2O9ON:00000003 [INF] Request finished in 9.7169ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:43:00.0775921+02:00 0HLI6KED2O9OO:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/111?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:43:00.0778277+02:00 0HLI6KED2O9OO:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.0780081+02:00 0HLI6KED2O9OO:00000004 [INF] Request finished in 0.4642ms 204  (791a596a)
2018-11-10T02:43:00.1594922+02:00 0HLI6KED2O9ON:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/111?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:43:00.1604636+02:00 0HLI6KED2O9ON:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.1615211+02:00 0HLI6KED2O9ON:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:43:00.1616486+02:00 0HLI6KED2O9ON:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:43:00.1617959+02:00 0HLI6KED2O9ON:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:43:00.1621898+02:00 0HLI6KED2O9ON:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["111"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:43:00.1626517+02:00 0HLI6KED2O9ON:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:43:00.1651500+02:00 0HLI6KED2O9ON:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:43:00.1819074+02:00 0HLI6KED2O9ON:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 19.5826ms. (50a9e262)
2018-11-10T02:43:00.1821608+02:00 0HLI6KED2O9ON:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:43:00.1841882+02:00 0HLI6KED2O9ON:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 22.2885ms (afa2e885)
2018-11-10T02:43:00.1843011+02:00 0HLI6KED2O9ON:00000004 [INF] Request finished in 25.6904ms 404 application/json; charset=utf-8 (791a596a)
2018-11-10T02:43:00.4112546+02:00 0HLI6KED2O9OO:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:43:00.4114701+02:00 0HLI6KED2O9OO:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.4116032+02:00 0HLI6KED2O9OO:00000005 [INF] Request finished in 0.4192ms 204  (791a596a)
2018-11-10T02:43:00.4117196+02:00 0HLI6KED2O9ON:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:43:00.4118096+02:00 0HLI6KED2O9ON:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.4118838+02:00 0HLI6KED2O9ON:00000005 [INF] Request finished in 0.1776ms 204  (791a596a)
2018-11-10T02:43:00.5911571+02:00 0HLI6KED2O9OO:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:43:00.5914421+02:00 0HLI6KED2O9OO:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.5924009+02:00 0HLI6KED2O9OO:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:43:00.5925083+02:00 0HLI6KED2O9OO:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:43:00.5926433+02:00 0HLI6KED2O9OO:00000006 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:43:00.5928919+02:00 0HLI6KED2O9ON:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:43:00.5930356+02:00 0HLI6KED2O9ON:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:00.5930277+02:00 0HLI6KED2O9OO:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:43:00.5948013+02:00 0HLI6KED2O9OO:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:43:00.5948297+02:00 0HLI6KED2O9ON:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:43:00.5949722+02:00 0HLI6KED2O9ON:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:43:00.5951712+02:00 0HLI6KED2O9ON:00000006 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:43:00.5954404+02:00 0HLI6KED2O9ON:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:43:00.5958987+02:00 0HLI6KED2O9OO:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:43:00.5958971+02:00 0HLI6KED2O9ON:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:43:00.5975664+02:00 0HLI6KED2O9OO:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:43:00.5975664+02:00 0HLI6KED2O9ON:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:43:00.5977271+02:00 0HLI6KED2O9OO:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4743ms. (50a9e262)
2018-11-10T02:43:00.5977184+02:00 0HLI6KED2O9ON:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.2077ms. (50a9e262)
2018-11-10T02:43:00.5978258+02:00 0HLI6KED2O9ON:00000006 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:43:00.5978337+02:00 0HLI6KED2O9OO:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:43:00.5979829+02:00 0HLI6KED2O9ON:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.7493ms (afa2e885)
2018-11-10T02:43:00.5980504+02:00 0HLI6KED2O9OO:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 5.3522ms (afa2e885)
2018-11-10T02:43:00.5980977+02:00 0HLI6KED2O9ON:00000006 [INF] Request finished in 5.2184ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:43:00.5981297+02:00 0HLI6KED2O9OO:00000006 [INF] Request finished in 8.3984ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:43:40.5078513+02:00 0HLI6KED2O9OO:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:43:40.5080522+02:00 0HLI6KED2O9OO:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:40.5081904+02:00 0HLI6KED2O9OO:00000007 [INF] Request finished in 0.4365ms 204  (791a596a)
2018-11-10T02:43:40.6041590+02:00 0HLI6KED2O9ON:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:43:40.6044507+02:00 0HLI6KED2O9ON:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:43:40.6367740+02:00 0HLI6KED2O9ON:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:43:40.6368948+02:00 0HLI6KED2O9ON:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:43:40.6370507+02:00 0HLI6KED2O9ON:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:43:40.6374766+02:00 0HLI6KED2O9ON:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:43:40.6379523+02:00 0HLI6KED2O9ON:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:43:40.6405327+02:00 0HLI6KED2O9ON:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:43:40.6424716+02:00 0HLI6KED2O9ON:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:43:40.6426414+02:00 0HLI6KED2O9ON:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0795ms. (50a9e262)
2018-11-10T02:43:40.6427720+02:00 0HLI6KED2O9ON:00000007 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:43:40.6430622+02:00 0HLI6KED2O9ON:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9325ms (afa2e885)
2018-11-10T02:43:40.6431676+02:00 0HLI6KED2O9ON:00000007 [INF] Request finished in 39.2035ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:12.6374809+02:00 0HLI6KED2O9OP:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:45:12.6377813+02:00 0HLI6KED2O9OP:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:12.6380746+02:00 0HLI6KED2O9OP:00000001 [INF] Request finished in 0.7444ms 204  (791a596a)
2018-11-10T02:45:12.7033361+02:00 0HLI6KED2O9OP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:45:12.7038208+02:00 0HLI6KED2O9OP:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:12.7050090+02:00 0HLI6KED2O9OP:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:12.7051191+02:00 0HLI6KED2O9OP:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:12.7052952+02:00 0HLI6KED2O9OP:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:12.7057341+02:00 0HLI6KED2O9OP:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:45:12.7062773+02:00 0HLI6KED2O9OP:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:12.7086860+02:00 0HLI6KED2O9OP:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:45:12.7105508+02:00 0HLI6KED2O9OP:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:45:12.7107296+02:00 0HLI6KED2O9OP:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8825ms. (50a9e262)
2018-11-10T02:45:12.7108456+02:00 0HLI6KED2O9OP:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:45:12.7110694+02:00 0HLI6KED2O9OP:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7051ms (afa2e885)
2018-11-10T02:45:12.7111756+02:00 0HLI6KED2O9OP:00000002 [INF] Request finished in 7.9291ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:13.0651349+02:00 0HLI6KED2O9OP:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:45:13.0653567+02:00 0HLI6KED2O9OP:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:13.0654957+02:00 0HLI6KED2O9OP:00000003 [INF] Request finished in 0.5107ms 204  (791a596a)
2018-11-10T02:45:13.0687376+02:00 0HLI6KED2O9OP:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:45:13.0689377+02:00 0HLI6KED2O9OP:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:13.0692918+02:00 0HLI6KED2O9OP:00000004 [INF] Request finished in 0.7085ms 204  (791a596a)
2018-11-10T02:45:13.1885177+02:00 0HLI6KED2O9OP:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:45:13.1888722+02:00 0HLI6KED2O9OP:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:13.1898946+02:00 0HLI6KED2O9OQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:45:13.1899629+02:00 0HLI6KED2O9OP:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:13.1900490+02:00 0HLI6KED2O9OP:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:13.1900628+02:00 0HLI6KED2O9OQ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:13.1901698+02:00 0HLI6KED2O9OP:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:13.1905819+02:00 0HLI6KED2O9OP:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:45:13.1909123+02:00 0HLI6KED2O9OQ:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:13.1909217+02:00 0HLI6KED2O9OP:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:13.1909944+02:00 0HLI6KED2O9OQ:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:13.1911452+02:00 0HLI6KED2O9OQ:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:13.1914255+02:00 0HLI6KED2O9OQ:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:45:13.1918652+02:00 0HLI6KED2O9OQ:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:13.1920156+02:00 0HLI6KED2O9OP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:45:13.1935953+02:00 0HLI6KED2O9OQ:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:45:13.1936604+02:00 0HLI6KED2O9OP:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:45:13.1937370+02:00 0HLI6KED2O9OQ:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.216ms. (50a9e262)
2018-11-10T02:45:13.1937784+02:00 0HLI6KED2O9OP:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.1263ms. (50a9e262)
2018-11-10T02:45:13.1938503+02:00 0HLI6KED2O9OQ:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:45:13.1938629+02:00 0HLI6KED2O9OP:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:45:13.1940958+02:00 0HLI6KED2O9OQ:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8887ms (afa2e885)
2018-11-10T02:45:13.1940958+02:00 0HLI6KED2O9OP:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.8605ms (afa2e885)
2018-11-10T02:45:13.1942087+02:00 0HLI6KED2O9OP:00000005 [INF] Request finished in 5.8306ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:13.1942245+02:00 0HLI6KED2O9OQ:00000001 [INF] Request finished in 4.3689ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:38.9880517+02:00 0HLI6KED2O9OP:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:45:38.9882771+02:00 0HLI6KED2O9OP:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:38.9883979+02:00 0HLI6KED2O9OP:00000006 [INF] Request finished in 0.4243ms 204  (791a596a)
2018-11-10T02:45:39.0426722+02:00 0HLI6KED2O9OQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:45:39.0428242+02:00 0HLI6KED2O9OQ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:39.0436985+02:00 0HLI6KED2O9OQ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:39.0437917+02:00 0HLI6KED2O9OQ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:39.0439413+02:00 0HLI6KED2O9OQ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:39.0443179+02:00 0HLI6KED2O9OQ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:45:39.0447821+02:00 0HLI6KED2O9OQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:39.0469255+02:00 0HLI6KED2O9OQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:45:39.0487721+02:00 0HLI6KED2O9OQ:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:45:39.0489486+02:00 0HLI6KED2O9OQ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5296ms. (50a9e262)
2018-11-10T02:45:39.0490666+02:00 0HLI6KED2O9OQ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:45:39.0493481+02:00 0HLI6KED2O9OQ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.3333ms (afa2e885)
2018-11-10T02:45:39.0494515+02:00 0HLI6KED2O9OQ:00000002 [INF] Request finished in 6.8621ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:39.2786833+02:00 0HLI6KED2O9OP:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:45:39.2803511+02:00 0HLI6KED2O9OP:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:39.2806456+02:00 0HLI6KED2O9OP:00000007 [INF] Request finished in 2.0001ms 204  (791a596a)
2018-11-10T02:45:39.2858542+02:00 0HLI6KED2O9OQ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:45:39.2860073+02:00 0HLI6KED2O9OQ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:39.2862181+02:00 0HLI6KED2O9OQ:00000003 [INF] Request finished in 0.405ms 204  (791a596a)
2018-11-10T02:45:39.5138912+02:00 0HLI6KED2O9OQ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:45:39.5144414+02:00 0HLI6KED2O9OQ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:39.5152380+02:00 0HLI6KED2O9OP:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:45:39.5153998+02:00 0HLI6KED2O9OP:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:45:39.5158183+02:00 0HLI6KED2O9OQ:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:39.5159019+02:00 0HLI6KED2O9OQ:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:39.5160318+02:00 0HLI6KED2O9OQ:00000004 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:39.5163054+02:00 0HLI6KED2O9OP:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:45:39.5163883+02:00 0HLI6KED2O9OP:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:45:39.5164972+02:00 0HLI6KED2O9OP:00000008 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:45:39.5165363+02:00 0HLI6KED2O9OQ:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:45:39.5166824+02:00 0HLI6KED2O9OP:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:45:39.5168860+02:00 0HLI6KED2O9OQ:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:39.5169828+02:00 0HLI6KED2O9OP:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:45:39.5178232+02:00 0HLI6KED2O9OQ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:45:39.5185464+02:00 0HLI6KED2O9OP:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:45:39.5187118+02:00 0HLI6KED2O9OP:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 1.9334ms. (50a9e262)
2018-11-10T02:45:39.5188255+02:00 0HLI6KED2O9OP:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:45:39.5189960+02:00 0HLI6KED2O9OP:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.4264ms (afa2e885)
2018-11-10T02:45:39.5191562+02:00 0HLI6KED2O9OP:00000008 [INF] Request finished in 5.3179ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:45:39.5200941+02:00 0HLI6KED2O9OQ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:45:39.5203538+02:00 0HLI6KED2O9OQ:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7066ms. (50a9e262)
2018-11-10T02:45:39.5207458+02:00 0HLI6KED2O9OQ:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:45:39.5210932+02:00 0HLI6KED2O9OQ:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.9555ms (afa2e885)
2018-11-10T02:45:39.5212949+02:00 0HLI6KED2O9OQ:00000004 [INF] Request finished in 7.4546ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:47:51.3209706+02:00 0HLI6KED2O9OR:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:47:51.3211660+02:00 0HLI6KED2O9OR:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:51.3212864+02:00 0HLI6KED2O9OR:00000001 [INF] Request finished in 0.4215ms 204  (791a596a)
2018-11-10T02:47:51.3340905+02:00 0HLI6KED2O9OR:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:47:51.3344821+02:00 0HLI6KED2O9OR:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:51.3346305+02:00 0HLI6KED2O9OR:00000002 [INF] Request finished in 0.5806ms 204  (791a596a)
2018-11-10T02:47:51.9423690+02:00 0HLI6KED2O9OR:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:47:51.9425923+02:00 0HLI6KED2O9OR:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:51.9427360+02:00 0HLI6KED2O9OR:00000003 [INF] Request finished in 0.4389ms 204  (791a596a)
2018-11-10T02:47:52.0777819+02:00 0HLI6KED2O9OR:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:47:52.0781249+02:00 0HLI6KED2O9OR:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:52.0794513+02:00 0HLI6KED2O9OR:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:47:52.0796838+02:00 0HLI6KED2O9OR:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:47:52.0798488+02:00 0HLI6KED2O9OR:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:47:52.0804046+02:00 0HLI6KED2O9OR:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:47:52.0810449+02:00 0HLI6KED2O9OR:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:47:52.0844479+02:00 0HLI6KED2O9OR:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:47:52.0864295+02:00 0HLI6KED2O9OR:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:47:52.0865953+02:00 0HLI6KED2O9OR:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0572ms. (50a9e262)
2018-11-10T02:47:52.0867074+02:00 0HLI6KED2O9OR:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:47:52.0869727+02:00 0HLI6KED2O9OR:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.0567ms (afa2e885)
2018-11-10T02:47:52.0870863+02:00 0HLI6KED2O9OR:00000004 [INF] Request finished in 9.4287ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:47:52.4341814+02:00 0HLI6KED2O9OR:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:47:52.4344262+02:00 0HLI6KED2O9OR:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:52.4351371+02:00 0HLI6KED2O9OR:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:47:52.4352398+02:00 0HLI6KED2O9OR:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:47:52.4354344+02:00 0HLI6KED2O9OR:00000005 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:47:52.4356929+02:00 0HLI6KED2O9OR:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:47:52.4361106+02:00 0HLI6KED2O9OR:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:47:52.4380638+02:00 0HLI6KED2O9OR:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:47:52.4382283+02:00 0HLI6KED2O9OR:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.4525ms. (50a9e262)
2018-11-10T02:47:52.4383384+02:00 0HLI6KED2O9OR:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:47:52.4385129+02:00 0HLI6KED2O9OR:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.0004ms (afa2e885)
2018-11-10T02:47:52.4386396+02:00 0HLI6KED2O9OR:00000005 [INF] Request finished in 4.4964ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:47:52.4643743+02:00 0HLI6KED2O9OR:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:47:52.4645295+02:00 0HLI6KED2O9OR:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:47:52.4652707+02:00 0HLI6KED2O9OR:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:47:52.4653796+02:00 0HLI6KED2O9OR:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:47:52.4655375+02:00 0HLI6KED2O9OR:00000006 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:47:52.4659260+02:00 0HLI6KED2O9OR:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:47:52.4665102+02:00 0HLI6KED2O9OR:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:47:52.4675697+02:00 0HLI6KED2O9OR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:47:52.4698371+02:00 0HLI6KED2O9OR:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:47:52.4700001+02:00 0HLI6KED2O9OR:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9667ms. (50a9e262)
2018-11-10T02:47:52.4701194+02:00 0HLI6KED2O9OR:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:47:52.4703099+02:00 0HLI6KED2O9OR:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.708ms (afa2e885)
2018-11-10T02:47:52.4704331+02:00 0HLI6KED2O9OR:00000006 [INF] Request finished in 6.1105ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:49:01.1801319+02:00 0HLI6KED2O9OS:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:49:01.1803025+02:00 0HLI6KED2O9OS:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:01.1804228+02:00 0HLI6KED2O9OS:00000001 [INF] Request finished in 0.3872ms 204  (791a596a)
2018-11-10T02:49:01.2622965+02:00 0HLI6KED2O9OS:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:49:01.2624599+02:00 0HLI6KED2O9OS:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:01.2633508+02:00 0HLI6KED2O9OS:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:49:01.2634570+02:00 0HLI6KED2O9OS:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:49:01.2636137+02:00 0HLI6KED2O9OS:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:49:01.2640416+02:00 0HLI6KED2O9OS:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:49:01.2645220+02:00 0HLI6KED2O9OS:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:49:01.2671009+02:00 0HLI6KED2O9OS:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:49:01.2690604+02:00 0HLI6KED2O9OS:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:49:01.2692309+02:00 0HLI6KED2O9OS:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1114ms. (50a9e262)
2018-11-10T02:49:01.2693568+02:00 0HLI6KED2O9OS:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:49:01.2696426+02:00 0HLI6KED2O9OS:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.953ms (afa2e885)
2018-11-10T02:49:01.2697456+02:00 0HLI6KED2O9OS:00000002 [INF] Request finished in 7.5339ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:49:19.0179725+02:00 0HLI6KED2O9OS:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:49:19.0182674+02:00 0HLI6KED2O9OS:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:19.0183862+02:00 0HLI6KED2O9OS:00000003 [INF] Request finished in 0.5163ms 204  (791a596a)
2018-11-10T02:49:19.0203884+02:00 0HLI6KED2O9OS:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:49:19.0205340+02:00 0HLI6KED2O9OS:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:19.0206398+02:00 0HLI6KED2O9OS:00000004 [INF] Request finished in 0.296ms 204  (791a596a)
2018-11-10T02:49:19.1423640+02:00 0HLI6KED2O9OS:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:49:19.1434527+02:00 0HLI6KED2O9OS:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:19.1439509+02:00 0HLI6KED2O9OT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:49:19.1449129+02:00 0HLI6KED2O9OT:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:19.1452239+02:00 0HLI6KED2O9OS:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:49:19.1456621+02:00 0HLI6KED2O9OS:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:49:19.1461034+02:00 0HLI6KED2O9OS:00000005 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:49:19.1463577+02:00 0HLI6KED2O9OT:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:49:19.1463636+02:00 0HLI6KED2O9OS:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:49:19.1464781+02:00 0HLI6KED2O9OT:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:49:19.1465909+02:00 0HLI6KED2O9OT:00000001 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:49:19.1468136+02:00 0HLI6KED2O9OS:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:49:19.1469379+02:00 0HLI6KED2O9OT:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:49:19.1472446+02:00 0HLI6KED2O9OT:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:49:19.1482094+02:00 0HLI6KED2O9OT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:49:19.1486700+02:00 0HLI6KED2O9OS:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:49:19.1487947+02:00 0HLI6KED2O9OS:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3471ms. (50a9e262)
2018-11-10T02:49:19.1489048+02:00 0HLI6KED2O9OS:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:49:19.1491733+02:00 0HLI6KED2O9OS:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9881ms (afa2e885)
2018-11-10T02:49:19.1492862+02:00 0HLI6KED2O9OS:00000005 [INF] Request finished in 7.0563ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:49:19.1501992+02:00 0HLI6KED2O9OT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:49:19.1503808+02:00 0HLI6KED2O9OT:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3564ms. (50a9e262)
2018-11-10T02:49:19.1505308+02:00 0HLI6KED2O9OT:00000001 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:49:19.1507381+02:00 0HLI6KED2O9OT:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.0626ms (afa2e885)
2018-11-10T02:49:19.1508375+02:00 0HLI6KED2O9OT:00000001 [INF] Request finished in 6.9624ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:49:45.1087377+02:00 0HLI6KED2O9OS:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:49:45.1089844+02:00 0HLI6KED2O9OS:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:45.1091423+02:00 0HLI6KED2O9OS:00000006 [INF] Request finished in 0.5506ms 204  (791a596a)
2018-11-10T02:49:45.1176352+02:00 0HLI6KED2O9OT:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:49:45.1177765+02:00 0HLI6KED2O9OT:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:45.1180154+02:00 0HLI6KED2O9OT:00000002 [INF] Request finished in 0.3043ms 204  (791a596a)
2018-11-10T02:49:45.3008405+02:00 0HLI6KED2O9OT:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:49:45.3008515+02:00 0HLI6KED2O9OS:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:49:45.3009877+02:00 0HLI6KED2O9OT:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:45.3012210+02:00 0HLI6KED2O9OS:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:49:45.3019533+02:00 0HLI6KED2O9OT:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:49:45.3020792+02:00 0HLI6KED2O9OT:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:49:45.3022193+02:00 0HLI6KED2O9OT:00000003 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:49:45.3023602+02:00 0HLI6KED2O9OS:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:49:45.3024329+02:00 0HLI6KED2O9OS:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:49:45.3024869+02:00 0HLI6KED2O9OT:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:49:45.3027285+02:00 0HLI6KED2O9OS:00000007 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:49:45.3029626+02:00 0HLI6KED2O9OT:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:49:45.3030739+02:00 0HLI6KED2O9OS:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:49:45.3034000+02:00 0HLI6KED2O9OS:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:49:45.3043327+02:00 0HLI6KED2O9OS:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:49:45.3047006+02:00 0HLI6KED2O9OT:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:49:45.3048384+02:00 0HLI6KED2O9OT:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.2693ms. (50a9e262)
2018-11-10T02:49:45.3049552+02:00 0HLI6KED2O9OT:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:49:45.3051234+02:00 0HLI6KED2O9OT:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8389ms (afa2e885)
2018-11-10T02:49:45.3052422+02:00 0HLI6KED2O9OT:00000003 [INF] Request finished in 4.5809ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:49:45.3063400+02:00 0HLI6KED2O9OS:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:49:45.3065235+02:00 0HLI6KED2O9OS:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3588ms. (50a9e262)
2018-11-10T02:49:45.3066558+02:00 0HLI6KED2O9OS:00000007 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:49:45.3069337+02:00 0HLI6KED2O9OS:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.1159ms (afa2e885)
2018-11-10T02:49:45.3070320+02:00 0HLI6KED2O9OS:00000007 [INF] Request finished in 6.4058ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:50:06.4960983+02:00 0HLI6KED2O9OT:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:50:06.4963430+02:00 0HLI6KED2O9OT:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:06.4965428+02:00 0HLI6KED2O9OT:00000004 [INF] Request finished in 0.5206ms 204  (791a596a)
2018-11-10T02:50:06.6144025+02:00 0HLI6KED2O9OS:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:50:06.6167349+02:00 0HLI6KED2O9OS:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:06.6200954+02:00 0HLI6KED2O9OS:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:50:06.6202722+02:00 0HLI6KED2O9OS:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:50:06.6211115+02:00 0HLI6KED2O9OS:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:50:06.6222641+02:00 0HLI6KED2O9OS:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:50:06.6230453+02:00 0HLI6KED2O9OS:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:50:06.6259079+02:00 0HLI6KED2O9OS:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:50:06.6279760+02:00 0HLI6KED2O9OS:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:50:06.6281521+02:00 0HLI6KED2O9OS:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.7829ms. (50a9e262)
2018-11-10T02:50:06.6282689+02:00 0HLI6KED2O9OS:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:50:06.6285614+02:00 0HLI6KED2O9OS:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.3441ms (afa2e885)
2018-11-10T02:50:06.6286672+02:00 0HLI6KED2O9OS:00000008 [INF] Request finished in 14.3618ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:50:51.2880943+02:00 0HLI6KED2O9OT:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:50:51.2882672+02:00 0HLI6KED2O9OT:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:51.2883836+02:00 0HLI6KED2O9OT:00000005 [INF] Request finished in 0.3722ms 204  (791a596a)
2018-11-10T02:50:51.4447277+02:00 0HLI6KED2O9OS:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:50:51.4449724+02:00 0HLI6KED2O9OS:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:51.4460418+02:00 0HLI6KED2O9OS:00000009 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:50:51.4461440+02:00 0HLI6KED2O9OS:00000009 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:50:51.4462936+02:00 0HLI6KED2O9OS:00000009 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:50:51.4467515+02:00 0HLI6KED2O9OS:00000009 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:50:51.4472517+02:00 0HLI6KED2O9OS:00000009 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:50:51.4496331+02:00 0HLI6KED2O9OS:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:50:51.4515113+02:00 0HLI6KED2O9OS:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:50:51.4516960+02:00 0HLI6KED2O9OS:00000009 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8517ms. (50a9e262)
2018-11-10T02:50:51.4518239+02:00 0HLI6KED2O9OS:00000009 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:50:51.4521220+02:00 0HLI6KED2O9OS:00000009 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7485ms (afa2e885)
2018-11-10T02:50:51.4522321+02:00 0HLI6KED2O9OS:00000009 [INF] Request finished in 7.8016ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:50:53.1842743+02:00 0HLI6KED2O9OT:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:50:53.1845329+02:00 0HLI6KED2O9OT:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:53.1846651+02:00 0HLI6KED2O9OT:00000006 [INF] Request finished in 0.4428ms 204  (791a596a)
2018-11-10T02:50:53.1932862+02:00 0HLI6KED2O9OS:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:50:53.1934713+02:00 0HLI6KED2O9OS:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:53.1935783+02:00 0HLI6KED2O9OS:0000000A [INF] Request finished in 0.3386ms 204  (791a596a)
2018-11-10T02:50:53.3191263+02:00 0HLI6KED2O9OT:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:50:53.3191153+02:00 0HLI6KED2O9OS:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:50:53.3193166+02:00 0HLI6KED2O9OS:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:53.3193233+02:00 0HLI6KED2O9OT:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:50:53.3201752+02:00 0HLI6KED2O9OS:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:50:53.3201673+02:00 0HLI6KED2O9OT:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:50:53.3202632+02:00 0HLI6KED2O9OT:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:50:53.3202636+02:00 0HLI6KED2O9OS:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:50:53.3203884+02:00 0HLI6KED2O9OS:0000000B [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:50:53.3203899+02:00 0HLI6KED2O9OT:00000007 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:50:53.3206280+02:00 0HLI6KED2O9OT:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:50:53.3207570+02:00 0HLI6KED2O9OS:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:50:53.3210405+02:00 0HLI6KED2O9OS:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:50:53.3210432+02:00 0HLI6KED2O9OT:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:50:53.3221754+02:00 0HLI6KED2O9OS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:50:53.3227086+02:00 0HLI6KED2O9OT:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:50:53.3228519+02:00 0HLI6KED2O9OT:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.1454ms. (50a9e262)
2018-11-10T02:50:53.3229612+02:00 0HLI6KED2O9OT:00000007 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:50:53.3232182+02:00 0HLI6KED2O9OT:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.7556ms (afa2e885)
2018-11-10T02:50:53.3233509+02:00 0HLI6KED2O9OT:00000007 [INF] Request finished in 4.2841ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:50:53.3241522+02:00 0HLI6KED2O9OS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:50:53.3243282+02:00 0HLI6KED2O9OS:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4441ms. (50a9e262)
2018-11-10T02:50:53.3244553+02:00 0HLI6KED2O9OS:0000000B [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:50:53.3247636+02:00 0HLI6KED2O9OS:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.2998ms (afa2e885)
2018-11-10T02:50:53.3248777+02:00 0HLI6KED2O9OS:0000000B [INF] Request finished in 5.818ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:51:12.3565497+02:00 0HLI6KED2O9OT:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:51:12.3568962+02:00 0HLI6KED2O9OT:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:12.3570403+02:00 0HLI6KED2O9OT:00000008 [INF] Request finished in 0.7109ms 204  (791a596a)
2018-11-10T02:51:12.4472453+02:00 0HLI6KED2O9OS:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:51:12.4476879+02:00 0HLI6KED2O9OS:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:12.4488705+02:00 0HLI6KED2O9OS:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:51:12.4489905+02:00 0HLI6KED2O9OS:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:51:12.4491354+02:00 0HLI6KED2O9OS:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:51:12.4495589+02:00 0HLI6KED2O9OS:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:51:12.4499959+02:00 0HLI6KED2O9OS:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:51:12.4525222+02:00 0HLI6KED2O9OS:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:51:12.4545432+02:00 0HLI6KED2O9OS:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:51:12.4547142+02:00 0HLI6KED2O9OS:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0787ms. (50a9e262)
2018-11-10T02:51:12.4548602+02:00 0HLI6KED2O9OS:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:51:12.4550501+02:00 0HLI6KED2O9OS:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.8267ms (afa2e885)
2018-11-10T02:51:12.4551657+02:00 0HLI6KED2O9OS:0000000C [INF] Request finished in 8.2843ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:51:20.4422267+02:00 0HLI6KED2O9OT:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:51:20.4425823+02:00 0HLI6KED2O9OT:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:20.4427019+02:00 0HLI6KED2O9OT:00000009 [INF] Request finished in 0.5325ms 204  (791a596a)
2018-11-10T02:51:20.5932583+02:00 0HLI6KED2O9OS:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:51:20.5934158+02:00 0HLI6KED2O9OS:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:20.5942257+02:00 0HLI6KED2O9OS:0000000D [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:51:20.5943572+02:00 0HLI6KED2O9OS:0000000D [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:51:20.5945040+02:00 0HLI6KED2O9OS:0000000D [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:51:20.5950346+02:00 0HLI6KED2O9OS:0000000D [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:51:20.5956713+02:00 0HLI6KED2O9OS:0000000D [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:51:20.5982316+02:00 0HLI6KED2O9OS:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:51:20.6000446+02:00 0HLI6KED2O9OS:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:51:20.6002025+02:00 0HLI6KED2O9OS:0000000D [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0838ms. (50a9e262)
2018-11-10T02:51:20.6003087+02:00 0HLI6KED2O9OS:0000000D [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:51:20.6004611+02:00 0HLI6KED2O9OS:0000000D [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.897ms (afa2e885)
2018-11-10T02:51:20.6005582+02:00 0HLI6KED2O9OS:0000000D [INF] Request finished in 8.2109ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:51:23.7327754+02:00 0HLI6KED2O9OT:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:51:23.7331141+02:00 0HLI6KED2O9OT:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:23.7332593+02:00 0HLI6KED2O9OT:0000000A [INF] Request finished in 0.5727ms 204  (791a596a)
2018-11-10T02:51:23.7347806+02:00 0HLI6KED2O9OS:0000000E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:51:23.7349128+02:00 0HLI6KED2O9OS:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:23.7350210+02:00 0HLI6KED2O9OS:0000000E [INF] Request finished in 0.283ms 204  (791a596a)
2018-11-10T02:51:23.8603050+02:00 0HLI6KED2O9OT:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:51:23.8605063+02:00 0HLI6KED2O9OT:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:23.8613144+02:00 0HLI6KED2O9OT:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:51:23.8614158+02:00 0HLI6KED2O9OT:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:51:23.8615271+02:00 0HLI6KED2O9OT:0000000B [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:51:23.8618974+02:00 0HLI6KED2O9OS:0000000F [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:51:23.8619219+02:00 0HLI6KED2O9OT:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:51:23.8620391+02:00 0HLI6KED2O9OS:0000000F [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:23.8622874+02:00 0HLI6KED2O9OT:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:51:23.8628033+02:00 0HLI6KED2O9OS:0000000F [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:51:23.8629032+02:00 0HLI6KED2O9OS:0000000F [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:51:23.8630331+02:00 0HLI6KED2O9OS:0000000F [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:51:23.8632410+02:00 0HLI6KED2O9OT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:51:23.8635971+02:00 0HLI6KED2O9OS:0000000F [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:51:23.8641489+02:00 0HLI6KED2O9OS:0000000F [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:51:23.8652290+02:00 0HLI6KED2O9OT:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:51:23.8654078+02:00 0HLI6KED2O9OT:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.405ms. (50a9e262)
2018-11-10T02:51:23.8655404+02:00 0HLI6KED2O9OT:0000000B [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:51:23.8657240+02:00 0HLI6KED2O9OT:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.14ms (afa2e885)
2018-11-10T02:51:23.8658408+02:00 0HLI6KED2O9OT:0000000B [INF] Request finished in 5.6052ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:51:23.8659296+02:00 0HLI6KED2O9OS:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:51:23.8660465+02:00 0HLI6KED2O9OS:0000000F [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3321ms. (50a9e262)
2018-11-10T02:51:23.8661377+02:00 0HLI6KED2O9OS:0000000F [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:51:23.8663950+02:00 0HLI6KED2O9OS:0000000F [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.2901ms (afa2e885)
2018-11-10T02:51:23.8664965+02:00 0HLI6KED2O9OS:0000000F [INF] Request finished in 4.7289ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:51:36.5605881+02:00 0HLI6KED2O9OT:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:51:36.5609856+02:00 0HLI6KED2O9OT:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:36.5612106+02:00 0HLI6KED2O9OT:0000000C [INF] Request finished in 0.7038ms 204  (791a596a)
2018-11-10T02:51:36.6794907+02:00 0HLI6KED2O9OS:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:51:36.6799214+02:00 0HLI6KED2O9OS:00000010 [INF] Policy execution successful. (0204925d)
2018-11-10T02:51:36.6810198+02:00 0HLI6KED2O9OS:00000010 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:51:36.6811264+02:00 0HLI6KED2O9OS:00000010 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:51:36.6824883+02:00 0HLI6KED2O9OS:00000010 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:51:36.6838127+02:00 0HLI6KED2O9OS:00000010 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:51:36.6843926+02:00 0HLI6KED2O9OS:00000010 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:51:36.6867625+02:00 0HLI6KED2O9OS:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:51:36.6886233+02:00 0HLI6KED2O9OS:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:51:36.6887872+02:00 0HLI6KED2O9OS:00000010 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.871ms. (50a9e262)
2018-11-10T02:51:36.6888969+02:00 0HLI6KED2O9OS:00000010 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:51:36.6891787+02:00 0HLI6KED2O9OS:00000010 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5885ms (afa2e885)
2018-11-10T02:51:36.6892802+02:00 0HLI6KED2O9OS:00000010 [INF] Request finished in 9.8898ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:55:39.6414247+02:00 0HLI6KED2O9OU:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:55:39.6416217+02:00 0HLI6KED2O9OU:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:39.6417579+02:00 0HLI6KED2O9OU:00000001 [INF] Request finished in 0.4464ms 204  (791a596a)
2018-11-10T02:55:39.7445761+02:00 0HLI6KED2O9OU:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:55:39.7448725+02:00 0HLI6KED2O9OU:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:39.7468482+02:00 0HLI6KED2O9OU:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:55:39.7469678+02:00 0HLI6KED2O9OU:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:55:39.7471568+02:00 0HLI6KED2O9OU:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:55:39.7476724+02:00 0HLI6KED2O9OU:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:55:39.7483399+02:00 0HLI6KED2O9OU:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:55:39.7509831+02:00 0HLI6KED2O9OU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:55:39.7535825+02:00 0HLI6KED2O9OU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:55:39.7537676+02:00 0HLI6KED2O9OU:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0012ms. (50a9e262)
2018-11-10T02:55:39.7538876+02:00 0HLI6KED2O9OU:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:55:39.7541962+02:00 0HLI6KED2O9OU:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.9612ms (afa2e885)
2018-11-10T02:55:39.7543012+02:00 0HLI6KED2O9OU:00000002 [INF] Request finished in 10.5359ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:55:40.5822644+02:00 0HLI6KED2O9OU:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:55:40.5830104+02:00 0HLI6KED2O9OU:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:40.5833511+02:00 0HLI6KED2O9OU:00000003 [INF] Request finished in 1.7617ms 204  (791a596a)
2018-11-10T02:55:40.5856007+02:00 0HLI6KED2O9OU:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:55:40.5857476+02:00 0HLI6KED2O9OU:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:40.5861356+02:00 0HLI6KED2O9OU:00000004 [INF] Request finished in 0.5565ms 204  (791a596a)
2018-11-10T02:55:40.7191000+02:00 0HLI6KED2O9OU:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:55:40.7192741+02:00 0HLI6KED2O9OU:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:40.7202511+02:00 0HLI6KED2O9OU:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:55:40.7202708+02:00 0HLI6KED2O9OV:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:55:40.7203474+02:00 0HLI6KED2O9OU:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:55:40.7203884+02:00 0HLI6KED2O9OV:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:55:40.7204725+02:00 0HLI6KED2O9OU:00000005 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:55:40.7208992+02:00 0HLI6KED2O9OU:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:55:40.7212738+02:00 0HLI6KED2O9OU:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:55:40.7213102+02:00 0HLI6KED2O9OV:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:55:40.7213899+02:00 0HLI6KED2O9OV:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:55:40.7215470+02:00 0HLI6KED2O9OV:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:55:40.7219623+02:00 0HLI6KED2O9OV:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:55:40.7221987+02:00 0HLI6KED2O9OU:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:55:40.7225690+02:00 0HLI6KED2O9OV:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:55:40.7241159+02:00 0HLI6KED2O9OU:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:55:40.7242939+02:00 0HLI6KED2O9OU:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3083ms. (50a9e262)
2018-11-10T02:55:40.7244218+02:00 0HLI6KED2O9OU:00000005 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:55:40.7244637+02:00 0HLI6KED2O9OV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:55:40.7245794+02:00 0HLI6KED2O9OV:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.5397ms. (50a9e262)
2018-11-10T02:55:40.7246465+02:00 0HLI6KED2O9OU:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.0729ms (afa2e885)
2018-11-10T02:55:40.7246709+02:00 0HLI6KED2O9OV:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:55:40.7247720+02:00 0HLI6KED2O9OU:00000005 [INF] Request finished in 5.7241ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:55:40.7249259+02:00 0HLI6KED2O9OV:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.3154ms (afa2e885)
2018-11-10T02:55:40.7250207+02:00 0HLI6KED2O9OV:00000001 [INF] Request finished in 4.781ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:57:36.3531206+02:00 0HLI6KED2O9P0:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:57:36.3534367+02:00 0HLI6KED2O9P0:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:36.3535677+02:00 0HLI6KED2O9P0:00000001 [INF] Request finished in 0.5676ms 204  (791a596a)
2018-11-10T02:57:36.4719419+02:00 0HLI6KED2O9P0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:57:36.4721231+02:00 0HLI6KED2O9P0:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:36.4732215+02:00 0HLI6KED2O9P0:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:57:36.4733411+02:00 0HLI6KED2O9P0:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:57:36.4735681+02:00 0HLI6KED2O9P0:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:57:36.4740130+02:00 0HLI6KED2O9P0:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:57:36.4745582+02:00 0HLI6KED2O9P0:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:57:36.4771618+02:00 0HLI6KED2O9P0:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:57:36.4791431+02:00 0HLI6KED2O9P0:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:57:36.4793424+02:00 0HLI6KED2O9P0:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2531ms. (50a9e262)
2018-11-10T02:57:36.4794640+02:00 0HLI6KED2O9P0:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:57:36.4797987+02:00 0HLI6KED2O9P0:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1468ms (afa2e885)
2018-11-10T02:57:36.4799128+02:00 0HLI6KED2O9P0:00000002 [INF] Request finished in 8.0459ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:57:37.9026515+02:00 0HLI6KED2O9P0:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:57:37.9028844+02:00 0HLI6KED2O9P0:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:37.9030075+02:00 0HLI6KED2O9P0:00000003 [INF] Request finished in 0.4093ms 204  (791a596a)
2018-11-10T02:57:37.9039995+02:00 0HLI6KED2O9P1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:57:37.9041669+02:00 0HLI6KED2O9P1:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:37.9042856+02:00 0HLI6KED2O9P1:00000001 [INF] Request finished in 0.3296ms 204  (791a596a)
2018-11-10T02:57:38.0715639+02:00 0HLI6KED2O9P0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:57:38.0717562+02:00 0HLI6KED2O9P1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:57:38.0718276+02:00 0HLI6KED2O9P1:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:38.0718257+02:00 0HLI6KED2O9P0:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:57:38.0727971+02:00 0HLI6KED2O9P0:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:57:38.0729183+02:00 0HLI6KED2O9P0:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:57:38.0730806+02:00 0HLI6KED2O9P0:00000004 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:57:38.0735140+02:00 0HLI6KED2O9P0:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:57:38.0739316+02:00 0HLI6KED2O9P0:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:57:38.0749497+02:00 0HLI6KED2O9P0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:57:38.0771441+02:00 0HLI6KED2O9P0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:57:38.0773216+02:00 0HLI6KED2O9P0:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7089ms. (50a9e262)
2018-11-10T02:57:38.0774436+02:00 0HLI6KED2O9P0:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:57:38.0777554+02:00 0HLI6KED2O9P0:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.5916ms (afa2e885)
2018-11-10T02:57:38.0778802+02:00 0HLI6KED2O9P0:00000004 [INF] Request finished in 6.4101ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:57:38.1011600+02:00 0HLI6KED2O9P1:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:57:38.1012740+02:00 0HLI6KED2O9P1:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:57:38.1014252+02:00 0HLI6KED2O9P1:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:57:38.1017146+02:00 0HLI6KED2O9P1:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:57:38.1021298+02:00 0HLI6KED2O9P1:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:57:38.1044244+02:00 0HLI6KED2O9P1:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:57:38.1045851+02:00 0HLI6KED2O9P1:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.7963ms. (50a9e262)
2018-11-10T02:57:38.1047027+02:00 0HLI6KED2O9P1:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:57:38.1049838+02:00 0HLI6KED2O9P1:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.4583ms (afa2e885)
2018-11-10T02:57:38.1051152+02:00 0HLI6KED2O9P1:00000002 [INF] Request finished in 33.3645ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:58:24.0644050+02:00 0HLI6KED2O9P0:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:58:24.0646770+02:00 0HLI6KED2O9P0:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:24.0649466+02:00 0HLI6KED2O9P0:00000005 [INF] Request finished in 0.6935ms 204  (791a596a)
2018-11-10T02:58:24.1762808+02:00 0HLI6KED2O9P1:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:58:24.1771840+02:00 0HLI6KED2O9P1:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:24.1787069+02:00 0HLI6KED2O9P1:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:58:24.1788873+02:00 0HLI6KED2O9P1:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:58:24.1790258+02:00 0HLI6KED2O9P1:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:58:24.1794285+02:00 0HLI6KED2O9P1:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:58:24.1798919+02:00 0HLI6KED2O9P1:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:58:24.1833775+02:00 0HLI6KED2O9P1:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:58:24.1863506+02:00 0HLI6KED2O9P1:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:58:24.1865744+02:00 0HLI6KED2O9P1:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.0551ms. (50a9e262)
2018-11-10T02:58:24.1868527+02:00 0HLI6KED2O9P1:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:58:24.1872901+02:00 0HLI6KED2O9P1:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.1667ms (afa2e885)
2018-11-10T02:58:24.1874137+02:00 0HLI6KED2O9P1:00000003 [INF] Request finished in 11.2338ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:58:26.7816409+02:00 0HLI6KED2O9P0:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:58:26.7819002+02:00 0HLI6KED2O9P0:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:26.7821174+02:00 0HLI6KED2O9P0:00000006 [INF] Request finished in 0.5593ms 204  (791a596a)
2018-11-10T02:58:26.7842371+02:00 0HLI6KED2O9P1:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:58:26.7845261+02:00 0HLI6KED2O9P1:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:26.7848107+02:00 0HLI6KED2O9P1:00000004 [INF] Request finished in 0.4527ms 204  (791a596a)
2018-11-10T02:58:26.9182172+02:00 0HLI6KED2O9P0:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:58:26.9183696+02:00 0HLI6KED2O9P0:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:26.9200326+02:00 0HLI6KED2O9P0:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:58:26.9201696+02:00 0HLI6KED2O9P0:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:58:26.9204148+02:00 0HLI6KED2O9P0:00000007 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:58:26.9209045+02:00 0HLI6KED2O9P0:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:58:26.9212914+02:00 0HLI6KED2O9P0:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:58:26.9222656+02:00 0HLI6KED2O9P0:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:58:26.9242820+02:00 0HLI6KED2O9P0:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:58:26.9243961+02:00 0HLI6KED2O9P1:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:58:26.9244541+02:00 0HLI6KED2O9P0:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4669ms. (50a9e262)
2018-11-10T02:58:26.9245240+02:00 0HLI6KED2O9P1:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T02:58:26.9245658+02:00 0HLI6KED2O9P0:00000007 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:58:26.9249574+02:00 0HLI6KED2O9P0:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.4664ms (afa2e885)
2018-11-10T02:58:26.9250727+02:00 0HLI6KED2O9P0:00000007 [INF] Request finished in 6.9193ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:58:26.9254307+02:00 0HLI6KED2O9P1:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:58:26.9255227+02:00 0HLI6KED2O9P1:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:58:26.9256995+02:00 0HLI6KED2O9P1:00000005 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:58:26.9259715+02:00 0HLI6KED2O9P1:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:58:26.9267369+02:00 0HLI6KED2O9P1:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:58:26.9286983+02:00 0HLI6KED2O9P1:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:58:26.9288507+02:00 0HLI6KED2O9P1:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.7971ms. (50a9e262)
2018-11-10T02:58:26.9289612+02:00 0HLI6KED2O9P1:00000005 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:58:26.9291270+02:00 0HLI6KED2O9P1:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.3552ms (afa2e885)
2018-11-10T02:58:26.9292482+02:00 0HLI6KED2O9P1:00000005 [INF] Request finished in 4.8639ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:14.2537496+02:00 0HLI6KED2O9P0:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:59:14.2539257+02:00 0HLI6KED2O9P0:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:14.2541207+02:00 0HLI6KED2O9P0:00000008 [INF] Request finished in 0.4342ms 204  (791a596a)
2018-11-10T02:59:14.3988183+02:00 0HLI6KED2O9P1:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:59:14.3990978+02:00 0HLI6KED2O9P1:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:14.3999141+02:00 0HLI6KED2O9P1:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:14.4000302+02:00 0HLI6KED2O9P1:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:14.4001861+02:00 0HLI6KED2O9P1:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:14.4005978+02:00 0HLI6KED2O9P1:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:59:14.4011079+02:00 0HLI6KED2O9P1:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:14.4036258+02:00 0HLI6KED2O9P1:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:59:14.4057211+02:00 0HLI6KED2O9P1:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:59:14.4059059+02:00 0HLI6KED2O9P1:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1959ms. (50a9e262)
2018-11-10T02:59:14.4060472+02:00 0HLI6KED2O9P1:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:59:14.4063602+02:00 0HLI6KED2O9P1:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0813ms (afa2e885)
2018-11-10T02:59:14.4064783+02:00 0HLI6KED2O9P1:00000006 [INF] Request finished in 7.815ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:16.6040386+02:00 0HLI6KED2O9P0:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:59:16.6045699+02:00 0HLI6KED2O9P0:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:16.6050136+02:00 0HLI6KED2O9P0:00000009 [INF] Request finished in 0.9343ms 204  (791a596a)
2018-11-10T02:59:16.6063912+02:00 0HLI6KED2O9P1:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:59:16.6065645+02:00 0HLI6KED2O9P1:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:16.6068258+02:00 0HLI6KED2O9P1:00000007 [INF] Request finished in 0.5301ms 204  (791a596a)
2018-11-10T02:59:16.7450901+02:00 0HLI6KED2O9P0:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:59:16.7453380+02:00 0HLI6KED2O9P0:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:16.7459122+02:00 0HLI6KED2O9P1:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:59:16.7460472+02:00 0HLI6KED2O9P1:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:16.7462095+02:00 0HLI6KED2O9P0:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:16.7462904+02:00 0HLI6KED2O9P0:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:16.7464795+02:00 0HLI6KED2O9P0:0000000A [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:16.7467230+02:00 0HLI6KED2O9P1:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:16.7468048+02:00 0HLI6KED2O9P1:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:16.7468924+02:00 0HLI6KED2O9P0:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:59:16.7469086+02:00 0HLI6KED2O9P1:00000008 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:16.7470894+02:00 0HLI6KED2O9P1:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:59:16.7472800+02:00 0HLI6KED2O9P0:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:16.7474083+02:00 0HLI6KED2O9P1:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:16.7482116+02:00 0HLI6KED2O9P0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:59:16.7493777+02:00 0HLI6KED2O9P1:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:59:16.7495297+02:00 0HLI6KED2O9P1:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3668ms. (50a9e262)
2018-11-10T02:59:16.7496611+02:00 0HLI6KED2O9P1:00000008 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:59:16.7499252+02:00 0HLI6KED2O9P1:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9498ms (afa2e885)
2018-11-10T02:59:16.7500507+02:00 0HLI6KED2O9P1:00000008 [INF] Request finished in 4.2998ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:16.7500618+02:00 0HLI6KED2O9P0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:59:16.7501905+02:00 0HLI6KED2O9P0:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2226ms. (50a9e262)
2018-11-10T02:59:16.7502982+02:00 0HLI6KED2O9P0:0000000A [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:59:16.7504739+02:00 0HLI6KED2O9P0:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.9023ms (afa2e885)
2018-11-10T02:59:16.7506578+02:00 0HLI6KED2O9P0:0000000A [INF] Request finished in 5.548ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:57.0410084+02:00 0HLI6KED2O9P1:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:59:57.0411939+02:00 0HLI6KED2O9P1:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:57.0413120+02:00 0HLI6KED2O9P1:00000009 [INF] Request finished in 0.4646ms 204  (791a596a)
2018-11-10T02:59:57.1356254+02:00 0HLI6KED2O9P0:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:59:57.1359116+02:00 0HLI6KED2O9P0:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:57.1367473+02:00 0HLI6KED2O9P0:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:57.1368499+02:00 0HLI6KED2O9P0:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:57.1370146+02:00 0HLI6KED2O9P0:0000000B [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:57.1373852+02:00 0HLI6KED2O9P0:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:59:57.1379892+02:00 0HLI6KED2O9P0:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:57.1429495+02:00 0HLI6KED2O9P0:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T02:59:57.1450230+02:00 0HLI6KED2O9P0:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T02:59:57.1452061+02:00 0HLI6KED2O9P0:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.7258ms. (50a9e262)
2018-11-10T02:59:57.1453226+02:00 0HLI6KED2O9P0:0000000B [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T02:59:57.1456613+02:00 0HLI6KED2O9P0:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.5697ms (afa2e885)
2018-11-10T02:59:57.1457809+02:00 0HLI6KED2O9P0:0000000B [INF] Request finished in 12.7686ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:59.5404059+02:00 0HLI6KED2O9P1:0000000A [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T02:59:59.5405713+02:00 0HLI6KED2O9P1:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:59.5406956+02:00 0HLI6KED2O9P1:0000000A [INF] Request finished in 0.7219ms 204  (791a596a)
2018-11-10T02:59:59.5423010+02:00 0HLI6KED2O9P0:0000000C [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:59:59.5425311+02:00 0HLI6KED2O9P0:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:59.5426598+02:00 0HLI6KED2O9P0:0000000C [INF] Request finished in 0.3907ms 204  (791a596a)
2018-11-10T02:59:59.6683725+02:00 0HLI6KED2O9P1:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T02:59:59.6685710+02:00 0HLI6KED2O9P1:0000000B [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:59.6696301+02:00 0HLI6KED2O9P1:0000000B [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:59.6697667+02:00 0HLI6KED2O9P1:0000000B [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:59.6698926+02:00 0HLI6KED2O9P1:0000000B [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:59.6703816+02:00 0HLI6KED2O9P1:0000000B [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T02:59:59.6708454+02:00 0HLI6KED2O9P1:0000000B [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:59.6712323+02:00 0HLI6KED2O9P0:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T02:59:59.6713586+02:00 0HLI6KED2O9P0:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T02:59:59.6717581+02:00 0HLI6KED2O9P1:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T02:59:59.6722673+02:00 0HLI6KED2O9P0:0000000D [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T02:59:59.6723573+02:00 0HLI6KED2O9P0:0000000D [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T02:59:59.6725425+02:00 0HLI6KED2O9P0:0000000D [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T02:59:59.6728231+02:00 0HLI6KED2O9P0:0000000D [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T02:59:59.6733904+02:00 0HLI6KED2O9P0:0000000D [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T02:59:59.6737519+02:00 0HLI6KED2O9P1:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T02:59:59.6739087+02:00 0HLI6KED2O9P1:0000000B [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.4472ms. (50a9e262)
2018-11-10T02:59:59.6740295+02:00 0HLI6KED2O9P1:0000000B [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T02:59:59.6742261+02:00 0HLI6KED2O9P1:0000000B [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.2663ms (afa2e885)
2018-11-10T02:59:59.6743591+02:00 0HLI6KED2O9P1:0000000B [INF] Request finished in 6.032ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T02:59:59.6756088+02:00 0HLI6KED2O9P0:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T02:59:59.6757698+02:00 0HLI6KED2O9P0:0000000D [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.8725ms. (50a9e262)
2018-11-10T02:59:59.6759068+02:00 0HLI6KED2O9P0:0000000D [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T02:59:59.6761823+02:00 0HLI6KED2O9P0:0000000D [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.5656ms (afa2e885)
2018-11-10T02:59:59.6762968+02:00 0HLI6KED2O9P0:0000000D [INF] Request finished in 5.201ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:00:49.5469028+02:00 0HLI6KED2O9P0:0000000E [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:00:49.5470919+02:00 0HLI6KED2O9P0:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:49.5472131+02:00 0HLI6KED2O9P0:0000000E [INF] Request finished in 0.3876ms 204  (791a596a)
2018-11-10T03:00:49.6519386+02:00 0HLI6KED2O9P1:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:00:49.6521281+02:00 0HLI6KED2O9P1:0000000C [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:49.6532803+02:00 0HLI6KED2O9P1:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:00:49.6533830+02:00 0HLI6KED2O9P1:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:00:49.6535614+02:00 0HLI6KED2O9P1:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:00:49.6540505+02:00 0HLI6KED2O9P1:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:00:49.6549821+02:00 0HLI6KED2O9P1:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:00:49.6578479+02:00 0HLI6KED2O9P1:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:00:49.6597517+02:00 0HLI6KED2O9P1:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:00:49.6599203+02:00 0HLI6KED2O9P1:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.715ms. (50a9e262)
2018-11-10T03:00:49.6600624+02:00 0HLI6KED2O9P1:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:00:49.6603529+02:00 0HLI6KED2O9P1:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.6935ms (afa2e885)
2018-11-10T03:00:49.6604611+02:00 0HLI6KED2O9P1:0000000C [INF] Request finished in 8.6068ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:00:50.8880149+02:00 0HLI6KED2O9P0:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:00:50.8882178+02:00 0HLI6KED2O9P0:0000000F [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:50.8883536+02:00 0HLI6KED2O9P0:0000000F [INF] Request finished in 0.4417ms 204  (791a596a)
2018-11-10T03:00:50.8971941+02:00 0HLI6KED2O9P1:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:00:50.8973777+02:00 0HLI6KED2O9P1:0000000D [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:50.8976086+02:00 0HLI6KED2O9P1:0000000D [INF] Request finished in 0.4606ms 204  (791a596a)
2018-11-10T03:00:51.0316981+02:00 0HLI6KED2O9P0:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:00:51.0318481+02:00 0HLI6KED2O9P1:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:00:51.0319384+02:00 0HLI6KED2O9P1:0000000E [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:51.0319570+02:00 0HLI6KED2O9P0:00000010 [INF] Policy execution successful. (0204925d)
2018-11-10T03:00:51.0326596+02:00 0HLI6KED2O9P0:00000010 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:00:51.0326810+02:00 0HLI6KED2O9P1:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:00:51.0327500+02:00 0HLI6KED2O9P1:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:00:51.0327500+02:00 0HLI6KED2O9P0:00000010 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:00:51.0328764+02:00 0HLI6KED2O9P1:0000000E [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:00:51.0328704+02:00 0HLI6KED2O9P0:00000010 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:00:51.0331164+02:00 0HLI6KED2O9P1:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:00:51.0332470+02:00 0HLI6KED2O9P0:00000010 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:00:51.0335364+02:00 0HLI6KED2O9P1:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:00:51.0335320+02:00 0HLI6KED2O9P0:00000010 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:00:51.0344830+02:00 0HLI6KED2O9P0:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:00:51.0352326+02:00 0HLI6KED2O9P1:0000000E [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:00:51.0353865+02:00 0HLI6KED2O9P1:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.1809ms. (50a9e262)
2018-11-10T03:00:51.0354998+02:00 0HLI6KED2O9P1:0000000E [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:00:51.0357638+02:00 0HLI6KED2O9P1:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8196ms (afa2e885)
2018-11-10T03:00:51.0358949+02:00 0HLI6KED2O9P1:0000000E [INF] Request finished in 4.0863ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:00:51.0364973+02:00 0HLI6KED2O9P0:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:00:51.0366524+02:00 0HLI6KED2O9P0:00000010 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3292ms. (50a9e262)
2018-11-10T03:00:51.0367712+02:00 0HLI6KED2O9P0:00000010 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:00:51.0369718+02:00 0HLI6KED2O9P0:00000010 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.0034ms (afa2e885)
2018-11-10T03:00:51.0370787+02:00 0HLI6KED2O9P0:00000010 [INF] Request finished in 5.447ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:09.3781194+02:00 0HLI6KED2O9P1:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:01:09.3784352+02:00 0HLI6KED2O9P1:0000000F [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:09.3785721+02:00 0HLI6KED2O9P1:0000000F [INF] Request finished in 0.6757ms 204  (791a596a)
2018-11-10T03:01:09.5552227+02:00 0HLI6KED2O9P0:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:01:09.5554801+02:00 0HLI6KED2O9P0:00000011 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:09.5562352+02:00 0HLI6KED2O9P0:00000011 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:09.5563422+02:00 0HLI6KED2O9P0:00000011 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:09.5565013+02:00 0HLI6KED2O9P0:00000011 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:09.5568874+02:00 0HLI6KED2O9P0:00000011 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:01:09.5574692+02:00 0HLI6KED2O9P0:00000011 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:09.5599075+02:00 0HLI6KED2O9P0:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:01:09.5618658+02:00 0HLI6KED2O9P0:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:01:09.5620348+02:00 0HLI6KED2O9P0:00000011 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0656ms. (50a9e262)
2018-11-10T03:01:09.5621473+02:00 0HLI6KED2O9P0:00000011 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:01:09.5623292+02:00 0HLI6KED2O9P0:00000011 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7612ms (afa2e885)
2018-11-10T03:01:09.5624398+02:00 0HLI6KED2O9P0:00000011 [INF] Request finished in 7.3464ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:10.8116443+02:00 0HLI6KED2O9P1:00000010 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:01:10.8131123+02:00 0HLI6KED2O9P1:00000010 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:10.8132829+02:00 0HLI6KED2O9P1:00000010 [INF] Request finished in 1.6942ms 204  (791a596a)
2018-11-10T03:01:10.8189174+02:00 0HLI6KED2O9P0:00000012 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:01:10.8190832+02:00 0HLI6KED2O9P0:00000012 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:10.8192592+02:00 0HLI6KED2O9P0:00000012 [INF] Request finished in 0.3544ms 204  (791a596a)
2018-11-10T03:01:10.9346178+02:00 0HLI6KED2O9P1:00000011 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:01:10.9348341+02:00 0HLI6KED2O9P1:00000011 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:10.9357519+02:00 0HLI6KED2O9P1:00000011 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:10.9358759+02:00 0HLI6KED2O9P1:00000011 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:10.9361040+02:00 0HLI6KED2O9P1:00000011 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:10.9364936+02:00 0HLI6KED2O9P1:00000011 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:01:10.9368592+02:00 0HLI6KED2O9P1:00000011 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:10.9379206+02:00 0HLI6KED2O9P1:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:01:10.9400850+02:00 0HLI6KED2O9P1:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:01:10.9403242+02:00 0HLI6KED2O9P1:00000011 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6825ms. (50a9e262)
2018-11-10T03:01:10.9406388+02:00 0HLI6KED2O9P1:00000011 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:01:10.9408480+02:00 0HLI6KED2O9P1:00000011 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.6575ms (afa2e885)
2018-11-10T03:01:10.9409688+02:00 0HLI6KED2O9P1:00000011 [INF] Request finished in 6.4176ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:10.9526886+02:00 0HLI6KED2O9P0:00000013 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:01:10.9528627+02:00 0HLI6KED2O9P0:00000013 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:10.9536159+02:00 0HLI6KED2O9P0:00000013 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:10.9537118+02:00 0HLI6KED2O9P0:00000013 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:10.9538863+02:00 0HLI6KED2O9P0:00000013 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:10.9541263+02:00 0HLI6KED2O9P0:00000013 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:01:10.9545700+02:00 0HLI6KED2O9P0:00000013 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:10.9563514+02:00 0HLI6KED2O9P0:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:01:10.9565030+02:00 0HLI6KED2O9P0:00000013 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.2993ms. (50a9e262)
2018-11-10T03:01:10.9566068+02:00 0HLI6KED2O9P0:00000013 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:01:10.9567686+02:00 0HLI6KED2O9P0:00000013 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8089ms (afa2e885)
2018-11-10T03:01:10.9568941+02:00 0HLI6KED2O9P0:00000013 [INF] Request finished in 4.2477ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:57.7199644+02:00 0HLI6KED2O9P1:00000012 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:01:57.7201448+02:00 0HLI6KED2O9P1:00000012 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:57.7202550+02:00 0HLI6KED2O9P1:00000012 [INF] Request finished in 0.3528ms 204  (791a596a)
2018-11-10T03:01:57.8400399+02:00 0HLI6KED2O9P0:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:01:57.8402293+02:00 0HLI6KED2O9P0:00000014 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:57.8412103+02:00 0HLI6KED2O9P0:00000014 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:57.8423467+02:00 0HLI6KED2O9P0:00000014 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:57.8425665+02:00 0HLI6KED2O9P0:00000014 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:57.8429700+02:00 0HLI6KED2O9P0:00000014 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:01:57.8436272+02:00 0HLI6KED2O9P0:00000014 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:57.8459460+02:00 0HLI6KED2O9P0:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:01:57.8477945+02:00 0HLI6KED2O9P0:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:01:57.8479481+02:00 0HLI6KED2O9P0:00000014 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8781ms. (50a9e262)
2018-11-10T03:01:57.8480515+02:00 0HLI6KED2O9P0:00000014 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:01:57.8483234+02:00 0HLI6KED2O9P0:00000014 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.6834ms (afa2e885)
2018-11-10T03:01:57.8484269+02:00 0HLI6KED2O9P0:00000014 [INF] Request finished in 8.4778ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:58.8194850+02:00 0HLI6KED2O9P1:00000013 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:01:58.8197151+02:00 0HLI6KED2O9P1:00000013 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:58.8198446+02:00 0HLI6KED2O9P1:00000013 [INF] Request finished in 0.4073ms 204  (791a596a)
2018-11-10T03:01:58.8215483+02:00 0HLI6KED2O9P0:00000015 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:01:58.8216995+02:00 0HLI6KED2O9P0:00000015 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:58.8218408+02:00 0HLI6KED2O9P0:00000015 [INF] Request finished in 0.4278ms 204  (791a596a)
2018-11-10T03:01:58.9439392+02:00 0HLI6KED2O9P1:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:01:58.9441966+02:00 0HLI6KED2O9P1:00000014 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:58.9452695+02:00 0HLI6KED2O9P1:00000014 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:58.9453283+02:00 0HLI6KED2O9P0:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:01:58.9453666+02:00 0HLI6KED2O9P1:00000014 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:58.9454586+02:00 0HLI6KED2O9P0:00000016 [INF] Policy execution successful. (0204925d)
2018-11-10T03:01:58.9454901+02:00 0HLI6KED2O9P1:00000014 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:58.9458877+02:00 0HLI6KED2O9P1:00000014 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:01:58.9462500+02:00 0HLI6KED2O9P1:00000014 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:58.9462670+02:00 0HLI6KED2O9P0:00000016 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:01:58.9463728+02:00 0HLI6KED2O9P0:00000016 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:01:58.9464960+02:00 0HLI6KED2O9P0:00000016 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:01:58.9469460+02:00 0HLI6KED2O9P0:00000016 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:01:58.9472507+02:00 0HLI6KED2O9P1:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:01:58.9474899+02:00 0HLI6KED2O9P0:00000016 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:01:58.9490495+02:00 0HLI6KED2O9P1:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:01:58.9490534+02:00 0HLI6KED2O9P0:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:01:58.9491908+02:00 0HLI6KED2O9P0:00000016 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.1611ms. (50a9e262)
2018-11-10T03:01:58.9491908+02:00 0HLI6KED2O9P1:00000014 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.2238ms. (50a9e262)
2018-11-10T03:01:58.9492974+02:00 0HLI6KED2O9P1:00000014 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:01:58.9492911+02:00 0HLI6KED2O9P0:00000016 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:01:58.9495405+02:00 0HLI6KED2O9P1:00000014 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.986ms (afa2e885)
2018-11-10T03:01:58.9495405+02:00 0HLI6KED2O9P0:00000016 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9739ms (afa2e885)
2018-11-10T03:01:58.9496546+02:00 0HLI6KED2O9P0:00000016 [INF] Request finished in 4.3606ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:01:58.9496546+02:00 0HLI6KED2O9P1:00000014 [INF] Request finished in 5.9349ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:02:51.2077566+02:00 0HLI6KED2O9P0:00000017 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:02:51.2079334+02:00 0HLI6KED2O9P0:00000017 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:51.2080736+02:00 0HLI6KED2O9P0:00000017 [INF] Request finished in 0.3773ms 204  (791a596a)
2018-11-10T03:02:51.3501102+02:00 0HLI6KED2O9P1:00000015 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:02:51.3504872+02:00 0HLI6KED2O9P1:00000015 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:51.3520244+02:00 0HLI6KED2O9P1:00000015 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:02:51.3521526+02:00 0HLI6KED2O9P1:00000015 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:02:51.3523208+02:00 0HLI6KED2O9P1:00000015 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:02:51.3528170+02:00 0HLI6KED2O9P1:00000015 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:02:51.3533712+02:00 0HLI6KED2O9P1:00000015 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:02:51.3560139+02:00 0HLI6KED2O9P1:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:02:51.3582680+02:00 0HLI6KED2O9P1:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:02:51.3584705+02:00 0HLI6KED2O9P1:00000015 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5433ms. (50a9e262)
2018-11-10T03:02:51.3586070+02:00 0HLI6KED2O9P1:00000015 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:02:51.3589595+02:00 0HLI6KED2O9P1:00000015 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5459ms (afa2e885)
2018-11-10T03:02:51.3590823+02:00 0HLI6KED2O9P1:00000015 [INF] Request finished in 9.8546ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:02:53.9623601+02:00 0HLI6KED2O9P0:00000018 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:02:53.9626285+02:00 0HLI6KED2O9P0:00000018 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:53.9627434+02:00 0HLI6KED2O9P0:00000018 [INF] Request finished in 1.6444ms 204  (791a596a)
2018-11-10T03:02:53.9655370+02:00 0HLI6KED2O9P1:00000016 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:02:53.9660987+02:00 0HLI6KED2O9P1:00000016 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:53.9662203+02:00 0HLI6KED2O9P1:00000016 [INF] Request finished in 0.7282ms 204  (791a596a)
2018-11-10T03:02:54.1503677+02:00 0HLI6KED2O9P0:00000019 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:02:54.1505308+02:00 0HLI6KED2O9P0:00000019 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:54.1515386+02:00 0HLI6KED2O9P0:00000019 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:02:54.1516463+02:00 0HLI6KED2O9P0:00000019 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:02:54.1517640+02:00 0HLI6KED2O9P1:00000017 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:02:54.1518066+02:00 0HLI6KED2O9P0:00000019 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:02:54.1518855+02:00 0HLI6KED2O9P1:00000017 [INF] Policy execution successful. (0204925d)
2018-11-10T03:02:54.1523079+02:00 0HLI6KED2O9P0:00000019 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:02:54.1525973+02:00 0HLI6KED2O9P1:00000017 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:02:54.1526778+02:00 0HLI6KED2O9P1:00000017 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:02:54.1527078+02:00 0HLI6KED2O9P0:00000019 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:02:54.1527994+02:00 0HLI6KED2O9P1:00000017 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:02:54.1530658+02:00 0HLI6KED2O9P1:00000017 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:02:54.1538553+02:00 0HLI6KED2O9P0:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:02:54.1546168+02:00 0HLI6KED2O9P1:00000017 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:02:54.1561104+02:00 0HLI6KED2O9P0:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:02:54.1562853+02:00 0HLI6KED2O9P0:00000019 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.8866ms. (50a9e262)
2018-11-10T03:02:54.1563157+02:00 0HLI6KED2O9P1:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:02:54.1564041+02:00 0HLI6KED2O9P0:00000019 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:02:54.1564234+02:00 0HLI6KED2O9P1:00000017 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3.2901ms. (50a9e262)
2018-11-10T03:02:54.1565206+02:00 0HLI6KED2O9P1:00000017 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:02:54.1566800+02:00 0HLI6KED2O9P0:00000019 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.8098ms (afa2e885)
2018-11-10T03:02:54.1567345+02:00 0HLI6KED2O9P1:00000017 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.8735ms (afa2e885)
2018-11-10T03:02:54.1567886+02:00 0HLI6KED2O9P0:00000019 [INF] Request finished in 6.5001ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:02:54.1568206+02:00 0HLI6KED2O9P1:00000017 [INF] Request finished in 5.173ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:04:31.1108701+02:00 0HLI6KED2O9P2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:04:31.1110699+02:00 0HLI6KED2O9P2:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:31.1111962+02:00 0HLI6KED2O9P2:00000001 [INF] Request finished in 0.4144ms 204  (791a596a)
2018-11-10T03:04:31.1188289+02:00 0HLI6KED2O9P2:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:04:31.1189951+02:00 0HLI6KED2O9P2:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:31.1191198+02:00 0HLI6KED2O9P2:00000002 [INF] Request finished in 0.3315ms 204  (791a596a)
2018-11-10T03:04:31.2901710+02:00 0HLI6KED2O9P2:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:04:31.2903775+02:00 0HLI6KED2O9P2:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:31.2915215+02:00 0HLI6KED2O9P2:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:04:31.2917386+02:00 0HLI6KED2O9P2:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:04:31.2921097+02:00 0HLI6KED2O9P2:00000003 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:04:31.2926647+02:00 0HLI6KED2O9P2:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:04:31.2932418+02:00 0HLI6KED2O9P2:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:04:31.2935734+02:00 0HLI6KED2O9P3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:04:31.2937316+02:00 0HLI6KED2O9P3:00000001 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:31.2944642+02:00 0HLI6KED2O9P2:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:04:31.2945996+02:00 0HLI6KED2O9P3:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:04:31.2946987+02:00 0HLI6KED2O9P3:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:04:31.2948297+02:00 0HLI6KED2O9P3:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:04:31.2951293+02:00 0HLI6KED2O9P3:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:04:31.2956026+02:00 0HLI6KED2O9P3:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:04:31.2965161+02:00 0HLI6KED2O9P2:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:04:31.2966906+02:00 0HLI6KED2O9P2:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.9359ms. (50a9e262)
2018-11-10T03:04:31.2968232+02:00 0HLI6KED2O9P2:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:04:31.2971355+02:00 0HLI6KED2O9P2:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.9362ms (afa2e885)
2018-11-10T03:04:31.2972531+02:00 0HLI6KED2O9P2:00000003 [INF] Request finished in 9.2534ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:04:31.2974327+02:00 0HLI6KED2O9P3:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:04:31.2975614+02:00 0HLI6KED2O9P3:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3561ms. (50a9e262)
2018-11-10T03:04:31.2976628+02:00 0HLI6KED2O9P3:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:04:31.2979281+02:00 0HLI6KED2O9P3:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.0225ms (afa2e885)
2018-11-10T03:04:31.2980438+02:00 0HLI6KED2O9P3:00000001 [INF] Request finished in 4.5138ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:04:32.0183038+02:00 0HLI6KED2O9P2:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:04:32.0185809+02:00 0HLI6KED2O9P2:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:32.0187309+02:00 0HLI6KED2O9P2:00000004 [INF] Request finished in 0.4839ms 204  (791a596a)
2018-11-10T03:04:32.1378621+02:00 0HLI6KED2O9P3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:04:32.1380677+02:00 0HLI6KED2O9P3:00000002 [INF] Policy execution successful. (0204925d)
2018-11-10T03:04:32.1388923+02:00 0HLI6KED2O9P3:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:04:32.1389929+02:00 0HLI6KED2O9P3:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:04:32.1391575+02:00 0HLI6KED2O9P3:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:04:32.1395914+02:00 0HLI6KED2O9P3:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:04:32.1400406+02:00 0HLI6KED2O9P3:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:04:32.1427912+02:00 0HLI6KED2O9P3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:04:32.1447186+02:00 0HLI6KED2O9P3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:04:32.1449081+02:00 0HLI6KED2O9P3:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2105ms. (50a9e262)
2018-11-10T03:04:32.1450297+02:00 0HLI6KED2O9P3:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:04:32.1452172+02:00 0HLI6KED2O9P3:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.9806ms (afa2e885)
2018-11-10T03:04:32.1453281+02:00 0HLI6KED2O9P3:00000002 [INF] Request finished in 7.5174ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:06.5940292+02:00 0HLI6KED2O9P2:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:05:06.5941977+02:00 0HLI6KED2O9P2:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:06.5943248+02:00 0HLI6KED2O9P2:00000005 [INF] Request finished in 0.3872ms 204  (791a596a)
2018-11-10T03:05:06.5987708+02:00 0HLI6KED2O9P3:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:05:06.5989299+02:00 0HLI6KED2O9P3:00000003 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:06.5990696+02:00 0HLI6KED2O9P3:00000003 [INF] Request finished in 0.3777ms 204  (791a596a)
2018-11-10T03:05:06.7224099+02:00 0HLI6KED2O9P2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:05:06.7225788+02:00 0HLI6KED2O9P2:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:06.7233529+02:00 0HLI6KED2O9P3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:05:06.7234804+02:00 0HLI6KED2O9P3:00000004 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:06.7235929+02:00 0HLI6KED2O9P2:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:06.7236738+02:00 0HLI6KED2O9P2:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:06.7239186+02:00 0HLI6KED2O9P2:00000006 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:06.7240994+02:00 0HLI6KED2O9P3:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:06.7241653+02:00 0HLI6KED2O9P3:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:06.7242671+02:00 0HLI6KED2O9P3:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:06.7243788+02:00 0HLI6KED2O9P2:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:05:06.7244432+02:00 0HLI6KED2O9P3:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:05:06.7247689+02:00 0HLI6KED2O9P3:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:06.7247689+02:00 0HLI6KED2O9P2:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:06.7258102+02:00 0HLI6KED2O9P2:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:05:06.7263988+02:00 0HLI6KED2O9P3:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:05:06.7265439+02:00 0HLI6KED2O9P3:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.0202ms. (50a9e262)
2018-11-10T03:05:06.7266549+02:00 0HLI6KED2O9P3:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:05:06.7269355+02:00 0HLI6KED2O9P3:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.5859ms (afa2e885)
2018-11-10T03:05:06.7270638+02:00 0HLI6KED2O9P3:00000004 [INF] Request finished in 3.7662ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:06.7279974+02:00 0HLI6KED2O9P2:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:05:06.7281648+02:00 0HLI6KED2O9P2:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.7062ms. (50a9e262)
2018-11-10T03:05:06.7282820+02:00 0HLI6KED2O9P2:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:05:06.7285982+02:00 0HLI6KED2O9P2:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.5797ms (afa2e885)
2018-11-10T03:05:06.7287131+02:00 0HLI6KED2O9P2:00000006 [INF] Request finished in 6.3774ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:27.3710034+02:00 0HLI6KED2O9P3:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:05:27.3712975+02:00 0HLI6KED2O9P3:00000005 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:27.3715130+02:00 0HLI6KED2O9P3:00000005 [INF] Request finished in 0.5664ms 204  (791a596a)
2018-11-10T03:05:27.5785693+02:00 0HLI6KED2O9P2:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:05:27.5787627+02:00 0HLI6KED2O9P2:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:27.5798454+02:00 0HLI6KED2O9P2:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:27.5799634+02:00 0HLI6KED2O9P2:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:27.5819016+02:00 0HLI6KED2O9P2:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:27.5823868+02:00 0HLI6KED2O9P2:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:05:27.5829299+02:00 0HLI6KED2O9P2:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:27.5865860+02:00 0HLI6KED2O9P2:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:05:27.5884452+02:00 0HLI6KED2O9P2:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:05:27.5886023+02:00 0HLI6KED2O9P2:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1034ms. (50a9e262)
2018-11-10T03:05:27.5887085+02:00 0HLI6KED2O9P2:00000007 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:05:27.5889856+02:00 0HLI6KED2O9P2:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.9568ms (afa2e885)
2018-11-10T03:05:27.5890780+02:00 0HLI6KED2O9P2:00000007 [INF] Request finished in 11.942ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:47.6311011+02:00 0HLI6KED2O9P3:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:05:47.6313999+02:00 0HLI6KED2O9P3:00000006 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:47.6315875+02:00 0HLI6KED2O9P3:00000006 [INF] Request finished in 0.5147ms 204  (791a596a)
2018-11-10T03:05:47.7043158+02:00 0HLI6KED2O9P2:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:05:47.7049526+02:00 0HLI6KED2O9P2:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:47.7061774+02:00 0HLI6KED2O9P2:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:47.7066183+02:00 0HLI6KED2O9P2:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:47.7076379+02:00 0HLI6KED2O9P2:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:47.7081286+02:00 0HLI6KED2O9P2:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:05:47.7087018+02:00 0HLI6KED2O9P2:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:47.7114815+02:00 0HLI6KED2O9P2:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-10T03:05:47.7134398+02:00 0HLI6KED2O9P2:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-10T03:05:47.7136178+02:00 0HLI6KED2O9P2:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3191ms. (50a9e262)
2018-11-10T03:05:47.7137335+02:00 0HLI6KED2O9P2:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-10T03:05:47.7140122+02:00 0HLI6KED2O9P2:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2901ms (afa2e885)
2018-11-10T03:05:47.7141196+02:00 0HLI6KED2O9P2:00000008 [INF] Request finished in 9.917ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:51.6710527+02:00 0HLI6KED2O9P3:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-10T03:05:51.6718659+02:00 0HLI6KED2O9P3:00000007 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:51.6720475+02:00 0HLI6KED2O9P3:00000007 [INF] Request finished in 1.0365ms 204  (791a596a)
2018-11-10T03:05:51.6793498+02:00 0HLI6KED2O9P2:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:05:51.6795073+02:00 0HLI6KED2O9P2:00000009 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:51.6796750+02:00 0HLI6KED2O9P2:00000009 [INF] Request finished in 0.3556ms 204  (791a596a)
2018-11-10T03:05:51.8696263+02:00 0HLI6KED2O9P3:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-10T03:05:51.8699567+02:00 0HLI6KED2O9P3:00000008 [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:51.8709081+02:00 0HLI6KED2O9P3:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:51.8709377+02:00 0HLI6KED2O9P2:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-10T03:05:51.8710135+02:00 0HLI6KED2O9P3:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:51.8710553+02:00 0HLI6KED2O9P2:0000000A [INF] Policy execution successful. (0204925d)
2018-11-10T03:05:51.8711457+02:00 0HLI6KED2O9P3:00000008 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:51.8715740+02:00 0HLI6KED2O9P3:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-10T03:05:51.8718219+02:00 0HLI6KED2O9P2:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-10T03:05:51.8719056+02:00 0HLI6KED2O9P2:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-10T03:05:51.8719711+02:00 0HLI6KED2O9P3:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:51.8720520+02:00 0HLI6KED2O9P2:0000000A [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-10T03:05:51.8723130+02:00 0HLI6KED2O9P2:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-10T03:05:51.8728668+02:00 0HLI6KED2O9P2:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-10T03:05:51.8728755+02:00 0HLI6KED2O9P3:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-10T03:05:51.8745621+02:00 0HLI6KED2O9P3:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-10T03:05:51.8746652+02:00 0HLI6KED2O9P2:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-10T03:05:51.8747252+02:00 0HLI6KED2O9P3:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.0714ms. (50a9e262)
2018-11-10T03:05:51.8747717+02:00 0HLI6KED2O9P2:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3554ms. (50a9e262)
2018-11-10T03:05:51.8748562+02:00 0HLI6KED2O9P2:0000000A [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-10T03:05:51.8748665+02:00 0HLI6KED2O9P3:00000008 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-10T03:05:51.8750473+02:00 0HLI6KED2O9P3:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 3.8317ms (afa2e885)
2018-11-10T03:05:51.8750765+02:00 0HLI6KED2O9P2:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.9581ms (afa2e885)
2018-11-10T03:05:51.8751629+02:00 0HLI6KED2O9P2:0000000A [INF] Request finished in 4.3066ms 200 application/json; charset=utf-8 (791a596a)
2018-11-10T03:05:51.8751574+02:00 0HLI6KED2O9P3:00000008 [INF] Request finished in 5.6376ms 200 application/json; charset=utf-8 (791a596a)
