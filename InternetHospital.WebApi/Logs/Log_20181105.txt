2018-11-05T00:04:00.7143890+02:00 0HLI2K5MGGQUP:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:51483/  0 (ca22a1cb)
2018-11-05T00:04:00.8085603+02:00 0HLI2K5MGGQUP:00000001 [INF] Request finished in 91.3528ms 200  (791a596a)
2018-11-05T00:04:00.9454081+02:00 0HLI2K5MGGQUP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:04:02.8694121+02:00 0HLI2K5MGGQUP:00000002 [INF] Request finished in 1399.6077ms 404  (791a596a)
2018-11-05T00:04:41.5225770+02:00 0HLI2K5MGGQUP:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/1   (ca22a1cb)
2018-11-05T00:04:41.6373813+02:00 0HLI2K5MGGQUP:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:04:41.7839645+02:00 0HLI2K5MGGQUP:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["1"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:04:48.7081458+02:00 0HLI2K5MGGQUP:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:04:48.7743897+02:00 0HLI2K5MGGQUP:00000003 [INF] Executed DbCommand ("9"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\"
FROM \"Doctors\" AS d
WHERE d.\"UserId\" = @__id_0
LIMIT 1" (0723d8ff)
2018-11-05T00:04:49.9139328+02:00 0HLI2K5MGGQUP:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 8118.7675ms. (50a9e262)
2018-11-05T00:04:49.9330073+02:00 0HLI2K5MGGQUP:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T00:04:50.1825184+02:00 0HLI2K5MGGQUP:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8527.0015ms (afa2e885)
2018-11-05T00:04:50.3382216+02:00 0HLI2K5MGGQUP:00000003 [INF] Request finished in 8698.1363ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T00:04:54.3410609+02:00 0HLI2K5MGGQUP:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:04:54.3438589+02:00 0HLI2K5MGGQUP:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:04:54.3861927+02:00 0HLI2K5MGGQUP:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:04:57.7328656+02:00 0HLI2K5MGGQUP:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:04:57.7384196+02:00 0HLI2K5MGGQUP:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\"
FROM \"Doctors\" AS d
WHERE d.\"UserId\" = @__id_0
LIMIT 1" (0723d8ff)
2018-11-05T00:08:57.0951117+02:00 0HLI2K8EQNLS4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:08:57.0951117+02:00 0HLI2K8EQNLS5:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:51483/  0 (ca22a1cb)
2018-11-05T00:08:57.1564210+02:00 0HLI2K8EQNLS5:00000001 [INF] Request finished in 60.7621ms 200  (791a596a)
2018-11-05T00:08:57.4748084+02:00 0HLI2K8EQNLS4:00000001 [INF] Request finished in 311.8596ms 404  (791a596a)
2018-11-05T00:11:18.8074650+02:00 0HLI2K8EQNLS6:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:11:19.0368344+02:00 0HLI2K8EQNLS6:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:11:19.2060768+02:00 0HLI2K8EQNLS6:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:11:26.6470489+02:00 0HLI2K8EQNLS6:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:11:26.8383900+02:00 0HLI2K8EQNLS6:00000001 [INF] Executed DbCommand ("96"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\"
FROM \"Doctors\" AS d
WHERE d.\"UserId\" = @__id_0
LIMIT 1" (0723d8ff)
2018-11-05T00:18:36.3708981+02:00 0HLI2KDRFL3V2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:18:36.5547964+02:00 0HLI2KDRFL3V2:00000001 [INF] Request finished in 190.7904ms 404  (791a596a)
2018-11-05T00:27:14.5628573+02:00 0HLI2KDRFL3V3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:27:14.6098810+02:00 0HLI2KDRFL3V3:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:27:14.6529329+02:00 0HLI2KDRFL3V3:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:27:14.6575339+02:00 0HLI2KDRFL3V3:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:27:14.7530008+02:00 0HLI2KDRFL3V3:00000001 [INF] Executed DbCommand ("8"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\"
FROM \"Doctors\" AS d
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
LIMIT 1" (0723d8ff)
2018-11-05T00:27:14.9342275+02:00 0HLI2KDRFL3V3:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 318.6546ms (afa2e885)
2018-11-05T00:27:15.6168703+02:00 0HLI2KDRFL3V3:00000001 [ERR] An unhandled exception has occurred while executing the request. (48a46595)
System.NullReferenceException: Object reference not set to an instance of an object.
   at InternetHospital.BusinessLogic.Services.DoctorService.Get(Int32 id) in D:\SoftServe\AcademyRep\Internet-Hospital\InternetHospital.BusinessLogic\Services\DoctorService.cs:line 24
   at InternetHospital.WebApi.Controllers.DoctorsController.Get(Int32 id) in D:\SoftServe\AcademyRep\Internet-Hospital\InternetHospital.WebApi\Controllers\DoctorsController.cs:line 30
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2018-11-05T00:27:15.7351981+02:00 0HLI2KDRFL3V3:00000001 [INF] Request finished in 1171.4ms 500 text/html; charset=utf-8 (791a596a)
2018-11-05T00:28:15.3854604+02:00 0HLI2KJ817SUD:00000001 [INF] Request starting HTTP/1.1 DEBUG http://localhost:51483/  0 (ca22a1cb)
2018-11-05T00:28:15.3854604+02:00 0HLI2KJ817SUE:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:28:15.4455753+02:00 0HLI2KJ817SUD:00000001 [INF] Request finished in 64.6657ms 200  (791a596a)
2018-11-05T00:28:15.7492018+02:00 0HLI2KJ817SUE:00000001 [INF] Request finished in 364.697ms 404  (791a596a)
2018-11-05T00:28:54.6319770+02:00 0HLI2KJJNPQB5:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:28:54.8503861+02:00 0HLI2KJJNPQB5:00000001 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:28:54.8940928+02:00 0HLI2KJJNPQB5:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:28:54.9334964+02:00 0HLI2KJJNPQB5:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:28:59.0335798+02:00 0HLI2KJJNPQB5:00000001 [INF] Executed DbCommand ("255"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T00:28:59.6403178+02:00 0HLI2KJJNPQB5:00000001 [INF] Executed DbCommand ("433"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T00:28:59.6550381+02:00 0HLI2KJJNPQB5:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4755.5917ms. (50a9e262)
2018-11-05T00:28:59.6659786+02:00 0HLI2KJJNPQB5:00000001 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T00:28:59.9346577+02:00 0HLI2KJJNPQB5:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5077.7284ms (afa2e885)
2018-11-05T00:28:59.9420730+02:00 0HLI2KJJNPQB5:00000001 [INF] Request finished in 5317.9812ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T00:34:13.2297592+02:00 0HLI2KMIM9FAQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:34:13.2297592+02:00 0HLI2KMIM9FAP:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/   (ca22a1cb)
2018-11-05T00:34:13.4519349+02:00 0HLI2KMIM9FAQ:00000001 [INF] Request finished in 229.523ms 404  (791a596a)
2018-11-05T00:34:13.4842652+02:00 0HLI2KMIM9FAP:00000001 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:34:13.5326006+02:00 0HLI2KMIM9FAP:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:34:13.5389753+02:00 0HLI2KMIM9FAP:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:34:13.6763894+02:00 0HLI2KMIM9FAP:00000001 [INF] Executed DbCommand ("69"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T00:34:13.6923318+02:00 0HLI2KMIM9FAP:00000001 [WRN] Query: '"(from Doctor <generated>_2 in DbSet<Doctor> select [<generated>_2]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2018-11-05T00:34:13.7661026+02:00 0HLI2KMIM9FAP:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T00:34:13.7777174+02:00 0HLI2KMIM9FAP:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 240.5014ms. (50a9e262)
2018-11-05T00:34:13.7882356+02:00 0HLI2KMIM9FAP:00000001 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T00:34:13.8718524+02:00 0HLI2KMIM9FAP:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 376.0264ms (afa2e885)
2018-11-05T00:34:13.8770669+02:00 0HLI2KMIM9FAP:00000001 [INF] Request finished in 654.5251ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T00:35:35.9224524+02:00 0HLI2KMIM9FAR:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:35:36.0280838+02:00 0HLI2KMIM9FAR:00000001 [INF] Request finished in 87.7035ms 404  (791a596a)
2018-11-05T00:36:00.2264299+02:00 0HLI2KMIM9FAR:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:36:00.2348098+02:00 0HLI2KMIM9FAR:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:36:00.4519041+02:00 0HLI2KMIM9FAR:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:36:00.4628909+02:00 0HLI2KMIM9FAR:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:36:00.6327972+02:00 0HLI2KMIM9FAR:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T00:36:00.7203413+02:00 0HLI2KMIM9FAR:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T00:43:02.6017728+02:00 0HLI2KRGEJR7T:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:43:02.8018048+02:00 0HLI2KRGEJR7T:00000001 [INF] Request finished in 207.9457ms 404  (791a596a)
2018-11-05T00:43:25.0514476+02:00 0HLI2KRGEJR7T:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/dostors/1   (ca22a1cb)
2018-11-05T00:43:25.0526780+02:00 0HLI2KRGEJR7T:00000002 [INF] Request finished in 1.3117ms 404  (791a596a)
2018-11-05T00:43:32.1911194+02:00 0HLI2KRGEJR7T:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/dostors/1   (ca22a1cb)
2018-11-05T00:43:32.1916514+02:00 0HLI2KRGEJR7T:00000003 [INF] Request finished in 0.9098ms 404  (791a596a)
2018-11-05T00:43:41.8134646+02:00 0HLI2KRGEJR7T:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/dostors/1   (ca22a1cb)
2018-11-05T00:43:41.8138143+02:00 0HLI2KRGEJR7T:00000004 [INF] Request finished in 0.9682ms 404  (791a596a)
2018-11-05T00:43:46.4162978+02:00 0HLI2KRGEJR7T:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/dostors/8   (ca22a1cb)
2018-11-05T00:43:46.4166350+02:00 0HLI2KRGEJR7T:00000005 [INF] Request finished in 0.9651ms 404  (791a596a)
2018-11-05T00:43:58.9057447+02:00 0HLI2KRGEJR7T:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/dostors/8   (ca22a1cb)
2018-11-05T00:43:58.9063384+02:00 0HLI2KRGEJR7T:00000006 [INF] Request finished in 0.6536ms 404  (791a596a)
2018-11-05T00:44:11.0726893+02:00 0HLI2KRGEJR7T:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/dostors   (ca22a1cb)
2018-11-05T00:44:11.0731630+02:00 0HLI2KRGEJR7T:00000007 [INF] Request finished in 1.0444ms 404  (791a596a)
2018-11-05T00:44:26.3890747+02:00 0HLI2KRGEJR7T:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T00:44:26.3893932+02:00 0HLI2KRGEJR7T:00000008 [INF] Request finished in 0.4065ms 404  (791a596a)
2018-11-05T00:44:37.3563018+02:00 0HLI2KRGEJR7T:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors   (ca22a1cb)
2018-11-05T00:44:37.4315233+02:00 0HLI2KRGEJR7T:00000009 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:44:37.5185274+02:00 0HLI2KRGEJR7T:00000009 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:44:37.5260001+02:00 0HLI2KRGEJR7T:00000009 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:44:37.6366759+02:00 0HLI2KRGEJR7T:00000009 [INF] Executed DbCommand ("77"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T00:44:37.6489144+02:00 0HLI2KRGEJR7T:00000009 [WRN] Query: '"(from Doctor <generated>_2 in DbSet<Doctor> select [<generated>_2]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2018-11-05T00:44:37.7633083+02:00 0HLI2KRGEJR7T:00000009 [INF] Executed DbCommand ("72"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T00:44:37.7735765+02:00 0HLI2KRGEJR7T:00000009 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 251.3453ms. (50a9e262)
2018-11-05T00:44:37.7818795+02:00 0HLI2KRGEJR7T:00000009 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T00:44:37.8527462+02:00 0HLI2KRGEJR7T:00000009 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 406.1805ms (afa2e885)
2018-11-05T00:44:37.8552860+02:00 0HLI2KRGEJR7T:00000009 [INF] Request finished in 498.6494ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T00:44:42.4057114+02:00 0HLI2KRGEJR7T:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/doctors/8   (ca22a1cb)
2018-11-05T00:44:42.4097349+02:00 0HLI2KRGEJR7T:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T00:44:42.4114710+02:00 0HLI2KRGEJR7T:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T00:44:42.4224025+02:00 0HLI2KRGEJR7T:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T00:44:42.5059960+02:00 0HLI2KRGEJR7T:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T00:44:42.5564985+02:00 0HLI2KRGEJR7T:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T00:44:42.5641955+02:00 0HLI2KRGEJR7T:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 152.5741ms. (50a9e262)
2018-11-05T00:44:42.5646751+02:00 0HLI2KRGEJR7T:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T00:44:42.5714445+02:00 0HLI2KRGEJR7T:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 161.5536ms (afa2e885)
2018-11-05T00:44:42.5716110+02:00 0HLI2KRGEJR7T:0000000A [INF] Request finished in 166.4113ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:33:27.2683029+02:00 0HLI32A0DTNDS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/values   (ca22a1cb)
2018-11-05T13:33:28.4073188+02:00 0HLI32A0DTNDS:00000001 [INF] Request finished in 1145.3972ms 404  (791a596a)
2018-11-05T13:50:34.9905212+02:00 0HLI32A0DTNDU:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T13:50:34.9905212+02:00 0HLI32A0DTNDT:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:50:35.0352890+02:00 0HLI32A0DTNDU:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:50:35.0356205+02:00 0HLI32A0DTNDT:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:50:35.0654636+02:00 0HLI32A0DTNDU:00000001 [INF] Request finished in 74.9064ms 204  (791a596a)
2018-11-05T13:50:35.0663320+02:00 0HLI32A0DTNDT:00000001 [INF] Request finished in 75.4586ms 204  (791a596a)
2018-11-05T13:50:35.2256431+02:00 0HLI32A0DTNDU:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:50:35.2256431+02:00 0HLI32A0DTNDT:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T13:50:35.2259447+02:00 0HLI32A0DTNDT:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:50:35.2259466+02:00 0HLI32A0DTNDU:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:50:37.4975339+02:00 0HLI32A0DTNDT:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:50:37.4975339+02:00 0HLI32A0DTNDU:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:50:37.4990604+02:00 0HLI32A0DTNDT:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:50:37.4994252+02:00 0HLI32A0DTNDU:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:50:37.7848939+02:00 0HLI32A0DTNDU:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:50:37.8675877+02:00 0HLI32A0DTNDT:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:50:37.8957548+02:00 0HLI32A0DTNDU:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T13:50:38.0487827+02:00 0HLI32A0DTNDU:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:50:38.3619223+02:00 0HLI32A0DTNDT:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T13:50:38.4077814+02:00 0HLI32A0DTNDT:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:50:48.1321436+02:00 0HLI32A0DTNDT:00000002 [INF] Executed DbCommand ("1,738"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T13:50:48.2892229+02:00 0HLI32A0DTNDU:00000002 [INF] Executed DbCommand ("1,858"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T13:50:48.2989385+02:00 0HLI32A0DTNDT:00000002 [WRN] Query: '"(from Doctor <generated>_2 in DbSet<Doctor> select [<generated>_2]).Skip(__p_0).Take(__p_1)"' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results. (32148ccc)
2018-11-05T13:50:48.3652278+02:00 0HLI32A0DTNDU:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 10463.186ms. (50a9e262)
2018-11-05T13:50:48.4983771+02:00 0HLI32A0DTNDU:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T13:50:49.7120248+02:00 0HLI32A0DTNDU:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 11892.2647ms (afa2e885)
2018-11-05T13:50:49.7140612+02:00 0HLI32A0DTNDU:00000002 [INF] Request finished in 14488.4094ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:50:50.0459875+02:00 0HLI32A0DTNDT:00000002 [INF] Executed DbCommand ("1,254"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T13:50:50.0531770+02:00 0HLI32A0DTNDT:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11691.0553ms. (50a9e262)
2018-11-05T13:50:50.0536404+02:00 0HLI32A0DTNDT:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T13:50:50.0825933+02:00 0HLI32A0DTNDT:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 12214.8168ms (afa2e885)
2018-11-05T13:50:50.0827678+02:00 0HLI32A0DTNDT:00000002 [INF] Request finished in 14857.1578ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:55:54.1292901+02:00 0HLI32A0DTNDV:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T13:55:54.1294496+02:00 0HLI32A0DTNE0:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:55:54.1295542+02:00 0HLI32A0DTNDV:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:55:54.1295542+02:00 0HLI32A0DTNE0:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:55:54.1297302+02:00 0HLI32A0DTNDV:00000001 [INF] Request finished in 0.5818ms 204  (791a596a)
2018-11-05T13:55:54.1297590+02:00 0HLI32A0DTNE0:00000001 [INF] Request finished in 0.3303ms 204  (791a596a)
2018-11-05T13:55:54.2713490+02:00 0HLI32A0DTNDV:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:55:54.2718551+02:00 0HLI32A0DTNDV:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:55:54.2737550+02:00 0HLI32A0DTNDV:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:55:54.2738896+02:00 0HLI32A0DTNDV:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:55:54.2753028+02:00 0HLI32A0DTNE0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T13:55:54.2754686+02:00 0HLI32A0DTNE0:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:55:54.2763839+02:00 0HLI32A0DTNE0:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:55:54.2765007+02:00 0HLI32A0DTNE0:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:55:54.2768379+02:00 0HLI32A0DTNE0:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:55:54.2775532+02:00 0HLI32A0DTNDV:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:55:54.2778113+02:00 0HLI32A0DTNDV:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T13:55:54.2779546+02:00 0HLI32A0DTNE0:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T13:55:54.2784453+02:00 0HLI32A0DTNDV:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:55:54.2784453+02:00 0HLI32A0DTNE0:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:55:54.2798545+02:00 0HLI32A0DTNE0:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T13:55:54.2815672+02:00 0HLI32A0DTNDV:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T13:55:54.2817934+02:00 0HLI32A0DTNDV:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3.8921ms. (50a9e262)
2018-11-05T13:55:54.2819418+02:00 0HLI32A0DTNDV:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T13:55:54.2821980+02:00 0HLI32A0DTNDV:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 4.5639ms (afa2e885)
2018-11-05T13:55:54.2823311+02:00 0HLI32A0DTNDV:00000002 [INF] Request finished in 11.2255ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:55:54.2844386+02:00 0HLI32A0DTNE0:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T13:55:54.2846147+02:00 0HLI32A0DTNE0:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.5791ms. (50a9e262)
2018-11-05T13:55:54.2847276+02:00 0HLI32A0DTNE0:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T13:55:54.2849814+02:00 0HLI32A0DTNE0:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 8.0372ms (afa2e885)
2018-11-05T13:55:54.2850994+02:00 0HLI32A0DTNE0:00000002 [INF] Request finished in 9.8874ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:59:17.2754011+02:00 0HLI32A0DTNE1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T13:59:17.2755945+02:00 0HLI32A0DTNE1:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:59:17.2756734+02:00 0HLI32A0DTNE2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:59:17.2757741+02:00 0HLI32A0DTNE1:00000001 [INF] Request finished in 0.506ms 204  (791a596a)
2018-11-05T13:59:17.2758349+02:00 0HLI32A0DTNE2:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T13:59:17.2759241+02:00 0HLI32A0DTNE2:00000001 [INF] Request finished in 0.2684ms 204  (791a596a)
2018-11-05T13:59:17.4209428+02:00 0HLI32A0DTNE1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T13:59:17.4211176+02:00 0HLI32A0DTNE1:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:59:17.4219746+02:00 0HLI32A0DTNE2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T13:59:17.4221278+02:00 0HLI32A0DTNE2:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T13:59:17.4222703+02:00 0HLI32A0DTNE1:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:59:17.4223583+02:00 0HLI32A0DTNE1:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:59:17.4225237+02:00 0HLI32A0DTNE1:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:59:17.4229714+02:00 0HLI32A0DTNE2:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T13:59:17.4230511+02:00 0HLI32A0DTNE2:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T13:59:17.4230547+02:00 0HLI32A0DTNE1:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T13:59:17.4231620+02:00 0HLI32A0DTNE2:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T13:59:17.4233657+02:00 0HLI32A0DTNE2:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T13:59:17.4235228+02:00 0HLI32A0DTNE1:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:59:17.4237111+02:00 0HLI32A0DTNE2:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T13:59:17.4246692+02:00 0HLI32A0DTNE1:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T13:59:17.4256342+02:00 0HLI32A0DTNE2:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T13:59:17.4257728+02:00 0HLI32A0DTNE2:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.3364ms. (50a9e262)
2018-11-05T13:59:17.4258904+02:00 0HLI32A0DTNE2:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T13:59:17.4261241+02:00 0HLI32A0DTNE2:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 2.8981ms (afa2e885)
2018-11-05T13:59:17.4262338+02:00 0HLI32A0DTNE2:00000002 [INF] Request finished in 4.2975ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T13:59:17.4266693+02:00 0HLI32A0DTNE1:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T13:59:17.4268161+02:00 0HLI32A0DTNE1:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.6915ms. (50a9e262)
2018-11-05T13:59:17.4269243+02:00 0HLI32A0DTNE1:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T13:59:17.4271627+02:00 0HLI32A0DTNE1:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.5067ms (afa2e885)
2018-11-05T13:59:17.4272803+02:00 0HLI32A0DTNE1:00000002 [INF] Request finished in 6.3884ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:04:15.3789939+02:00 0HLI32A0DTNE3:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:04:15.3803491+02:00 0HLI32A0DTNE3:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:04:15.3814488+02:00 0HLI32A0DTNE3:00000001 [INF] Request finished in 4.8588ms 204  (791a596a)
2018-11-05T15:04:15.3903691+02:00 0HLI32A0DTNE3:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:04:15.3909289+02:00 0HLI32A0DTNE3:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:04:15.3910856+02:00 0HLI32A0DTNE3:00000002 [INF] Request finished in 1.38ms 204  (791a596a)
2018-11-05T15:04:15.4487455+02:00 0HLI32A0DTNE3:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:04:15.4489942+02:00 0HLI32A0DTNE3:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:04:15.4527663+02:00 0HLI32A0DTNE3:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:04:15.4531361+02:00 0HLI32A0DTNE3:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:04:15.4543756+02:00 0HLI32A0DTNE3:00000003 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:04:15.4580747+02:00 0HLI32A0DTNE3:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:04:15.4641501+02:00 0HLI32A0DTNE4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:04:15.4645559+02:00 0HLI32A0DTNE4:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:04:15.4653418+02:00 0HLI32A0DTNE4:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:04:15.4655333+02:00 0HLI32A0DTNE4:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:04:15.4656758+02:00 0HLI32A0DTNE4:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:04:15.4661104+02:00 0HLI32A0DTNE4:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:04:15.4777066+02:00 0HLI32A0DTNE3:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:04:15.4824767+02:00 0HLI32A0DTNE4:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:04:15.5554654+02:00 0HLI32A0DTNE3:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:04:15.5568644+02:00 0HLI32A0DTNE4:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:04:15.5573140+02:00 0HLI32A0DTNE4:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 90.8432ms. (50a9e262)
2018-11-05T15:04:15.5575710+02:00 0HLI32A0DTNE4:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:04:15.5583487+02:00 0HLI32A0DTNE4:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 92.5753ms (afa2e885)
2018-11-05T15:04:15.5584959+02:00 0HLI32A0DTNE4:00000001 [INF] Request finished in 94.8379ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:04:15.5724956+02:00 0HLI32A0DTNE3:00000003 [INF] Executed DbCommand ("15"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:04:15.5727471+02:00 0HLI32A0DTNE3:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 114.5271ms. (50a9e262)
2018-11-05T15:04:15.5728671+02:00 0HLI32A0DTNE3:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:04:15.5734035+02:00 0HLI32A0DTNE3:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 118.9186ms (afa2e885)
2018-11-05T15:04:15.5735227+02:00 0HLI32A0DTNE3:00000003 [INF] Request finished in 124.8369ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:18:54.7861807+02:00 0HLI32A0DTNE5:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:18:54.7863813+02:00 0HLI32A0DTNE5:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:18:54.7865475+02:00 0HLI32A0DTNE5:00000001 [INF] Request finished in 0.6556ms 204  (791a596a)
2018-11-05T15:18:54.8091979+02:00 0HLI32A0DTNE6:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:18:54.8138231+02:00 0HLI32A0DTNE6:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:18:54.8140465+02:00 0HLI32A0DTNE6:00000001 [INF] Request finished in 4.8912ms 204  (791a596a)
2018-11-05T15:18:54.8174788+02:00 0HLI32A0DTNE5:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:18:54.8185750+02:00 0HLI32A0DTNE5:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:18:54.8213402+02:00 0HLI32A0DTNE5:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:18:54.8214732+02:00 0HLI32A0DTNE5:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:18:54.8216413+02:00 0HLI32A0DTNE5:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:18:54.8222248+02:00 0HLI32A0DTNE5:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:18:54.8227584+02:00 0HLI32A0DTNE5:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:18:54.8489892+02:00 0HLI32A0DTNE6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:18:54.8493516+02:00 0HLI32A0DTNE6:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:18:54.8501861+02:00 0HLI32A0DTNE6:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:18:54.8502863+02:00 0HLI32A0DTNE6:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:18:54.8505765+02:00 0HLI32A0DTNE6:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:18:54.8510229+02:00 0HLI32A0DTNE6:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:18:54.8514437+02:00 0HLI32A0DTNE6:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:18:54.8784032+02:00 0HLI32A0DTNE5:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:18:54.8785852+02:00 0HLI32A0DTNE5:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 56.2664ms. (50a9e262)
2018-11-05T15:18:54.8787205+02:00 0HLI32A0DTNE5:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:18:54.8865372+02:00 0HLI32A0DTNE5:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 64.7111ms (afa2e885)
2018-11-05T15:18:54.8866576+02:00 0HLI32A0DTNE6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:18:54.8866884+02:00 0HLI32A0DTNE5:00000002 [INF] Request finished in 69.2494ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:18:54.8917157+02:00 0HLI32A0DTNE6:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:18:54.8919005+02:00 0HLI32A0DTNE6:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 40.7769ms. (50a9e262)
2018-11-05T15:18:54.8920264+02:00 0HLI32A0DTNE6:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:18:54.8986232+02:00 0HLI32A0DTNE6:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 41.9125ms (afa2e885)
2018-11-05T15:18:54.8987926+02:00 0HLI32A0DTNE6:00000002 [INF] Request finished in 49.8614ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:24:45.5327885+02:00 0HLI32A0DTNE7:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:24:45.5330834+02:00 0HLI32A0DTNE7:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:24:45.5737324+02:00 0HLI32A0DTNE7:00000001 [INF] Request finished in 41.097ms 204  (791a596a)
2018-11-05T15:24:45.5837722+02:00 0HLI32A0DTNE7:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:24:45.5956869+02:00 0HLI32A0DTNE7:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:24:45.5958432+02:00 0HLI32A0DTNE7:00000002 [INF] Request finished in 13.0216ms 204  (791a596a)
2018-11-05T15:24:45.6693681+02:00 0HLI32A0DTNE7:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:24:45.6697952+02:00 0HLI32A0DTNE7:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:24:45.6713216+02:00 0HLI32A0DTNE7:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:24:45.6714602+02:00 0HLI32A0DTNE7:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:24:45.6716481+02:00 0HLI32A0DTNE7:00000003 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:24:45.6844115+02:00 0HLI32A0DTNE8:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:24:45.6845410+02:00 0HLI32A0DTNE8:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:24:45.6899932+02:00 0HLI32A0DTNE7:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:24:45.6908541+02:00 0HLI32A0DTNE7:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:24:45.7116573+02:00 0HLI32A0DTNE8:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:24:45.7118045+02:00 0HLI32A0DTNE8:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:24:45.7121235+02:00 0HLI32A0DTNE8:00000001 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:24:45.7190026+02:00 0HLI32A0DTNE8:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:24:45.7198512+02:00 0HLI32A0DTNE8:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:24:45.7608077+02:00 0HLI32A0DTNE8:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:24:45.7723594+02:00 0HLI32A0DTNE7:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:24:45.7725181+02:00 0HLI32A0DTNE7:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 82.4084ms. (50a9e262)
2018-11-05T15:24:45.7726496+02:00 0HLI32A0DTNE7:00000003 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:24:45.7742237+02:00 0HLI32A0DTNE8:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:24:45.7746500+02:00 0HLI32A0DTNE8:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 55.5298ms. (50a9e262)
2018-11-05T15:24:45.7748592+02:00 0HLI32A0DTNE8:00000001 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:24:45.7756136+02:00 0HLI32A0DTNE8:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 63.3847ms (afa2e885)
2018-11-05T15:24:45.7758118+02:00 0HLI32A0DTNE8:00000001 [INF] Request finished in 91.4649ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:24:45.7780069+02:00 0HLI32A0DTNE7:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 106.2534ms (afa2e885)
2018-11-05T15:24:45.7782962+02:00 0HLI32A0DTNE7:00000003 [INF] Request finished in 109.1109ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:35:05.2142121+02:00 0HLI32A0DTNE9:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:35:05.2144443+02:00 0HLI32A0DTNE9:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:35:05.2146361+02:00 0HLI32A0DTNE9:00000001 [INF] Request finished in 0.5175ms 204  (791a596a)
2018-11-05T15:35:05.2255664+02:00 0HLI32A0DTNE9:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:35:05.2258033+02:00 0HLI32A0DTNE9:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:35:05.2565025+02:00 0HLI32A0DTNE9:00000002 [INF] Request finished in 30.8898ms 204  (791a596a)
2018-11-05T15:35:05.4222269+02:00 0HLI32A0DTNE9:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:35:05.4225988+02:00 0HLI32A0DTNE9:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:35:05.4759560+02:00 0HLI32A0DTNEA:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:35:05.4762015+02:00 0HLI32A0DTNEA:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:35:05.4770983+02:00 0HLI32A0DTNEA:00000001 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:35:05.4772017+02:00 0HLI32A0DTNEA:00000001 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:35:05.4774374+02:00 0HLI32A0DTNEA:00000001 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:35:05.4779967+02:00 0HLI32A0DTNEA:00000001 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:35:05.4786473+02:00 0HLI32A0DTNEA:00000001 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:35:05.4485733+02:00 0HLI32A0DTNE9:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:35:05.4851029+02:00 0HLI32A0DTNE9:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:35:05.4852738+02:00 0HLI32A0DTNE9:00000003 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:35:05.4858079+02:00 0HLI32A0DTNE9:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:35:05.4862512+02:00 0HLI32A0DTNE9:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:35:05.5548184+02:00 0HLI32A0DTNE9:00000003 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:35:05.6002300+02:00 0HLI32A0DTNEA:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:35:05.6003918+02:00 0HLI32A0DTNEA:00000001 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 122.3145ms. (50a9e262)
2018-11-05T15:35:05.6005734+02:00 0HLI32A0DTNEA:00000001 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:35:05.6011983+02:00 0HLI32A0DTNEA:00000001 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 123.6759ms (afa2e885)
2018-11-05T15:35:05.6013885+02:00 0HLI32A0DTNEA:00000001 [INF] Request finished in 125.5466ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:35:05.6045512+02:00 0HLI32A0DTNE9:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:35:05.6047064+02:00 0HLI32A0DTNE9:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 118.7986ms. (50a9e262)
2018-11-05T15:35:05.6048169+02:00 0HLI32A0DTNE9:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:35:05.6342924+02:00 0HLI32A0DTNE9:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 148.9021ms (afa2e885)
2018-11-05T15:35:05.6344230+02:00 0HLI32A0DTNE9:00000003 [INF] Request finished in 212.3552ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:48:07.7877782+02:00 0HLI32A0DTNEB:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:48:07.7880376+02:00 0HLI32A0DTNEB:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:07.7882144+02:00 0HLI32A0DTNEC:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:48:07.7882590+02:00 0HLI32A0DTNEB:00000001 [INF] Request finished in 0.6039ms 204  (791a596a)
2018-11-05T15:48:07.7883064+02:00 0HLI32A0DTNEC:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:07.7883853+02:00 0HLI32A0DTNEC:00000001 [INF] Request finished in 0.2009ms 204  (791a596a)
2018-11-05T15:48:07.8812927+02:00 0HLI32A0DTNEB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:48:07.8816688+02:00 0HLI32A0DTNEB:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:07.8839418+02:00 0HLI32A0DTNEC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:48:07.8841506+02:00 0HLI32A0DTNEC:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:07.8858263+02:00 0HLI32A0DTNEC:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:48:07.8860079+02:00 0HLI32A0DTNEC:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:48:07.8861654+02:00 0HLI32A0DTNEC:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:48:07.8868111+02:00 0HLI32A0DTNEC:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:48:07.8873511+02:00 0HLI32A0DTNEC:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:48:07.9019039+02:00 0HLI32A0DTNEB:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:48:07.9020168+02:00 0HLI32A0DTNEB:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:48:07.9021419+02:00 0HLI32A0DTNEB:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:48:07.9024183+02:00 0HLI32A0DTNEB:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:48:07.9029844+02:00 0HLI32A0DTNEB:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:48:07.9249338+02:00 0HLI32A0DTNEC:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:48:07.9302012+02:00 0HLI32A0DTNEC:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:48:07.9304353+02:00 0HLI32A0DTNEC:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 43.5112ms. (50a9e262)
2018-11-05T15:48:07.9305767+02:00 0HLI32A0DTNEC:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:48:07.9309268+02:00 0HLI32A0DTNEC:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 44.6836ms (afa2e885)
2018-11-05T15:48:07.9310563+02:00 0HLI32A0DTNEC:00000002 [INF] Request finished in 47.1503ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:48:07.9403969+02:00 0HLI32A0DTNEB:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:48:07.9405753+02:00 0HLI32A0DTNEB:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 38.0654ms. (50a9e262)
2018-11-05T15:48:07.9406985+02:00 0HLI32A0DTNEB:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:48:07.9523322+02:00 0HLI32A0DTNEB:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 50.0891ms (afa2e885)
2018-11-05T15:48:07.9524885+02:00 0HLI32A0DTNEB:00000002 [INF] Request finished in 71.677ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:48:43.9248659+02:00 0HLI32A0DTNEC:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:48:43.9248470+02:00 0HLI32A0DTNEB:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:48:43.9250266+02:00 0HLI32A0DTNEB:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:43.9250171+02:00 0HLI32A0DTNEC:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:43.9251809+02:00 0HLI32A0DTNEB:00000003 [INF] Request finished in 0.431ms 204  (791a596a)
2018-11-05T15:48:43.9253120+02:00 0HLI32A0DTNEC:00000003 [INF] Request finished in 0.5688ms 204  (791a596a)
2018-11-05T15:48:44.0744115+02:00 0HLI32A0DTNEB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:48:44.0745801+02:00 0HLI32A0DTNEB:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:44.0755042+02:00 0HLI32A0DTNEB:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:48:44.0756116+02:00 0HLI32A0DTNEB:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:48:44.0757816+02:00 0HLI32A0DTNEB:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:48:44.0760493+02:00 0HLI32A0DTNEB:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:48:44.0765028+02:00 0HLI32A0DTNEB:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:48:44.0771857+02:00 0HLI32A0DTNEC:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:48:44.0773251+02:00 0HLI32A0DTNEC:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:48:44.0780321+02:00 0HLI32A0DTNEC:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:48:44.0781225+02:00 0HLI32A0DTNEC:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:48:44.0782535+02:00 0HLI32A0DTNEC:00000004 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:48:44.0785997+02:00 0HLI32A0DTNEC:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:48:44.0788251+02:00 0HLI32A0DTNEB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:48:44.0789479+02:00 0HLI32A0DTNEB:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.8294ms. (50a9e262)
2018-11-05T15:48:44.0790462+02:00 0HLI32A0DTNEB:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:48:44.0790572+02:00 0HLI32A0DTNEC:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:48:44.0792128+02:00 0HLI32A0DTNEB:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.3635ms (afa2e885)
2018-11-05T15:48:44.0793024+02:00 0HLI32A0DTNEB:00000004 [INF] Request finished in 5.01ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:48:44.0798502+02:00 0HLI32A0DTNEC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:48:44.0818440+02:00 0HLI32A0DTNEC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:48:44.0820233+02:00 0HLI32A0DTNEC:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 3.3319ms. (50a9e262)
2018-11-05T15:48:44.0821385+02:00 0HLI32A0DTNEC:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:48:44.0823600+02:00 0HLI32A0DTNEC:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 4.0401ms (afa2e885)
2018-11-05T15:48:44.0824685+02:00 0HLI32A0DTNEC:00000004 [INF] Request finished in 5.3929ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:49:44.4977108+02:00 0HLI32A0DTNED:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:49:44.4979031+02:00 0HLI32A0DTNED:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:44.4980215+02:00 0HLI32A0DTNED:00000001 [INF] Request finished in 0.3805ms 204  (791a596a)
2018-11-05T15:49:44.5090291+02:00 0HLI32A0DTNED:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:49:44.5099185+02:00 0HLI32A0DTNED:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:44.5101553+02:00 0HLI32A0DTNED:00000002 [INF] Request finished in 1.194ms 204  (791a596a)
2018-11-05T15:49:44.7693479+02:00 0HLI32A0DTNED:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:49:44.7697261+02:00 0HLI32A0DTNED:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:44.7710469+02:00 0HLI32A0DTNED:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:49:44.7711701+02:00 0HLI32A0DTNED:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:49:44.7713935+02:00 0HLI32A0DTNED:00000003 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:49:44.7719118+02:00 0HLI32A0DTNED:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:49:44.7725768+02:00 0HLI32A0DTNED:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:49:44.7738309+02:00 0HLI32A0DTNED:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:49:44.7761852+02:00 0HLI32A0DTNED:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:49:44.7763506+02:00 0HLI32A0DTNED:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.3152ms. (50a9e262)
2018-11-05T15:49:44.7764758+02:00 0HLI32A0DTNED:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:49:44.7770710+02:00 0HLI32A0DTNED:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 5.4375ms (afa2e885)
2018-11-05T15:49:44.7773737+02:00 0HLI32A0DTNED:00000003 [INF] Request finished in 8.1008ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:49:44.8063800+02:00 0HLI32A0DTNED:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:49:44.8065493+02:00 0HLI32A0DTNED:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:44.8073648+02:00 0HLI32A0DTNED:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:49:44.8074927+02:00 0HLI32A0DTNED:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:49:44.8076372+02:00 0HLI32A0DTNED:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:49:44.8078768+02:00 0HLI32A0DTNED:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:49:44.8082869+02:00 0HLI32A0DTNED:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:49:44.8105630+02:00 0HLI32A0DTNED:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:49:44.8107071+02:00 0HLI32A0DTNED:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.7592ms. (50a9e262)
2018-11-05T15:49:44.8108752+02:00 0HLI32A0DTNED:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:49:44.8110395+02:00 0HLI32A0DTNED:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.3375ms (afa2e885)
2018-11-05T15:49:44.8112144+02:00 0HLI32A0DTNED:00000004 [INF] Request finished in 4.8201ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:49:52.9725188+02:00 0HLI32A0DTNED:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:49:52.9726834+02:00 0HLI32A0DTNED:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:52.9728666+02:00 0HLI32A0DTNED:00000005 [INF] Request finished in 34.9517ms 204  (791a596a)
2018-11-05T15:49:52.9725591+02:00 0HLI32A0DTNEE:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:49:52.9729664+02:00 0HLI32A0DTNEE:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:52.9730458+02:00 0HLI32A0DTNEE:00000001 [INF] Request finished in 34.8309ms 204  (791a596a)
2018-11-05T15:49:53.0682149+02:00 0HLI32A0DTNED:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:49:53.0682765+02:00 0HLI32A0DTNEE:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:49:53.0688457+02:00 0HLI32A0DTNEE:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:53.0692451+02:00 0HLI32A0DTNED:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T15:49:53.0700970+02:00 0HLI32A0DTNED:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:49:53.0701289+02:00 0HLI32A0DTNEE:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:49:53.0701941+02:00 0HLI32A0DTNED:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:49:53.0702269+02:00 0HLI32A0DTNEE:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:49:53.0703276+02:00 0HLI32A0DTNED:00000006 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:49:53.0703576+02:00 0HLI32A0DTNEE:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:49:53.0705771+02:00 0HLI32A0DTNEE:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:49:53.0706852+02:00 0HLI32A0DTNED:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:49:53.0712848+02:00 0HLI32A0DTNEE:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:49:53.0721011+02:00 0HLI32A0DTNED:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:49:53.0730331+02:00 0HLI32A0DTNED:00000006 [INF] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:49:53.0734432+02:00 0HLI32A0DTNEE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:49:53.0735829+02:00 0HLI32A0DTNEE:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.9273ms. (50a9e262)
2018-11-05T15:49:53.0737314+02:00 0HLI32A0DTNEE:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:49:53.0740314+02:00 0HLI32A0DTNEE:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.5258ms (afa2e885)
2018-11-05T15:49:53.0741920+02:00 0HLI32A0DTNEE:00000002 [INF] Request finished in 6.0264ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:49:53.0800164+02:00 0HLI32A0DTNED:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:49:53.0801787+02:00 0HLI32A0DTNED:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 9.4235ms. (50a9e262)
2018-11-05T15:49:53.0803042+02:00 0HLI32A0DTNED:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:49:53.0804988+02:00 0HLI32A0DTNED:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 10.1049ms (afa2e885)
2018-11-05T15:49:53.0806918+02:00 0HLI32A0DTNED:00000006 [INF] Request finished in 12.5369ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:53:28.4433489+02:00 0HLI32A0DTNEF:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:53:28.4435487+02:00 0HLI32A0DTNEF:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:28.4435542+02:00 0HLI32A0DTNEG:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:53:28.4437338+02:00 0HLI32A0DTNEG:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:28.4437346+02:00 0HLI32A0DTNEF:00000001 [INF] Request finished in 0.6067ms 204  (791a596a)
2018-11-05T15:53:28.4441198+02:00 0HLI32A0DTNEG:00000001 [INF] Request finished in 0.5806ms 204  (791a596a)
2018-11-05T15:53:28.6888650+02:00 0HLI32A0DTNEF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:53:28.6890513+02:00 0HLI32A0DTNEF:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:28.6890091+02:00 0HLI32A0DTNEG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:53:28.6892349+02:00 0HLI32A0DTNEG:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:28.6902794+02:00 0HLI32A0DTNEF:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:53:28.6903816+02:00 0HLI32A0DTNEF:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:53:28.7109104+02:00 0HLI32A0DTNEF:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:53:28.7113549+02:00 0HLI32A0DTNEF:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:53:28.7119742+02:00 0HLI32A0DTNEF:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:53:28.7140683+02:00 0HLI32A0DTNEF:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:53:28.7144133+02:00 0HLI32A0DTNEF:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 2.9711ms. (50a9e262)
2018-11-05T15:53:28.7145534+02:00 0HLI32A0DTNEF:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:53:28.7149462+02:00 0HLI32A0DTNEF:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 3.9367ms (afa2e885)
2018-11-05T15:53:28.7150836+02:00 0HLI32A0DTNEF:00000002 [INF] Request finished in 26.2631ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:53:28.7255268+02:00 0HLI32A0DTNEG:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:53:28.7256511+02:00 0HLI32A0DTNEG:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:53:28.7257771+02:00 0HLI32A0DTNEG:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:53:28.7263345+02:00 0HLI32A0DTNEG:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:53:28.7647066+02:00 0HLI32A0DTNEG:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:53:28.7656725+02:00 0HLI32A0DTNEG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:53:28.7690203+02:00 0HLI32A0DTNEG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:53:28.7691916+02:00 0HLI32A0DTNEG:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 42.7727ms. (50a9e262)
2018-11-05T15:53:28.7694213+02:00 0HLI32A0DTNEG:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:53:28.7699756+02:00 0HLI32A0DTNEG:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 44.1171ms (afa2e885)
2018-11-05T15:53:28.7701058+02:00 0HLI32A0DTNEG:00000002 [INF] Request finished in 81.285ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:53:45.5181752+02:00 0HLI32A0DTNEF:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T15:53:45.5184642+02:00 0HLI32A0DTNEF:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:45.5190089+02:00 0HLI32A0DTNEF:00000003 [INF] Request finished in 0.9667ms 204  (791a596a)
2018-11-05T15:53:45.5198276+02:00 0HLI32A0DTNEG:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:53:45.5200005+02:00 0HLI32A0DTNEG:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:45.5201075+02:00 0HLI32A0DTNEG:00000003 [INF] Request finished in 0.3071ms 204  (791a596a)
2018-11-05T15:53:45.6552751+02:00 0HLI32A0DTNEF:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T15:53:45.6557646+02:00 0HLI32A0DTNEF:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:45.6573882+02:00 0HLI32A0DTNEF:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:53:45.6575528+02:00 0HLI32A0DTNEF:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:53:45.6734908+02:00 0HLI32A0DTNEF:00000004 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:53:45.6740374+02:00 0HLI32A0DTNEF:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:53:45.6745936+02:00 0HLI32A0DTNEF:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:53:45.6756926+02:00 0HLI32A0DTNEF:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T15:53:45.6782844+02:00 0HLI32A0DTNEF:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T15:53:45.6785430+02:00 0HLI32A0DTNEF:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.4009ms. (50a9e262)
2018-11-05T15:53:45.6788110+02:00 0HLI32A0DTNEF:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:53:45.6791122+02:00 0HLI32A0DTNEF:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 5.4931ms (afa2e885)
2018-11-05T15:53:45.6793179+02:00 0HLI32A0DTNEF:00000004 [INF] Request finished in 24.1236ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:53:45.6941482+02:00 0HLI32A0DTNEG:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T15:53:45.6943977+02:00 0HLI32A0DTNEG:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:53:45.7009050+02:00 0HLI32A0DTNEG:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:53:45.7011829+02:00 0HLI32A0DTNEG:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:53:45.7013644+02:00 0HLI32A0DTNEG:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:53:45.7019767+02:00 0HLI32A0DTNEG:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T15:53:45.7031261+02:00 0HLI32A0DTNEG:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:53:45.7059091+02:00 0HLI32A0DTNEG:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T15:53:45.7061104+02:00 0HLI32A0DTNEG:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 3.9912ms. (50a9e262)
2018-11-05T15:53:45.7062537+02:00 0HLI32A0DTNEG:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T15:53:45.7064578+02:00 0HLI32A0DTNEG:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 4.9997ms (afa2e885)
2018-11-05T15:53:45.7066054+02:00 0HLI32A0DTNEG:00000004 [INF] Request finished in 46.261ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:54:08.5681452+02:00 0HLI32A0DTNEF:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:54:08.5683394+02:00 0HLI32A0DTNEF:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T15:54:08.5684499+02:00 0HLI32A0DTNEF:00000005 [INF] Request finished in 0.3528ms 204  (791a596a)
2018-11-05T15:54:08.6477834+02:00 0HLI32A0DTNEG:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:54:08.6480747+02:00 0HLI32A0DTNEG:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T15:54:08.6492348+02:00 0HLI32A0DTNEG:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:54:08.6496067+02:00 0HLI32A0DTNEG:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:54:09.1505846+02:00 0HLI32A0DTNEG:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:54:09.4154381+02:00 0HLI32A0DTNEG:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:54:09.5382583+02:00 0HLI32A0DTNEG:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:54:10.1821989+02:00 0HLI32A0DTNEG:00000005 [INF] Executed DbCommand ("174"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:54:10.5507543+02:00 0HLI32A0DTNEG:00000005 [INF] Executed DbCommand ("121"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:54:10.5786141+02:00 0HLI32A0DTNEG:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1163.0014ms. (50a9e262)
2018-11-05T15:54:10.5787551+02:00 0HLI32A0DTNEG:00000005 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:54:10.6152348+02:00 0HLI32A0DTNEG:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 1464.5281ms (afa2e885)
2018-11-05T15:54:10.6153683+02:00 0HLI32A0DTNEG:00000005 [INF] Request finished in 1967.6243ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:55:01.4242783+02:00 0HLI32A0DTNEF:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:55:01.4245914+02:00 0HLI32A0DTNEF:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T15:55:01.4247295+02:00 0HLI32A0DTNEF:00000006 [INF] Request finished in 0.5636ms 204  (791a596a)
2018-11-05T15:55:01.6260767+02:00 0HLI32A0DTNEG:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:55:01.6264876+02:00 0HLI32A0DTNEG:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T15:55:01.6276703+02:00 0HLI32A0DTNEG:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:55:01.6278230+02:00 0HLI32A0DTNEG:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:55:01.6358208+02:00 0HLI32A0DTNEG:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:55:01.6544813+02:00 0HLI32A0DTNEG:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:55:01.6552393+02:00 0HLI32A0DTNEG:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:55:01.6584330+02:00 0HLI32A0DTNEG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:55:01.6619904+02:00 0HLI32A0DTNEG:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:55:01.6627985+02:00 0HLI32A0DTNEG:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 8.1726ms. (50a9e262)
2018-11-05T15:55:01.6629492+02:00 0HLI32A0DTNEG:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:55:01.6788766+02:00 0HLI32A0DTNEG:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 42.8974ms (afa2e885)
2018-11-05T15:55:01.6790503+02:00 0HLI32A0DTNEG:00000006 [INF] Request finished in 53.0509ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:56:09.8308178+02:00 0HLI32A0DTNEH:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:56:09.8312496+02:00 0HLI32A0DTNEH:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:56:09.8313878+02:00 0HLI32A0DTNEH:00000001 [INF] Request finished in 0.8715ms 204  (791a596a)
2018-11-05T15:56:09.9654825+02:00 0HLI32A0DTNEH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:56:09.9656538+02:00 0HLI32A0DTNEH:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:56:09.9668077+02:00 0HLI32A0DTNEH:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:56:09.9669131+02:00 0HLI32A0DTNEH:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:56:09.9671207+02:00 0HLI32A0DTNEH:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:56:09.9676197+02:00 0HLI32A0DTNEH:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:56:09.9681483+02:00 0HLI32A0DTNEH:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:56:09.9711569+02:00 0HLI32A0DTNEH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:56:09.9734263+02:00 0HLI32A0DTNEH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:56:09.9736339+02:00 0HLI32A0DTNEH:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.912ms. (50a9e262)
2018-11-05T15:56:09.9737685+02:00 0HLI32A0DTNEH:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:56:09.9865995+02:00 0HLI32A0DTNEH:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.352ms (afa2e885)
2018-11-05T15:56:09.9867519+02:00 0HLI32A0DTNEH:00000002 [INF] Request finished in 21.3194ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:57:27.9142794+02:00 0HLI32A0DTNEI:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:57:27.9147271+02:00 0HLI32A0DTNEI:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T15:57:27.9149375+02:00 0HLI32A0DTNEI:00000001 [INF] Request finished in 0.78ms 204  (791a596a)
2018-11-05T15:57:28.0718062+02:00 0HLI32A0DTNEI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:57:28.0719653+02:00 0HLI32A0DTNEI:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T15:57:28.0730615+02:00 0HLI32A0DTNEI:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:57:28.0733059+02:00 0HLI32A0DTNEI:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:57:28.0734673+02:00 0HLI32A0DTNEI:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:57:28.0739695+02:00 0HLI32A0DTNEI:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:57:28.0748800+02:00 0HLI32A0DTNEI:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:57:28.0778300+02:00 0HLI32A0DTNEI:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:57:28.0799422+02:00 0HLI32A0DTNEI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:57:28.0801278+02:00 0HLI32A0DTNEI:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0706ms. (50a9e262)
2018-11-05T15:57:28.0803524+02:00 0HLI32A0DTNEI:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:57:28.0897456+02:00 0HLI32A0DTNEI:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 16.1673ms (afa2e885)
2018-11-05T15:57:28.0898703+02:00 0HLI32A0DTNEI:00000002 [INF] Request finished in 18.1189ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:57:52.2917716+02:00 0HLI32A0DTNEI:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:57:52.2919283+02:00 0HLI32A0DTNEI:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T15:57:52.2920673+02:00 0HLI32A0DTNEI:00000003 [INF] Request finished in 0.3651ms 204  (791a596a)
2018-11-05T15:57:52.4697416+02:00 0HLI32A0DTNEI:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:57:52.4772215+02:00 0HLI32A0DTNEI:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T15:57:52.4781969+02:00 0HLI32A0DTNEI:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:57:52.4783090+02:00 0HLI32A0DTNEI:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:57:52.4786110+02:00 0HLI32A0DTNEI:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:57:52.4789789+02:00 0HLI32A0DTNEI:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:57:52.4794652+02:00 0HLI32A0DTNEI:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:57:52.4947633+02:00 0HLI32A0DTNEI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:57:52.4968475+02:00 0HLI32A0DTNEI:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:57:52.4970662+02:00 0HLI32A0DTNEI:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.0127ms. (50a9e262)
2018-11-05T15:57:52.4973871+02:00 0HLI32A0DTNEI:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:57:52.4978920+02:00 0HLI32A0DTNEI:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.1902ms (afa2e885)
2018-11-05T15:57:52.4980223+02:00 0HLI32A0DTNEI:00000004 [INF] Request finished in 28.4831ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:58:23.0821503+02:00 0HLI32A0DTNEI:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:58:23.0830942+02:00 0HLI32A0DTNEI:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T15:58:23.0832233+02:00 0HLI32A0DTNEI:00000005 [INF] Request finished in 1.1932ms 204  (791a596a)
2018-11-05T15:58:23.2890342+02:00 0HLI32A0DTNEI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:58:23.2894470+02:00 0HLI32A0DTNEI:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T15:58:23.3194227+02:00 0HLI32A0DTNEI:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:58:23.3195561+02:00 0HLI32A0DTNEI:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:58:23.3196954+02:00 0HLI32A0DTNEI:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:58:23.3202801+02:00 0HLI32A0DTNEI:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:58:23.3208165+02:00 0HLI32A0DTNEI:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:58:23.3233756+02:00 0HLI32A0DTNEI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:58:23.3257046+02:00 0HLI32A0DTNEI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:58:23.3259228+02:00 0HLI32A0DTNEI:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5496ms. (50a9e262)
2018-11-05T15:58:23.3260559+02:00 0HLI32A0DTNEI:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:58:23.3343837+02:00 0HLI32A0DTNEI:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 14.5433ms (afa2e885)
2018-11-05T15:58:23.3345538+02:00 0HLI32A0DTNEI:00000006 [INF] Request finished in 45.6069ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:59:16.7382511+02:00 0HLI32A0DTNEI:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T15:59:16.7385152+02:00 0HLI32A0DTNEI:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:16.7386787+02:00 0HLI32A0DTNEI:00000007 [INF] Request finished in 0.774ms 204  (791a596a)
2018-11-05T15:59:16.9333334+02:00 0HLI32A0DTNEI:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T15:59:16.9334902+02:00 0HLI32A0DTNEI:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:16.9359842+02:00 0HLI32A0DTNEI:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:59:16.9506981+02:00 0HLI32A0DTNEI:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:59:16.9511769+02:00 0HLI32A0DTNEI:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:59:16.9518964+02:00 0HLI32A0DTNEI:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:59:16.9524771+02:00 0HLI32A0DTNEI:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:59:16.9556346+02:00 0HLI32A0DTNEI:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:59:16.9651664+02:00 0HLI32A0DTNEI:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:59:16.9654261+02:00 0HLI32A0DTNEI:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 13.423ms. (50a9e262)
2018-11-05T15:59:16.9656520+02:00 0HLI32A0DTNEI:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:59:16.9664027+02:00 0HLI32A0DTNEI:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 15.1109ms (afa2e885)
2018-11-05T15:59:16.9665645+02:00 0HLI32A0DTNEI:00000008 [INF] Request finished in 34.2514ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:59:25.7492699+02:00 0HLI32A0DTNEI:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/10   (ca22a1cb)
2018-11-05T15:59:25.7496607+02:00 0HLI32A0DTNEI:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:25.7497771+02:00 0HLI32A0DTNEI:00000009 [INF] Request finished in 0.5932ms 204  (791a596a)
2018-11-05T15:59:25.9371581+02:00 0HLI32A0DTNEI:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/10 application/json  (ca22a1cb)
2018-11-05T15:59:25.9377683+02:00 0HLI32A0DTNEI:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:25.9586232+02:00 0HLI32A0DTNEI:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:59:25.9588565+02:00 0HLI32A0DTNEI:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:59:25.9590472+02:00 0HLI32A0DTNEI:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:59:25.9595315+02:00 0HLI32A0DTNEI:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["10"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:59:25.9600455+02:00 0HLI32A0DTNEI:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:59:25.9628548+02:00 0HLI32A0DTNEI:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:59:25.9650350+02:00 0HLI32A0DTNEI:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T15:59:25.9651834+02:00 0HLI32A0DTNEI:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5713ms. (50a9e262)
2018-11-05T15:59:25.9652967+02:00 0HLI32A0DTNEI:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T15:59:25.9654846+02:00 0HLI32A0DTNEI:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3537ms (afa2e885)
2018-11-05T15:59:25.9656488+02:00 0HLI32A0DTNEI:0000000A [INF] Request finished in 28.6947ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T15:59:39.7210461+02:00 0HLI32A0DTNEI:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/1   (ca22a1cb)
2018-11-05T15:59:39.7216264+02:00 0HLI32A0DTNEI:0000000B [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:39.7219872+02:00 0HLI32A0DTNEI:0000000B [INF] Request finished in 1.1317ms 204  (791a596a)
2018-11-05T15:59:39.8719247+02:00 0HLI32A0DTNEI:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/1 application/json  (ca22a1cb)
2018-11-05T15:59:39.8731149+02:00 0HLI32A0DTNEI:0000000C [INF] Policy execution successful. (0204925d)
2018-11-05T15:59:39.8740492+02:00 0HLI32A0DTNEI:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T15:59:39.8742261+02:00 0HLI32A0DTNEI:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T15:59:39.8744408+02:00 0HLI32A0DTNEI:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T15:59:39.8749090+02:00 0HLI32A0DTNEI:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["1"]) - Validation state: Valid (4e3479ed)
2018-11-05T15:59:39.8923745+02:00 0HLI32A0DTNEI:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T15:59:39.8953087+02:00 0HLI32A0DTNEI:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T15:59:39.9068062+02:00 0HLI32A0DTNEI:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 31.6931ms. (50a9e262)
2018-11-05T15:59:39.9071319+02:00 0HLI32A0DTNEI:0000000C [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T15:59:39.9208992+02:00 0HLI32A0DTNEI:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 46.3604ms (afa2e885)
2018-11-05T15:59:39.9210275+02:00 0HLI32A0DTNEI:0000000C [INF] Request finished in 49.1864ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T16:00:40.0745398+02:00 0HLI32A0DTNEJ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/1   (ca22a1cb)
2018-11-05T16:00:40.0749689+02:00 0HLI32A0DTNEJ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:00:40.0752405+02:00 0HLI32A0DTNEJ:00000001 [INF] Request finished in 0.8214ms 204  (791a596a)
2018-11-05T16:00:40.2593636+02:00 0HLI32A0DTNEJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/1 application/json  (ca22a1cb)
2018-11-05T16:00:40.2599068+02:00 0HLI32A0DTNEJ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:00:40.2623363+02:00 0HLI32A0DTNEJ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:00:40.2624697+02:00 0HLI32A0DTNEJ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:00:40.2626079+02:00 0HLI32A0DTNEJ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:00:40.2634408+02:00 0HLI32A0DTNEJ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["1"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:00:40.2642939+02:00 0HLI32A0DTNEJ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:00:40.2673393+02:00 0HLI32A0DTNEJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:00:40.2674920+02:00 0HLI32A0DTNEJ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 3.8771ms. (50a9e262)
2018-11-05T16:00:40.2677869+02:00 0HLI32A0DTNEJ:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T16:00:40.2682626+02:00 0HLI32A0DTNEJ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5168ms (afa2e885)
2018-11-05T16:00:40.2684106+02:00 0HLI32A0DTNEJ:00000002 [INF] Request finished in 9.1346ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T16:00:48.0183950+02:00 0HLI32A0DTNEJ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T16:00:48.0187944+02:00 0HLI32A0DTNEJ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T16:00:48.0189184+02:00 0HLI32A0DTNEJ:00000003 [INF] Request finished in 0.6126ms 204  (791a596a)
2018-11-05T16:00:48.1734428+02:00 0HLI32A0DTNEJ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T16:00:48.1739129+02:00 0HLI32A0DTNEJ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T16:00:48.1759522+02:00 0HLI32A0DTNEJ:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:00:48.1761235+02:00 0HLI32A0DTNEJ:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:00:48.1762936+02:00 0HLI32A0DTNEJ:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:00:48.1773811+02:00 0HLI32A0DTNEJ:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:00:48.1779708+02:00 0HLI32A0DTNEJ:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:00:48.1808915+02:00 0HLI32A0DTNEJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:00:48.1835189+02:00 0HLI32A0DTNEJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:00:48.1838157+02:00 0HLI32A0DTNEJ:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3284ms. (50a9e262)
2018-11-05T16:00:48.1839570+02:00 0HLI32A0DTNEJ:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:00:48.1845625+02:00 0HLI32A0DTNEJ:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.1651ms (afa2e885)
2018-11-05T16:00:48.1846983+02:00 0HLI32A0DTNEJ:00000004 [INF] Request finished in 11.3211ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:02:05.2471895+02:00 0HLI32A0DTNEK:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T16:02:05.2475719+02:00 0HLI32A0DTNEK:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:02:05.2479370+02:00 0HLI32A0DTNEK:00000001 [INF] Request finished in 0.748ms 204  (791a596a)
2018-11-05T16:02:05.3940737+02:00 0HLI32A0DTNEK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T16:02:05.3964268+02:00 0HLI32A0DTNEK:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:02:05.3977870+02:00 0HLI32A0DTNEK:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:02:05.3978928+02:00 0HLI32A0DTNEK:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:02:05.3980586+02:00 0HLI32A0DTNEK:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:02:05.3986977+02:00 0HLI32A0DTNEK:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:02:05.3992428+02:00 0HLI32A0DTNEK:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:02:05.4245985+02:00 0HLI32A0DTNEK:00000002 [INF] Executed DbCommand ("18"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:02:05.4271433+02:00 0HLI32A0DTNEK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:02:05.4273379+02:00 0HLI32A0DTNEK:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 28.5411ms. (50a9e262)
2018-11-05T16:02:05.4274812+02:00 0HLI32A0DTNEK:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:02:05.4365681+02:00 0HLI32A0DTNEK:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 38.2529ms (afa2e885)
2018-11-05T16:02:05.4367481+02:00 0HLI32A0DTNEK:00000002 [INF] Request finished in 42.7557ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:05:19.0330539+02:00 0HLI32A0DTNEL:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T16:05:19.0334486+02:00 0HLI32A0DTNEL:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:05:19.0336002+02:00 0HLI32A0DTNEL:00000001 [INF] Request finished in 0.8577ms 204  (791a596a)
2018-11-05T16:05:19.0899137+02:00 0HLI32A0DTNEL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T16:05:19.0902417+02:00 0HLI32A0DTNEL:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:05:19.0917710+02:00 0HLI32A0DTNEL:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:05:19.0918831+02:00 0HLI32A0DTNEL:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:05:19.0921637+02:00 0HLI32A0DTNEL:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:05:19.0926228+02:00 0HLI32A0DTNEL:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:05:19.0935196+02:00 0HLI32A0DTNEL:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:05:19.0970395+02:00 0HLI32A0DTNEL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:05:19.1002590+02:00 0HLI32A0DTNEL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:05:19.1004725+02:00 0HLI32A0DTNEL:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.616ms. (50a9e262)
2018-11-05T16:05:19.1006241+02:00 0HLI32A0DTNEL:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:05:19.1326371+02:00 0HLI32A0DTNEL:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 40.3505ms (afa2e885)
2018-11-05T16:05:19.1328195+02:00 0HLI32A0DTNEL:00000002 [INF] Request finished in 43.0715ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:22:32.8591013+02:00 0HLI32A0DTNEM:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T16:22:32.8593650+02:00 0HLI32A0DTNEM:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:22:32.8595249+02:00 0HLI32A0DTNEM:00000001 [INF] Request finished in 0.5194ms 204  (791a596a)
2018-11-05T16:22:32.9791469+02:00 0HLI32A0DTNEM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T16:22:32.9793103+02:00 0HLI32A0DTNEM:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:22:32.9814028+02:00 0HLI32A0DTNEM:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:22:32.9815741+02:00 0HLI32A0DTNEM:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:22:32.9818251+02:00 0HLI32A0DTNEM:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:22:33.0043702+02:00 0HLI32A0DTNEM:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:22:33.0049335+02:00 0HLI32A0DTNEM:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:22:33.0890544+02:00 0HLI32A0DTNEM:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:22:33.0921523+02:00 0HLI32A0DTNEM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:22:33.0923516+02:00 0HLI32A0DTNEM:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 87.8767ms. (50a9e262)
2018-11-05T16:22:33.0924692+02:00 0HLI32A0DTNEM:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:22:33.0929780+02:00 0HLI32A0DTNEM:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 110.9764ms (afa2e885)
2018-11-05T16:22:33.0931154+02:00 0HLI32A0DTNEM:00000002 [INF] Request finished in 114.0112ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:26:18.4101577+02:00 0HLI32A0DTNEN:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/9   (ca22a1cb)
2018-11-05T16:26:18.4103314+02:00 0HLI32A0DTNEN:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:18.4104704+02:00 0HLI32A0DTNEN:00000001 [INF] Request finished in 0.476ms 204  (791a596a)
2018-11-05T16:26:18.4872049+02:00 0HLI32A0DTNEN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/9 application/json  (ca22a1cb)
2018-11-05T16:26:18.4876145+02:00 0HLI32A0DTNEN:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:18.4891146+02:00 0HLI32A0DTNEN:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:26:18.4893573+02:00 0HLI32A0DTNEN:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:26:18.4895338+02:00 0HLI32A0DTNEN:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:26:18.4902258+02:00 0HLI32A0DTNEN:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["9"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:26:18.4908933+02:00 0HLI32A0DTNEN:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:26:18.4938483+02:00 0HLI32A0DTNEN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:26:18.4962207+02:00 0HLI32A0DTNEN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:26:18.4965784+02:00 0HLI32A0DTNEN:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1393ms. (50a9e262)
2018-11-05T16:26:18.4967315+02:00 0HLI32A0DTNEN:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:26:18.5090635+02:00 0HLI32A0DTNEN:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.412ms (afa2e885)
2018-11-05T16:26:18.5092340+02:00 0HLI32A0DTNEN:00000002 [INF] Request finished in 22.0761ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:26:26.0029681+02:00 0HLI32A0DTNEN:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/4   (ca22a1cb)
2018-11-05T16:26:26.0032030+02:00 0HLI32A0DTNEN:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:26.0033412+02:00 0HLI32A0DTNEN:00000003 [INF] Request finished in 0.416ms 204  (791a596a)
2018-11-05T16:26:26.0405705+02:00 0HLI32A0DTNEN:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/4 application/json  (ca22a1cb)
2018-11-05T16:26:26.0409222+02:00 0HLI32A0DTNEN:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:26.0419889+02:00 0HLI32A0DTNEN:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:26:26.0421337+02:00 0HLI32A0DTNEN:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:26:26.0422940+02:00 0HLI32A0DTNEN:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:26:26.0428853+02:00 0HLI32A0DTNEN:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["4"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:26:26.0432939+02:00 0HLI32A0DTNEN:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:26:26.0458735+02:00 0HLI32A0DTNEN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:26:26.0480185+02:00 0HLI32A0DTNEN:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:26:26.0481816+02:00 0HLI32A0DTNEN:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2141ms. (50a9e262)
2018-11-05T16:26:26.0482897+02:00 0HLI32A0DTNEN:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:26:26.0485005+02:00 0HLI32A0DTNEN:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1405ms (afa2e885)
2018-11-05T16:26:26.0487247+02:00 0HLI32A0DTNEN:00000004 [INF] Request finished in 8.1762ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:26:36.1112177+02:00 0HLI32A0DTNEN:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/2   (ca22a1cb)
2018-11-05T16:26:36.1114956+02:00 0HLI32A0DTNEN:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:36.1119559+02:00 0HLI32A0DTNEN:00000005 [INF] Request finished in 0.5992ms 204  (791a596a)
2018-11-05T16:26:36.1768679+02:00 0HLI32A0DTNEN:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/2 application/json  (ca22a1cb)
2018-11-05T16:26:36.1773456+02:00 0HLI32A0DTNEN:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T16:26:36.1783707+02:00 0HLI32A0DTNEN:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:26:36.1784670+02:00 0HLI32A0DTNEN:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:26:36.1786447+02:00 0HLI32A0DTNEN:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:26:36.1789972+02:00 0HLI32A0DTNEN:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["2"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:26:36.1798250+02:00 0HLI32A0DTNEN:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:26:36.1834893+02:00 0HLI32A0DTNEN:00000006 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:26:36.1836551+02:00 0HLI32A0DTNEN:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 4.5458ms. (50a9e262)
2018-11-05T16:26:36.1837909+02:00 0HLI32A0DTNEN:00000006 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T16:26:36.1839740+02:00 0HLI32A0DTNEN:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2583ms (afa2e885)
2018-11-05T16:26:36.1841260+02:00 0HLI32A0DTNEN:00000006 [INF] Request finished in 7.2999ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T16:29:42.9090594+02:00 0HLI32A0DTNEO:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/2   (ca22a1cb)
2018-11-05T16:29:42.9093759+02:00 0HLI32A0DTNEO:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:42.9095397+02:00 0HLI32A0DTNEO:00000001 [INF] Request finished in 0.6114ms 204  (791a596a)
2018-11-05T16:29:42.9911745+02:00 0HLI32A0DTNEO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/2 application/json  (ca22a1cb)
2018-11-05T16:29:42.9915977+02:00 0HLI32A0DTNEO:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:42.9928573+02:00 0HLI32A0DTNEO:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:29:42.9929958+02:00 0HLI32A0DTNEO:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:29:42.9933041+02:00 0HLI32A0DTNEO:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:29:42.9941027+02:00 0HLI32A0DTNEO:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["2"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:29:42.9948452+02:00 0HLI32A0DTNEO:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:29:42.9978346+02:00 0HLI32A0DTNEO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:29:42.9980505+02:00 0HLI32A0DTNEO:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 3.7914ms. (50a9e262)
2018-11-05T16:29:42.9982475+02:00 0HLI32A0DTNEO:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T16:29:42.9986257+02:00 0HLI32A0DTNEO:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2105ms (afa2e885)
2018-11-05T16:29:42.9987666+02:00 0HLI32A0DTNEO:00000002 [INF] Request finished in 7.6737ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T16:29:45.3525685+02:00 0HLI32A0DTNEO:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T16:29:45.3528685+02:00 0HLI32A0DTNEO:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:45.3529806+02:00 0HLI32A0DTNEO:00000003 [INF] Request finished in 0.5155ms 204  (791a596a)
2018-11-05T16:29:45.3532139+02:00 0HLI32A0DTNEP:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T16:29:45.3533252+02:00 0HLI32A0DTNEP:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:45.3534215+02:00 0HLI32A0DTNEP:00000001 [INF] Request finished in 0.3059ms 204  (791a596a)
2018-11-05T16:29:45.4285001+02:00 0HLI32A0DTNEO:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T16:29:45.4287902+02:00 0HLI32A0DTNEO:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:45.4298548+02:00 0HLI32A0DTNEO:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:29:45.4299653+02:00 0HLI32A0DTNEO:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:29:45.4301375+02:00 0HLI32A0DTNEO:00000004 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:29:45.4302314+02:00 0HLI32A0DTNEP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T16:29:45.4303866+02:00 0HLI32A0DTNEP:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:45.4306396+02:00 0HLI32A0DTNEO:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T16:29:45.4311946+02:00 0HLI32A0DTNEP:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:29:45.4313505+02:00 0HLI32A0DTNEP:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:29:45.4314875+02:00 0HLI32A0DTNEP:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:29:45.4318001+02:00 0HLI32A0DTNEO:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:29:45.4321178+02:00 0HLI32A0DTNEP:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:29:45.4325122+02:00 0HLI32A0DTNEP:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:29:45.4347484+02:00 0HLI32A0DTNEP:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T16:29:45.4379398+02:00 0HLI32A0DTNEP:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T16:29:45.4381487+02:00 0HLI32A0DTNEP:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9206ms. (50a9e262)
2018-11-05T16:29:45.4383524+02:00 0HLI32A0DTNEP:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T16:29:45.4387562+02:00 0HLI32A0DTNEP:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 7.1814ms (afa2e885)
2018-11-05T16:29:45.4388916+02:00 0HLI32A0DTNEP:00000002 [INF] Request finished in 8.6664ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:29:45.4830755+02:00 0HLI32A0DTNEO:00000004 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T16:29:45.4833368+02:00 0HLI32A0DTNEO:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 52.5539ms. (50a9e262)
2018-11-05T16:29:45.4834513+02:00 0HLI32A0DTNEO:00000004 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T16:29:45.4841792+02:00 0HLI32A0DTNEO:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 53.9469ms (afa2e885)
2018-11-05T16:29:45.4843517+02:00 0HLI32A0DTNEO:00000004 [INF] Request finished in 55.9392ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T16:29:46.7273513+02:00 0HLI32A0DTNEP:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/2 application/json  (ca22a1cb)
2018-11-05T16:29:46.7276402+02:00 0HLI32A0DTNEP:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T16:29:46.7286757+02:00 0HLI32A0DTNEP:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:29:46.7287949+02:00 0HLI32A0DTNEP:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:29:46.7289322+02:00 0HLI32A0DTNEP:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:29:46.7307436+02:00 0HLI32A0DTNEP:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["2"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:29:46.7312971+02:00 0HLI32A0DTNEP:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:29:46.7824528+02:00 0HLI32A0DTNEP:00000003 [INF] Executed DbCommand ("50"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:29:46.7825787+02:00 0HLI32A0DTNEP:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.NotFoundObjectResult" in 51.7439ms. (50a9e262)
2018-11-05T16:29:46.7826900+02:00 0HLI32A0DTNEP:00000003 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T16:29:46.7828448+02:00 0HLI32A0DTNEP:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 53.8411ms (afa2e885)
2018-11-05T16:29:46.7829616+02:00 0HLI32A0DTNEP:00000003 [INF] Request finished in 59.2333ms 404 application/json; charset=utf-8 (791a596a)
2018-11-05T16:30:06.1298581+02:00 0HLI32A0DTNEO:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T16:30:06.1301463+02:00 0HLI32A0DTNEO:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T16:30:06.1302765+02:00 0HLI32A0DTNEO:00000005 [INF] Request finished in 0.4638ms 204  (791a596a)
2018-11-05T16:30:06.2125113+02:00 0HLI32A0DTNEP:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T16:30:06.2127962+02:00 0HLI32A0DTNEP:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T16:30:06.2140961+02:00 0HLI32A0DTNEP:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T16:30:06.2142165+02:00 0HLI32A0DTNEP:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T16:30:06.2143590+02:00 0HLI32A0DTNEP:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T16:30:06.2148213+02:00 0HLI32A0DTNEP:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T16:30:06.2153494+02:00 0HLI32A0DTNEP:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T16:30:06.2187525+02:00 0HLI32A0DTNEP:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T16:30:06.2221520+02:00 0HLI32A0DTNEP:00000004 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T16:30:06.2223877+02:00 0HLI32A0DTNEP:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.4427ms. (50a9e262)
2018-11-05T16:30:06.2225660+02:00 0HLI32A0DTNEP:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T16:30:06.2228696+02:00 0HLI32A0DTNEP:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 8.4185ms (afa2e885)
2018-11-05T16:30:06.2231001+02:00 0HLI32A0DTNEP:00000004 [INF] Request finished in 10.6101ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T17:24:20.8019940+02:00 0HLI32A0DTNEQ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T17:24:20.8025154+02:00 0HLI32A0DTNEQ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:20.8027361+02:00 0HLI32A0DTNEQ:00000001 [INF] Request finished in 14.4908ms 204  (791a596a)
2018-11-05T17:24:20.8474726+02:00 0HLI32A0DTNER:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T17:24:20.8476230+02:00 0HLI32A0DTNER:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:20.8477995+02:00 0HLI32A0DTNER:00000001 [INF] Request finished in 0.3817ms 204  (791a596a)
2018-11-05T17:24:20.9341963+02:00 0HLI32A0DTNER:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T17:24:20.9340546+02:00 0HLI32A0DTNEQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T17:24:20.9348497+02:00 0HLI32A0DTNER:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:20.9349132+02:00 0HLI32A0DTNEQ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:20.9361270+02:00 0HLI32A0DTNER:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T17:24:20.9362514+02:00 0HLI32A0DTNER:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T17:24:20.9365084+02:00 0HLI32A0DTNER:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T17:24:20.9629942+02:00 0HLI32A0DTNEQ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T17:24:20.9631386+02:00 0HLI32A0DTNEQ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T17:24:20.9641495+02:00 0HLI32A0DTNEQ:00000002 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T17:24:21.0265953+02:00 0HLI32A0DTNER:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T17:24:21.0266490+02:00 0HLI32A0DTNEQ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T17:24:21.0273835+02:00 0HLI32A0DTNEQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T17:24:21.0279310+02:00 0HLI32A0DTNER:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T17:24:22.1461438+02:00 0HLI32A0DTNEQ:00000002 [INF] Executed DbCommand ("640"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T17:24:22.4823121+02:00 0HLI32A0DTNER:00000002 [INF] Executed DbCommand ("987"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T17:24:22.4825817+02:00 0HLI32A0DTNER:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 1455.7559ms. (50a9e262)
2018-11-05T17:24:22.4827080+02:00 0HLI32A0DTNER:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T17:24:22.4832010+02:00 0HLI32A0DTNER:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 1546.5868ms (afa2e885)
2018-11-05T17:24:22.4833388+02:00 0HLI32A0DTNER:00000002 [INF] Request finished in 1549.2746ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T17:24:22.7416112+02:00 0HLI32A0DTNEQ:00000002 [INF] Executed DbCommand ("594"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T17:24:22.7417920+02:00 0HLI32A0DTNEQ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1715.053ms. (50a9e262)
2018-11-05T17:24:22.7419349+02:00 0HLI32A0DTNEQ:00000002 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T17:24:22.7425835+02:00 0HLI32A0DTNEQ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 1778.1623ms (afa2e885)
2018-11-05T17:24:22.7426983+02:00 0HLI32A0DTNEQ:00000002 [INF] Request finished in 1808.7178ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T17:24:30.0821638+02:00 0HLI32A0DTNER:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T17:24:30.0823781+02:00 0HLI32A0DTNER:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:30.0825246+02:00 0HLI32A0DTNER:00000003 [INF] Request finished in 0.4105ms 204  (791a596a)
2018-11-05T17:24:30.1956559+02:00 0HLI32A0DTNEQ:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T17:24:30.1960143+02:00 0HLI32A0DTNEQ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T17:24:30.1975771+02:00 0HLI32A0DTNEQ:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T17:24:30.1977164+02:00 0HLI32A0DTNEQ:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T17:24:30.1980365+02:00 0HLI32A0DTNEQ:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T17:24:30.2438334+02:00 0HLI32A0DTNEQ:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T17:24:30.2443319+02:00 0HLI32A0DTNEQ:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T17:24:30.2477899+02:00 0HLI32A0DTNEQ:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T17:24:30.2916774+02:00 0HLI32A0DTNEQ:00000003 [INF] Executed DbCommand ("43"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T17:24:30.2918660+02:00 0HLI32A0DTNEQ:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 47.939ms. (50a9e262)
2018-11-05T17:24:30.2920381+02:00 0HLI32A0DTNEQ:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T17:24:30.2926216+02:00 0HLI32A0DTNEQ:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 94.4886ms (afa2e885)
2018-11-05T17:24:30.2927459+02:00 0HLI32A0DTNEQ:00000003 [INF] Request finished in 97.1842ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T17:48:34.1641197+02:00 0HLI32A0DTNES:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T17:48:34.1644031+02:00 0HLI32A0DTNES:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T17:48:34.1646119+02:00 0HLI32A0DTNES:00000001 [INF] Request finished in 0.6019ms 204  (791a596a)
2018-11-05T17:48:34.2692363+02:00 0HLI32A0DTNES:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T17:48:34.2701529+02:00 0HLI32A0DTNES:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T17:48:34.2716682+02:00 0HLI32A0DTNES:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T17:48:34.2718012+02:00 0HLI32A0DTNES:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T17:48:34.2863099+02:00 0HLI32A0DTNES:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T17:48:34.2870658+02:00 0HLI32A0DTNES:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T17:48:34.2879030+02:00 0HLI32A0DTNES:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T17:48:34.6746235+02:00 0HLI32A0DTNES:00000002 [INF] Executed DbCommand ("322"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T17:48:34.7111649+02:00 0HLI32A0DTNES:00000002 [INF] Executed DbCommand ("36"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T17:48:34.7114724+02:00 0HLI32A0DTNES:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 424.2956ms. (50a9e262)
2018-11-05T17:48:34.7116137+02:00 0HLI32A0DTNES:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T17:48:34.7119133+02:00 0HLI32A0DTNES:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 425.4979ms (afa2e885)
2018-11-05T17:48:34.7120471+02:00 0HLI32A0DTNES:00000002 [INF] Request finished in 442.8886ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:03:04.4975523+02:00 0HLI32A0DTNET:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:03:04.4977841+02:00 0HLI32A0DTNET:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T18:03:04.4979531+02:00 0HLI32A0DTNET:00000001 [INF] Request finished in 0.5234ms 204  (791a596a)
2018-11-05T18:03:04.6642059+02:00 0HLI32A0DTNET:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:03:04.6643650+02:00 0HLI32A0DTNET:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T18:03:04.6654944+02:00 0HLI32A0DTNET:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:03:04.6656002+02:00 0HLI32A0DTNET:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:03:04.6657628+02:00 0HLI32A0DTNET:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:03:04.6662578+02:00 0HLI32A0DTNET:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:03:04.6668010+02:00 0HLI32A0DTNET:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:03:05.1619395+02:00 0HLI32A0DTNET:00000002 [INF] Executed DbCommand ("463"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:03:05.4014844+02:00 0HLI32A0DTNET:00000002 [INF] Executed DbCommand ("104"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:03:05.4018981+02:00 0HLI32A0DTNET:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 735.4673ms. (50a9e262)
2018-11-05T18:03:05.4021590+02:00 0HLI32A0DTNET:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:03:05.4892668+02:00 0HLI32A0DTNET:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 823.3919ms (afa2e885)
2018-11-05T18:03:05.4894342+02:00 0HLI32A0DTNET:00000002 [INF] Request finished in 825.2815ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:04:46.6565871+02:00 0HLI32A0DTNEU:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:04:46.6685717+02:00 0HLI32A0DTNEU:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T18:04:46.6688942+02:00 0HLI32A0DTNEU:00000001 [INF] Request finished in 12.3604ms 204  (791a596a)
2018-11-05T18:04:46.8055666+02:00 0HLI32A0DTNEU:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:04:46.8062602+02:00 0HLI32A0DTNEU:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T18:04:46.8076063+02:00 0HLI32A0DTNEU:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:04:46.8077239+02:00 0HLI32A0DTNEU:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:04:46.8078810+02:00 0HLI32A0DTNEU:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:04:46.8255147+02:00 0HLI32A0DTNEU:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:04:46.8261558+02:00 0HLI32A0DTNEU:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:04:46.8290631+02:00 0HLI32A0DTNEU:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:04:46.8309689+02:00 0HLI32A0DTNEU:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:04:46.8311670+02:00 0HLI32A0DTNEU:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.516ms. (50a9e262)
2018-11-05T18:04:46.8312819+02:00 0HLI32A0DTNEU:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:04:46.8315515+02:00 0HLI32A0DTNEU:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 23.5974ms (afa2e885)
2018-11-05T18:04:46.8316747+02:00 0HLI32A0DTNEU:00000002 [INF] Request finished in 26.1613ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:08:51.8758676+02:00 0HLI32A0DTNEV:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:08:51.8763382+02:00 0HLI32A0DTNEV:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T18:08:51.9029278+02:00 0HLI32A0DTNEV:00000001 [INF] Request finished in 0.9019ms 204  (791a596a)
2018-11-05T18:08:51.9753051+02:00 0HLI32A0DTNEV:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:08:51.9755198+02:00 0HLI32A0DTNEV:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T18:08:51.9767278+02:00 0HLI32A0DTNEV:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:08:51.9768351+02:00 0HLI32A0DTNEV:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:08:51.9770917+02:00 0HLI32A0DTNEV:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:08:51.9776507+02:00 0HLI32A0DTNEV:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:08:51.9783241+02:00 0HLI32A0DTNEV:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:08:52.0034183+02:00 0HLI32A0DTNEV:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:08:52.0053818+02:00 0HLI32A0DTNEV:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:08:52.0056175+02:00 0HLI32A0DTNEV:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.8267ms. (50a9e262)
2018-11-05T18:08:52.0057406+02:00 0HLI32A0DTNEV:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:08:52.0060900+02:00 0HLI32A0DTNEV:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 28.9185ms (afa2e885)
2018-11-05T18:08:52.0062889+02:00 0HLI32A0DTNEV:00000002 [INF] Request finished in 30.9956ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:09:11.5085746+02:00 0HLI32A0DTNEV:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:09:11.5087400+02:00 0HLI32A0DTNEV:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T18:09:11.5089003+02:00 0HLI32A0DTNEV:00000003 [INF] Request finished in 0.3386ms 204  (791a596a)
2018-11-05T18:09:11.5855610+02:00 0HLI32A0DTNEV:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:09:11.5857264+02:00 0HLI32A0DTNEV:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T18:09:11.5866406+02:00 0HLI32A0DTNEV:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:09:11.5868080+02:00 0HLI32A0DTNEV:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:09:11.5870219+02:00 0HLI32A0DTNEV:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:09:11.6316420+02:00 0HLI32A0DTNEV:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:09:11.6322843+02:00 0HLI32A0DTNEV:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:09:11.6343661+02:00 0HLI32A0DTNEV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:09:11.6363386+02:00 0HLI32A0DTNEV:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:09:11.6366394+02:00 0HLI32A0DTNEV:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7743ms. (50a9e262)
2018-11-05T18:09:11.6367677+02:00 0HLI32A0DTNEV:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:09:11.6369418+02:00 0HLI32A0DTNEV:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 49.8495ms (afa2e885)
2018-11-05T18:09:11.6370701+02:00 0HLI32A0DTNEV:00000004 [INF] Request finished in 51.5899ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:15:43.6905212+02:00 0HLI32A0DTNF0:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:15:43.6907217+02:00 0HLI32A0DTNF0:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T18:15:43.6908492+02:00 0HLI32A0DTNF0:00000001 [INF] Request finished in 0.4776ms 204  (791a596a)
2018-11-05T18:15:43.7746835+02:00 0HLI32A0DTNF0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:15:43.7749559+02:00 0HLI32A0DTNF0:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T18:15:43.7762138+02:00 0HLI32A0DTNF0:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:15:43.7763851+02:00 0HLI32A0DTNF0:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:15:43.7765746+02:00 0HLI32A0DTNF0:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:15:43.7770724+02:00 0HLI32A0DTNF0:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:15:43.7910912+02:00 0HLI32A0DTNF0:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:15:43.8230946+02:00 0HLI32A0DTNF0:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:15:43.8260729+02:00 0HLI32A0DTNF0:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:15:43.8263010+02:00 0HLI32A0DTNF0:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 49.1055ms. (50a9e262)
2018-11-05T18:15:43.8264234+02:00 0HLI32A0DTNF0:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:15:43.8269749+02:00 0HLI32A0DTNF0:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 50.3284ms (afa2e885)
2018-11-05T18:15:43.8272788+02:00 0HLI32A0DTNF0:00000002 [INF] Request finished in 52.4611ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:16:29.7279783+02:00 0HLI32A0DTNF0:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:16:29.7281453+02:00 0HLI32A0DTNF0:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T18:16:29.7282689+02:00 0HLI32A0DTNF0:00000003 [INF] Request finished in 0.3631ms 204  (791a596a)
2018-11-05T18:16:29.8168972+02:00 0HLI32A0DTNF0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:16:29.8170705+02:00 0HLI32A0DTNF0:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T18:16:29.8241280+02:00 0HLI32A0DTNF0:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:16:29.8242938+02:00 0HLI32A0DTNF0:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:16:29.8244920+02:00 0HLI32A0DTNF0:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:16:29.8251047+02:00 0HLI32A0DTNF0:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:16:29.8258147+02:00 0HLI32A0DTNF0:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:16:29.8390188+02:00 0HLI32A0DTNF0:00000004 [INF] Executed DbCommand ("12"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:16:29.8916849+02:00 0HLI32A0DTNF0:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:16:29.8918999+02:00 0HLI32A0DTNF0:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 66.7072ms. (50a9e262)
2018-11-05T18:16:29.8920420+02:00 0HLI32A0DTNF0:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:16:29.9410071+02:00 0HLI32A0DTNF0:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 116.4053ms (afa2e885)
2018-11-05T18:16:29.9411500+02:00 0HLI32A0DTNF0:00000004 [INF] Request finished in 124.3198ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:17:11.3818947+02:00 0HLI32A0DTNF0:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:17:11.3829317+02:00 0HLI32A0DTNF0:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T18:17:11.3833679+02:00 0HLI32A0DTNF0:00000005 [INF] Request finished in 1.6117ms 204  (791a596a)
2018-11-05T18:17:11.6471615+02:00 0HLI32A0DTNF0:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:17:11.6479806+02:00 0HLI32A0DTNF0:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T18:17:11.6741483+02:00 0HLI32A0DTNF0:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:17:11.6742833+02:00 0HLI32A0DTNF0:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:17:11.6744419+02:00 0HLI32A0DTNF0:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:17:11.6748588+02:00 0HLI32A0DTNF0:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:17:11.6753846+02:00 0HLI32A0DTNF0:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:17:11.6778367+02:00 0HLI32A0DTNF0:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:17:11.6798917+02:00 0HLI32A0DTNF0:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:17:11.6801175+02:00 0HLI32A0DTNF0:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1209ms. (50a9e262)
2018-11-05T18:17:11.6802359+02:00 0HLI32A0DTNF0:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:17:11.6805363+02:00 0HLI32A0DTNF0:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0217ms (afa2e885)
2018-11-05T18:17:11.6806729+02:00 0HLI32A0DTNF0:00000006 [INF] Request finished in 33.7296ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:17:59.1760546+02:00 0HLI32A0DTNF0:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:17:59.1762283+02:00 0HLI32A0DTNF0:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T18:17:59.1764012+02:00 0HLI32A0DTNF0:00000007 [INF] Request finished in 0.3856ms 204  (791a596a)
2018-11-05T18:17:59.2518386+02:00 0HLI32A0DTNF0:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:17:59.2522692+02:00 0HLI32A0DTNF0:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T18:17:59.2537439+02:00 0HLI32A0DTNF0:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:17:59.2539358+02:00 0HLI32A0DTNF0:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:17:59.2541067+02:00 0HLI32A0DTNF0:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:17:59.2545334+02:00 0HLI32A0DTNF0:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:17:59.2550659+02:00 0HLI32A0DTNF0:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:17:59.2576101+02:00 0HLI32A0DTNF0:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:17:59.2731860+02:00 0HLI32A0DTNF0:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:17:59.2734220+02:00 0HLI32A0DTNF0:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.7903ms. (50a9e262)
2018-11-05T18:17:59.2735835+02:00 0HLI32A0DTNF0:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:17:59.2738081+02:00 0HLI32A0DTNF0:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.5762ms (afa2e885)
2018-11-05T18:17:59.2739277+02:00 0HLI32A0DTNF0:00000008 [INF] Request finished in 22.1641ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T18:18:36.2588021+02:00 0HLI32A0DTNF0:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T18:18:36.2810457+02:00 0HLI32A0DTNF0:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T18:18:36.2812249+02:00 0HLI32A0DTNF0:00000009 [INF] Request finished in 22.4776ms 204  (791a596a)
2018-11-05T18:18:36.3331733+02:00 0HLI32A0DTNF0:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T18:18:36.3333904+02:00 0HLI32A0DTNF0:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T18:18:36.3343607+02:00 0HLI32A0DTNF0:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T18:18:36.3344582+02:00 0HLI32A0DTNF0:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T18:18:36.3346232+02:00 0HLI32A0DTNF0:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T18:18:36.3350357+02:00 0HLI32A0DTNF0:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T18:18:36.3355686+02:00 0HLI32A0DTNF0:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T18:18:36.3381142+02:00 0HLI32A0DTNF0:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T18:18:36.3402423+02:00 0HLI32A0DTNF0:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T18:18:36.3404207+02:00 0HLI32A0DTNF0:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2981ms. (50a9e262)
2018-11-05T18:18:36.3405379+02:00 0HLI32A0DTNF0:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T18:18:36.3407653+02:00 0HLI32A0DTNF0:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.0122ms (afa2e885)
2018-11-05T18:18:36.3408893+02:00 0HLI32A0DTNF0:0000000A [INF] Request finished in 7.7728ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:45:13.0528087+02:00 0HLI32A0DTNF1:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:45:13.0532034+02:00 0HLI32A0DTNF1:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T20:45:13.0895734+02:00 0HLI32A0DTNF1:00000001 [INF] Request finished in 36.897ms 204  (791a596a)
2018-11-05T20:45:13.1364064+02:00 0HLI32A0DTNF1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:45:13.1368366+02:00 0HLI32A0DTNF1:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T20:45:13.1411658+02:00 0HLI32A0DTNF1:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:45:13.1418218+02:00 0HLI32A0DTNF1:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:45:13.1425339+02:00 0HLI32A0DTNF1:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:45:13.1439984+02:00 0HLI32A0DTNF1:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:45:13.1452214+02:00 0HLI32A0DTNF1:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:45:14.2518569+02:00 0HLI32A0DTNF1:00000002 [INF] Executed DbCommand ("948"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:45:14.3210869+02:00 0HLI32A0DTNF1:00000002 [INF] Executed DbCommand ("68"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:45:14.3218567+02:00 0HLI32A0DTNF1:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 1177.4323ms. (50a9e262)
2018-11-05T20:45:14.3222139+02:00 0HLI32A0DTNF1:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:45:14.3329761+02:00 0HLI32A0DTNF1:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 1190.2222ms (afa2e885)
2018-11-05T20:45:14.3333412+02:00 0HLI32A0DTNF1:00000002 [INF] Request finished in 1197.0453ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:50:31.1395817+02:00 0HLI32A0DTNF2:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:50:31.1400948+02:00 0HLI32A0DTNF2:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T20:50:31.1405488+02:00 0HLI32A0DTNF2:00000001 [INF] Request finished in 1.1332ms 204  (791a596a)
2018-11-05T20:50:31.2718247+02:00 0HLI32A0DTNF2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:50:31.2720327+02:00 0HLI32A0DTNF2:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T20:50:31.2739669+02:00 0HLI32A0DTNF2:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:50:31.2741189+02:00 0HLI32A0DTNF2:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:50:31.2743562+02:00 0HLI32A0DTNF2:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:50:31.2752400+02:00 0HLI32A0DTNF2:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:50:31.2760224+02:00 0HLI32A0DTNF2:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:50:31.4746163+02:00 0HLI32A0DTNF2:00000002 [INF] Executed DbCommand ("7"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:50:31.4780966+02:00 0HLI32A0DTNF2:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:50:31.4783122+02:00 0HLI32A0DTNF2:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 202.9608ms. (50a9e262)
2018-11-05T20:50:31.4784523+02:00 0HLI32A0DTNF2:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:50:31.6375892+02:00 0HLI32A0DTNF2:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 363.0807ms (afa2e885)
2018-11-05T20:50:31.6378537+02:00 0HLI32A0DTNF2:00000002 [INF] Request finished in 366.1391ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:50:56.6165441+02:00 0HLI32A0DTNF2:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:50:56.6167944+02:00 0HLI32A0DTNF2:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T20:50:56.6169598+02:00 0HLI32A0DTNF2:00000003 [INF] Request finished in 0.474ms 204  (791a596a)
2018-11-05T20:50:56.6984627+02:00 0HLI32A0DTNF2:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:50:56.6989728+02:00 0HLI32A0DTNF2:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T20:50:56.7149998+02:00 0HLI32A0DTNF2:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:50:56.7152106+02:00 0HLI32A0DTNF2:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:50:56.7155327+02:00 0HLI32A0DTNF2:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:50:56.7160487+02:00 0HLI32A0DTNF2:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:50:56.7166519+02:00 0HLI32A0DTNF2:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:50:56.7197494+02:00 0HLI32A0DTNF2:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:50:56.7223855+02:00 0HLI32A0DTNF2:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:50:56.7226432+02:00 0HLI32A0DTNF2:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.5017ms. (50a9e262)
2018-11-05T20:50:56.7228197+02:00 0HLI32A0DTNF2:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:50:56.7234039+02:00 0HLI32A0DTNF2:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.7763ms (afa2e885)
2018-11-05T20:50:56.7235334+02:00 0HLI32A0DTNF2:00000004 [INF] Request finished in 29.5386ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:51:25.3728191+02:00 0HLI32A0DTNF2:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:51:25.3732714+02:00 0HLI32A0DTNF2:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T20:51:25.3735588+02:00 0HLI32A0DTNF2:00000005 [INF] Request finished in 0.8107ms 204  (791a596a)
2018-11-05T20:51:25.4283236+02:00 0HLI32A0DTNF2:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:51:25.4288565+02:00 0HLI32A0DTNF2:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T20:51:25.4301710+02:00 0HLI32A0DTNF2:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:51:25.4304576+02:00 0HLI32A0DTNF2:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:51:25.4306506+02:00 0HLI32A0DTNF2:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:51:25.4435522+02:00 0HLI32A0DTNF2:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:51:25.4441242+02:00 0HLI32A0DTNF2:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:51:25.4466758+02:00 0HLI32A0DTNF2:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:51:25.4494816+02:00 0HLI32A0DTNF2:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:51:25.4498527+02:00 0HLI32A0DTNF2:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1871ms. (50a9e262)
2018-11-05T20:51:25.4499905+02:00 0HLI32A0DTNF2:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:51:25.4502841+02:00 0HLI32A0DTNF2:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.5498ms (afa2e885)
2018-11-05T20:51:25.4504081+02:00 0HLI32A0DTNF2:00000006 [INF] Request finished in 22.1606ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:52:24.0661685+02:00 0HLI32A0DTNF2:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:52:24.0665120+02:00 0HLI32A0DTNF2:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T20:52:24.0668514+02:00 0HLI32A0DTNF2:00000007 [INF] Request finished in 0.6655ms 204  (791a596a)
2018-11-05T20:52:24.2312843+02:00 0HLI32A0DTNF2:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:52:24.2317402+02:00 0HLI32A0DTNF2:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T20:52:24.2333709+02:00 0HLI32A0DTNF2:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:52:24.2334881+02:00 0HLI32A0DTNF2:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:52:24.2674107+02:00 0HLI32A0DTNF2:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:52:24.2684916+02:00 0HLI32A0DTNF2:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:52:24.2699512+02:00 0HLI32A0DTNF2:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:52:24.2734123+02:00 0HLI32A0DTNF2:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:52:24.2757646+02:00 0HLI32A0DTNF2:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:52:24.2759556+02:00 0HLI32A0DTNF2:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.3591ms. (50a9e262)
2018-11-05T20:52:24.2760820+02:00 0HLI32A0DTNF2:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:52:24.2767230+02:00 0HLI32A0DTNF2:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 9.1863ms (afa2e885)
2018-11-05T20:52:24.2768920+02:00 0HLI32A0DTNF2:00000008 [INF] Request finished in 45.6846ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T20:53:15.1198740+02:00 0HLI32A0DTNF2:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T20:53:15.1200489+02:00 0HLI32A0DTNF2:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T20:53:15.1202032+02:00 0HLI32A0DTNF2:00000009 [INF] Request finished in 0.3848ms 204  (791a596a)
2018-11-05T20:53:15.3317954+02:00 0HLI32A0DTNF2:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T20:53:15.3321061+02:00 0HLI32A0DTNF2:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T20:53:15.3337885+02:00 0HLI32A0DTNF2:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T20:53:15.3338804+02:00 0HLI32A0DTNF2:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T20:53:15.3340111+02:00 0HLI32A0DTNF2:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T20:53:15.3345558+02:00 0HLI32A0DTNF2:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T20:53:15.3499521+02:00 0HLI32A0DTNF2:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T20:53:15.3522215+02:00 0HLI32A0DTNF2:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T20:53:15.3541436+02:00 0HLI32A0DTNF2:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T20:53:15.3543279+02:00 0HLI32A0DTNF2:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 19.6958ms. (50a9e262)
2018-11-05T20:53:15.3544479+02:00 0HLI32A0DTNF2:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T20:53:15.3547388+02:00 0HLI32A0DTNF2:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 20.6594ms (afa2e885)
2018-11-05T20:53:15.3548576+02:00 0HLI32A0DTNF2:0000000A [INF] Request finished in 24.4019ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:11:07.5305420+02:00 0HLI32A0DTNF3:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:11:07.5318265+02:00 0HLI32A0DTNF3:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:07.5327213+02:00 0HLI32A0DTNF3:00000001 [INF] Request finished in 15.7323ms 204  (791a596a)
2018-11-05T22:11:07.5528645+02:00 0HLI32A0DTNF3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:11:07.5530010+02:00 0HLI32A0DTNF3:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:07.5579068+02:00 0HLI32A0DTNF3:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:11:07.5581441+02:00 0HLI32A0DTNF3:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:11:07.5594973+02:00 0HLI32A0DTNF3:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:11:07.5636555+02:00 0HLI32A0DTNF3:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:11:07.5679372+02:00 0HLI32A0DTNF3:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:11:07.8747293+02:00 0HLI32A0DTNF3:00000002 [INF] Executed DbCommand ("271"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:11:07.9177496+02:00 0HLI32A0DTNF3:00000002 [INF] Executed DbCommand ("40"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:11:07.9182465+02:00 0HLI32A0DTNF3:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 354.1975ms. (50a9e262)
2018-11-05T22:11:07.9185892+02:00 0HLI32A0DTNF3:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:11:07.9193530+02:00 0HLI32A0DTNF3:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 359.7297ms (afa2e885)
2018-11-05T22:11:07.9195748+02:00 0HLI32A0DTNF3:00000002 [INF] Request finished in 366.91ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:11:10.7773725+02:00 0HLI32A0DTNF3:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T22:11:10.7777179+02:00 0HLI32A0DTNF3:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:10.7778825+02:00 0HLI32A0DTNF3:00000003 [INF] Request finished in 0.5743ms 204  (791a596a)
2018-11-05T22:11:10.7782027+02:00 0HLI32A0DTNF4:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors?page=1&pagecount=4   (ca22a1cb)
2018-11-05T22:11:10.7783242+02:00 0HLI32A0DTNF4:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:10.7791588+02:00 0HLI32A0DTNF4:00000001 [INF] Request finished in 0.913ms 204  (791a596a)
2018-11-05T22:11:10.9494771+02:00 0HLI32A0DTNF4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/specializations   (ca22a1cb)
2018-11-05T22:11:10.9498711+02:00 0HLI32A0DTNF4:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:10.9503996+02:00 0HLI32A0DTNF3:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors?page=1&pagecount=4 application/json  (ca22a1cb)
2018-11-05T22:11:10.9505595+02:00 0HLI32A0DTNF3:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:10.9514227+02:00 0HLI32A0DTNF3:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:11:10.9515174+02:00 0HLI32A0DTNF3:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:11:10.9516718+02:00 0HLI32A0DTNF3:00000004 [INF] Route matched with "{action = \"GetDoctors\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:11:11.0403077+02:00 0HLI32A0DTNF4:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:11:11.0404230+02:00 0HLI32A0DTNF4:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:11:11.0406104+02:00 0HLI32A0DTNF4:00000002 [INF] Route matched with "{action = \"GetSpecializations\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:11:11.0720853+02:00 0HLI32A0DTNF4:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" - Validation state: Valid (dad538d7)
2018-11-05T22:11:11.1408105+02:00 0HLI32A0DTNF4:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:11:11.1582134+02:00 0HLI32A0DTNF3:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" with arguments (["InternetHospital.BusinessLogic.Models.DoctorSearchParameters"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:11:11.1938240+02:00 0HLI32A0DTNF3:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:11:11.5938680+02:00 0HLI32A0DTNF3:00000004 [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)::INT4
FROM \"Doctors\" AS d" (0723d8ff)
2018-11-05T22:11:11.6286113+02:00 0HLI32A0DTNF4:00000002 [INF] Executed DbCommand ("285"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT s.\"Id\", s.\"Name\" AS \"Specialization\"
FROM \"Specializations\" AS s
WHERE (
    SELECT COUNT(*)::INT4
    FROM \"Doctors\" AS d
    WHERE s.\"Id\" = d.\"SpecializationId\"
) > 0
ORDER BY s.\"Id\"" (0723d8ff)
2018-11-05T22:11:11.6288663+02:00 0HLI32A0DTNF4:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.ObjectResult" in 556.6633ms. (50a9e262)
2018-11-05T22:11:11.6289831+02:00 0HLI32A0DTNF4:00000002 [INF] Executing ObjectResult, writing value of type '"System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.SpecializationModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (8a1b66c8)
2018-11-05T22:11:11.6646360+02:00 0HLI32A0DTNF4:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetSpecializations (InternetHospital.WebApi)" in 588.651ms (afa2e885)
2018-11-05T22:11:11.6647998+02:00 0HLI32A0DTNF4:00000002 [INF] Request finished in 715.4458ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:11:11.6831894+02:00 0HLI32A0DTNF3:00000004 [INF] Executed DbCommand ("63"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"UserId\" AS \"Id\", \"x.User\".\"FirstName\", \"x.User\".\"SecondName\", \"x.User\".\"ThirdName\", \"x.User\".\"AvatarURL\", \"x.Specialization\".\"Name\" AS \"Specialization\"
FROM (
    SELECT d.*
    FROM \"Doctors\" AS d
    LIMIT @__p_1 OFFSET @__p_0
) AS t
LEFT JOIN \"Specializations\" AS \"x.Specialization\" ON t.\"SpecializationId\" = \"x.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"x.User\" ON t.\"UserId\" = \"x.User\".\"Id\"
ORDER BY \"x.User\".\"SecondName\"" (0723d8ff)
2018-11-05T22:11:11.6834907+02:00 0HLI32A0DTNF3:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 525.1383ms. (50a9e262)
2018-11-05T22:11:11.6836383+02:00 0HLI32A0DTNF3:00000004 [INF] Executing ObjectResult, writing value of type '"<>f__AnonymousType1`2[[System.Collections.Generic.List`1[[InternetHospital.BusinessLogic.Models.DoctorModel, InternetHospital.BusinessLogic, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Int32, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (8a1b66c8)
2018-11-05T22:11:11.6842565+02:00 0HLI32A0DTNF3:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.GetDoctors (InternetHospital.WebApi)" in 732.4942ms (afa2e885)
2018-11-05T22:11:11.6843777+02:00 0HLI32A0DTNF3:00000004 [INF] Request finished in 735.1109ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:11:12.7047063+02:00 0HLI32A0DTNF5:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:11:12.7049297+02:00 0HLI32A0DTNF5:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:12.7051737+02:00 0HLI32A0DTNF5:00000001 [INF] Request finished in 0.42ms 204  (791a596a)
2018-11-05T22:11:57.3484383+02:00 0HLI32A0DTNF5:00000002 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:11:57.3486780+02:00 0HLI32A0DTNF5:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:57.3488201+02:00 0HLI32A0DTNF5:00000002 [INF] Request finished in 0.4571ms 204  (791a596a)
2018-11-05T22:11:57.4503000+02:00 0HLI32A0DTNF5:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:11:57.4505486+02:00 0HLI32A0DTNF5:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:11:57.4523032+02:00 0HLI32A0DTNF5:00000003 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:11:57.4524493+02:00 0HLI32A0DTNF5:00000003 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:11:57.4526494+02:00 0HLI32A0DTNF5:00000003 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:11:57.4531140+02:00 0HLI32A0DTNF5:00000003 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:11:57.4638714+02:00 0HLI32A0DTNF5:00000003 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:11:57.4660121+02:00 0HLI32A0DTNF5:00000003 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:11:57.5122230+02:00 0HLI32A0DTNF5:00000003 [INF] Executed DbCommand ("11"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:11:57.5124413+02:00 0HLI32A0DTNF5:00000003 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 59.2112ms. (50a9e262)
2018-11-05T22:11:57.5125589+02:00 0HLI32A0DTNF5:00000003 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:11:57.5128593+02:00 0HLI32A0DTNF5:00000003 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 60.138ms (afa2e885)
2018-11-05T22:11:57.5269159+02:00 0HLI32A0DTNF5:00000003 [INF] Request finished in 76.768ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:12:11.6753093+02:00 0HLI32A0DTNF5:00000004 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:12:11.6757360+02:00 0HLI32A0DTNF5:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:12:11.6760104+02:00 0HLI32A0DTNF5:00000004 [INF] Request finished in 0.7519ms 204  (791a596a)
2018-11-05T22:12:11.7899663+02:00 0HLI32A0DTNF5:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:12:11.7904586+02:00 0HLI32A0DTNF5:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T22:12:11.7913187+02:00 0HLI32A0DTNF5:00000005 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:12:11.7914841+02:00 0HLI32A0DTNF5:00000005 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:12:11.8091553+02:00 0HLI32A0DTNF5:00000005 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:12:11.8181909+02:00 0HLI32A0DTNF5:00000005 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:12:11.8189686+02:00 0HLI32A0DTNF5:00000005 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:12:11.8221530+02:00 0HLI32A0DTNF5:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:12:11.8250708+02:00 0HLI32A0DTNF5:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:12:11.8252753+02:00 0HLI32A0DTNF5:00000005 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.9568ms. (50a9e262)
2018-11-05T22:12:11.8254652+02:00 0HLI32A0DTNF5:00000005 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:12:11.8257146+02:00 0HLI32A0DTNF5:00000005 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 16.4558ms (afa2e885)
2018-11-05T22:12:11.8258651+02:00 0HLI32A0DTNF5:00000005 [INF] Request finished in 36.115ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:12:58.8490291+02:00 0HLI32A0DTNF5:00000006 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:12:58.8492174+02:00 0HLI32A0DTNF5:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T22:12:58.8493410+02:00 0HLI32A0DTNF5:00000006 [INF] Request finished in 0.3817ms 204  (791a596a)
2018-11-05T22:12:58.9468367+02:00 0HLI32A0DTNF5:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:12:58.9778280+02:00 0HLI32A0DTNF5:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T22:12:58.9788575+02:00 0HLI32A0DTNF5:00000007 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:12:58.9790285+02:00 0HLI32A0DTNF5:00000007 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:12:58.9793549+02:00 0HLI32A0DTNF5:00000007 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:12:58.9798527+02:00 0HLI32A0DTNF5:00000007 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:12:58.9804143+02:00 0HLI32A0DTNF5:00000007 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:12:58.9962244+02:00 0HLI32A0DTNF5:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:12:58.9985135+02:00 0HLI32A0DTNF5:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:12:58.9986840+02:00 0HLI32A0DTNF5:00000007 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.7315ms. (50a9e262)
2018-11-05T22:12:58.9988056+02:00 0HLI32A0DTNF5:00000007 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:12:58.9990168+02:00 0HLI32A0DTNF5:00000007 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.5699ms (afa2e885)
2018-11-05T22:12:58.9991365+02:00 0HLI32A0DTNF5:00000007 [INF] Request finished in 52.3715ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:13:57.2915447+02:00 0HLI32A0DTNF5:00000008 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:13:57.2917369+02:00 0HLI32A0DTNF5:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T22:13:57.2918696+02:00 0HLI32A0DTNF5:00000008 [INF] Request finished in 0.4164ms 204  (791a596a)
2018-11-05T22:13:57.3659292+02:00 0HLI32A0DTNF5:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:13:57.3662663+02:00 0HLI32A0DTNF5:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T22:13:57.3674845+02:00 0HLI32A0DTNF5:00000009 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:13:57.3676381+02:00 0HLI32A0DTNF5:00000009 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:13:57.3678362+02:00 0HLI32A0DTNF5:00000009 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:13:57.3683277+02:00 0HLI32A0DTNF5:00000009 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:13:57.3691199+02:00 0HLI32A0DTNF5:00000009 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:13:57.3715598+02:00 0HLI32A0DTNF5:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:13:57.3738035+02:00 0HLI32A0DTNF5:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:13:57.3739847+02:00 0HLI32A0DTNF5:00000009 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.5725ms. (50a9e262)
2018-11-05T22:13:57.3741209+02:00 0HLI32A0DTNF5:00000009 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:13:57.3744438+02:00 0HLI32A0DTNF5:00000009 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.5202ms (afa2e885)
2018-11-05T22:13:57.3745748+02:00 0HLI32A0DTNF5:00000009 [INF] Request finished in 8.7403ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:16:00.2153783+02:00 0HLI32A0DTNF6:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:16:00.2155887+02:00 0HLI32A0DTNF6:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:16:00.2157876+02:00 0HLI32A0DTNF6:00000001 [INF] Request finished in 0.4642ms 204  (791a596a)
2018-11-05T22:16:00.2543354+02:00 0HLI32A0DTNF6:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:16:00.2875772+02:00 0HLI32A0DTNF6:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:16:00.2894766+02:00 0HLI32A0DTNF6:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:16:00.2896717+02:00 0HLI32A0DTNF6:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:16:00.2899085+02:00 0HLI32A0DTNF6:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:16:00.3107365+02:00 0HLI32A0DTNF6:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:16:00.3113484+02:00 0HLI32A0DTNF6:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:16:00.3137716+02:00 0HLI32A0DTNF6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:16:00.3159439+02:00 0HLI32A0DTNF6:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:16:00.3161255+02:00 0HLI32A0DTNF6:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.2776ms. (50a9e262)
2018-11-05T22:16:00.3162455+02:00 0HLI32A0DTNF6:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:16:00.3167061+02:00 0HLI32A0DTNF6:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 26.7174ms (afa2e885)
2018-11-05T22:16:00.3169334+02:00 0HLI32A0DTNF6:00000002 [INF] Request finished in 62.7405ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:16:49.9695322+02:00 0HLI32A0DTNF6:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:16:49.9697635+02:00 0HLI32A0DTNF6:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:16:49.9700722+02:00 0HLI32A0DTNF6:00000003 [INF] Request finished in 0.609ms 204  (791a596a)
2018-11-05T22:16:50.0071208+02:00 0HLI32A0DTNF6:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:16:50.0075838+02:00 0HLI32A0DTNF6:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:16:50.0101414+02:00 0HLI32A0DTNF6:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:16:50.0102847+02:00 0HLI32A0DTNF6:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:16:50.0104461+02:00 0HLI32A0DTNF6:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:16:50.0110350+02:00 0HLI32A0DTNF6:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:16:50.0282673+02:00 0HLI32A0DTNF6:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:16:50.0313431+02:00 0HLI32A0DTNF6:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:16:50.0334459+02:00 0HLI32A0DTNF6:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:16:50.0336319+02:00 0HLI32A0DTNF6:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.3832ms. (50a9e262)
2018-11-05T22:16:50.0337317+02:00 0HLI32A0DTNF6:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:16:50.0344146+02:00 0HLI32A0DTNF6:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 23.7731ms (afa2e885)
2018-11-05T22:16:50.0345824+02:00 0HLI32A0DTNF6:00000004 [INF] Request finished in 27.4978ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:17:42.6540099+02:00 0HLI32A0DTNF6:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:17:42.6544232+02:00 0HLI32A0DTNF6:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T22:17:42.6546980+02:00 0HLI32A0DTNF6:00000005 [INF] Request finished in 0.795ms 204  (791a596a)
2018-11-05T22:17:42.8644744+02:00 0HLI32A0DTNF6:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:17:42.8648175+02:00 0HLI32A0DTNF6:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T22:17:42.8659413+02:00 0HLI32A0DTNF6:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:17:42.8660605+02:00 0HLI32A0DTNF6:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:17:42.8661991+02:00 0HLI32A0DTNF6:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:17:42.8669861+02:00 0HLI32A0DTNF6:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:17:42.8679876+02:00 0HLI32A0DTNF6:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:17:42.8706758+02:00 0HLI32A0DTNF6:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:17:42.8728598+02:00 0HLI32A0DTNF6:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:17:42.8731247+02:00 0HLI32A0DTNF6:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9495ms. (50a9e262)
2018-11-05T22:17:42.8732601+02:00 0HLI32A0DTNF6:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:17:42.8734946+02:00 0HLI32A0DTNF6:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.2154ms (afa2e885)
2018-11-05T22:17:42.8736722+02:00 0HLI32A0DTNF6:00000006 [INF] Request finished in 9.2041ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:18:27.2892978+02:00 0HLI32A0DTNF6:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:18:27.2895055+02:00 0HLI32A0DTNF6:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T22:18:27.2897281+02:00 0HLI32A0DTNF6:00000007 [INF] Request finished in 0.4807ms 204  (791a596a)
2018-11-05T22:18:27.3257843+02:00 0HLI32A0DTNF6:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:18:27.3262205+02:00 0HLI32A0DTNF6:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T22:18:27.3271059+02:00 0HLI32A0DTNF6:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:18:27.3272101+02:00 0HLI32A0DTNF6:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:18:27.3443410+02:00 0HLI32A0DTNF6:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:18:27.3450081+02:00 0HLI32A0DTNF6:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:18:27.3462172+02:00 0HLI32A0DTNF6:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:18:27.3486910+02:00 0HLI32A0DTNF6:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:18:27.3512418+02:00 0HLI32A0DTNF6:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:18:27.3514320+02:00 0HLI32A0DTNF6:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.3225ms. (50a9e262)
2018-11-05T22:18:27.3515639+02:00 0HLI32A0DTNF6:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:18:27.3517470+02:00 0HLI32A0DTNF6:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.2406ms (afa2e885)
2018-11-05T22:18:27.3518809+02:00 0HLI32A0DTNF6:00000008 [INF] Request finished in 26.1719ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:28:53.0019762+02:00 0HLI32A0DTNF7:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:28:53.0022079+02:00 0HLI32A0DTNF7:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:28:53.0023200+02:00 0HLI32A0DTNF7:00000001 [INF] Request finished in 0.4875ms 204  (791a596a)
2018-11-05T22:28:53.0575767+02:00 0HLI32A0DTNF7:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:28:53.0583717+02:00 0HLI32A0DTNF7:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:28:53.0599155+02:00 0HLI32A0DTNF7:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:28:53.0603754+02:00 0HLI32A0DTNF7:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:28:53.0611790+02:00 0HLI32A0DTNF7:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:28:53.0618394+02:00 0HLI32A0DTNF7:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:28:53.0641424+02:00 0HLI32A0DTNF7:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:28:53.1113480+02:00 0HLI32A0DTNF7:00000002 [INF] Executed DbCommand ("10"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:28:53.1885577+02:00 0HLI32A0DTNF7:00000002 [INF] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:28:53.1888766+02:00 0HLI32A0DTNF7:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 126.8256ms. (50a9e262)
2018-11-05T22:28:53.1890022+02:00 0HLI32A0DTNF7:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:28:53.1893760+02:00 0HLI32A0DTNF7:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 128.0986ms (afa2e885)
2018-11-05T22:28:53.1895303+02:00 0HLI32A0DTNF7:00000002 [INF] Request finished in 132.6038ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:29:20.2650087+02:00 0HLI32A0DTNF7:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:29:20.2651840+02:00 0HLI32A0DTNF7:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:29:20.2653103+02:00 0HLI32A0DTNF7:00000003 [INF] Request finished in 0.3556ms 204  (791a596a)
2018-11-05T22:29:20.3027608+02:00 0HLI32A0DTNF7:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:29:20.3029171+02:00 0HLI32A0DTNF7:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:29:20.3048829+02:00 0HLI32A0DTNF7:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:29:20.3050439+02:00 0HLI32A0DTNF7:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:29:20.3052137+02:00 0HLI32A0DTNF7:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:29:20.3773345+02:00 0HLI32A0DTNF7:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:29:20.3779498+02:00 0HLI32A0DTNF7:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:29:20.3806428+02:00 0HLI32A0DTNF7:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:29:20.3826357+02:00 0HLI32A0DTNF7:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:29:20.3829010+02:00 0HLI32A0DTNF7:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3798ms. (50a9e262)
2018-11-05T22:29:20.3830182+02:00 0HLI32A0DTNF7:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:29:20.3831809+02:00 0HLI32A0DTNF7:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 77.9091ms (afa2e885)
2018-11-05T22:29:20.3832831+02:00 0HLI32A0DTNF7:00000004 [INF] Request finished in 80.5788ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:34:28.5382216+02:00 0HLI32A0DTNF8:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:34:28.5386065+02:00 0HLI32A0DTNF8:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:34:28.5389034+02:00 0HLI32A0DTNF8:00000001 [INF] Request finished in 0.99ms 204  (791a596a)
2018-11-05T22:34:28.5915959+02:00 0HLI32A0DTNF8:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:34:28.5919046+02:00 0HLI32A0DTNF8:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:34:28.6261126+02:00 0HLI32A0DTNF8:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:34:28.6262366+02:00 0HLI32A0DTNF8:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:34:28.6264316+02:00 0HLI32A0DTNF8:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:34:28.6598758+02:00 0HLI32A0DTNF8:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:34:28.6604257+02:00 0HLI32A0DTNF8:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:34:28.8883683+02:00 0HLI32A0DTNF8:00000002 [INF] Executed DbCommand ("4"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:34:28.8917062+02:00 0HLI32A0DTNF8:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:34:28.9576806+02:00 0HLI32A0DTNF8:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 297.6788ms. (50a9e262)
2018-11-05T22:34:29.1011148+02:00 0HLI32A0DTNF8:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:34:29.3094756+02:00 0HLI32A0DTNF8:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 682.9031ms (afa2e885)
2018-11-05T22:34:29.3097417+02:00 0HLI32A0DTNF8:00000002 [INF] Request finished in 718.1659ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:35:21.8875801+02:00 0HLI32A0DTNF8:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:35:21.8877514+02:00 0HLI32A0DTNF8:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:35:21.8878702+02:00 0HLI32A0DTNF8:00000003 [INF] Request finished in 0.3682ms 204  (791a596a)
2018-11-05T22:35:22.0157063+02:00 0HLI32A0DTNF8:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:35:22.0161646+02:00 0HLI32A0DTNF8:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:35:22.0175249+02:00 0HLI32A0DTNF8:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:35:22.0176406+02:00 0HLI32A0DTNF8:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:35:22.0178008+02:00 0HLI32A0DTNF8:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:35:22.0182102+02:00 0HLI32A0DTNF8:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:35:22.0187340+02:00 0HLI32A0DTNF8:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:35:22.0213673+02:00 0HLI32A0DTNF8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:35:22.0235960+02:00 0HLI32A0DTNF8:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:35:22.0238119+02:00 0HLI32A0DTNF8:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4837ms. (50a9e262)
2018-11-05T22:35:22.0239564+02:00 0HLI32A0DTNF8:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:35:22.0242249+02:00 0HLI32A0DTNF8:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3418ms (afa2e885)
2018-11-05T22:35:22.0243607+02:00 0HLI32A0DTNF8:00000004 [INF] Request finished in 8.7509ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:36:40.9427736+02:00 0HLI32A0DTNF9:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:36:40.9429923+02:00 0HLI32A0DTNF9:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:36:40.9431198+02:00 0HLI32A0DTNF9:00000001 [INF] Request finished in 0.4772ms 204  (791a596a)
2018-11-05T22:36:41.1961292+02:00 0HLI32A0DTNF9:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:36:41.1963364+02:00 0HLI32A0DTNF9:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:36:41.1974994+02:00 0HLI32A0DTNF9:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:36:41.1976245+02:00 0HLI32A0DTNF9:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:36:41.1977946+02:00 0HLI32A0DTNF9:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:36:41.1983990+02:00 0HLI32A0DTNF9:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:36:41.1989556+02:00 0HLI32A0DTNF9:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:36:41.2013982+02:00 0HLI32A0DTNF9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:36:41.2035721+02:00 0HLI32A0DTNF9:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:36:41.2037331+02:00 0HLI32A0DTNF9:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.218ms. (50a9e262)
2018-11-05T22:36:41.2038393+02:00 0HLI32A0DTNF9:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:36:41.2040082+02:00 0HLI32A0DTNF9:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1433ms (afa2e885)
2018-11-05T22:36:41.2041199+02:00 0HLI32A0DTNF9:00000002 [INF] Request finished in 8.0495ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:37:33.9495466+02:00 0HLI32A0DTNF9:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:37:33.9497431+02:00 0HLI32A0DTNF9:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:37:33.9498659+02:00 0HLI32A0DTNF9:00000003 [INF] Request finished in 0.4081ms 204  (791a596a)
2018-11-05T22:37:34.0618356+02:00 0HLI32A0DTNF9:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:37:34.0620365+02:00 0HLI32A0DTNF9:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:37:34.0637235+02:00 0HLI32A0DTNF9:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:37:34.0638724+02:00 0HLI32A0DTNF9:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:37:34.0640263+02:00 0HLI32A0DTNF9:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:37:34.0645517+02:00 0HLI32A0DTNF9:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:37:34.0651281+02:00 0HLI32A0DTNF9:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:37:34.0681478+02:00 0HLI32A0DTNF9:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:37:34.0703133+02:00 0HLI32A0DTNF9:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:37:34.0707120+02:00 0HLI32A0DTNF9:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.9937ms. (50a9e262)
2018-11-05T22:37:34.0708336+02:00 0HLI32A0DTNF9:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:37:34.0710554+02:00 0HLI32A0DTNF9:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.9584ms (afa2e885)
2018-11-05T22:37:34.0711569+02:00 0HLI32A0DTNF9:00000004 [INF] Request finished in 10.4432ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:39:06.0278797+02:00 0HLI32A0DTNFA:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:39:06.0280656+02:00 0HLI32A0DTNFA:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:39:06.0281939+02:00 0HLI32A0DTNFA:00000001 [INF] Request finished in 0.3982ms 204  (791a596a)
2018-11-05T22:39:06.1203749+02:00 0HLI32A0DTNFA:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:39:06.1205289+02:00 0HLI32A0DTNFA:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:39:06.1216147+02:00 0HLI32A0DTNFA:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:39:06.1217817+02:00 0HLI32A0DTNFA:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:39:06.1219570+02:00 0HLI32A0DTNFA:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:39:06.1225203+02:00 0HLI32A0DTNFA:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:39:06.1230492+02:00 0HLI32A0DTNFA:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:39:06.1256293+02:00 0HLI32A0DTNFA:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:39:06.1408342+02:00 0HLI32A0DTNFA:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:39:06.1410131+02:00 0HLI32A0DTNFA:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 18.4046ms. (50a9e262)
2018-11-05T22:39:06.1411362+02:00 0HLI32A0DTNFA:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:39:06.1415716+02:00 0HLI32A0DTNFA:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 19.5395ms (afa2e885)
2018-11-05T22:39:06.1417386+02:00 0HLI32A0DTNFA:00000002 [INF] Request finished in 30.8808ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:41:25.2344505+02:00 0HLI32A0DTNFB:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:41:25.2346734+02:00 0HLI32A0DTNFB:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:41:25.2348621+02:00 0HLI32A0DTNFB:00000001 [INF] Request finished in 0.5778ms 204  (791a596a)
2018-11-05T22:41:25.3872972+02:00 0HLI32A0DTNFB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:41:25.3874745+02:00 0HLI32A0DTNFB:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:41:25.3887073+02:00 0HLI32A0DTNFB:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:41:25.3888261+02:00 0HLI32A0DTNFB:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:41:25.3889970+02:00 0HLI32A0DTNFB:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:41:25.3895855+02:00 0HLI32A0DTNFB:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:41:25.3902463+02:00 0HLI32A0DTNFB:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:41:25.3936991+02:00 0HLI32A0DTNFB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:41:25.3956479+02:00 0HLI32A0DTNFB:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:41:25.3958121+02:00 0HLI32A0DTNFB:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1437ms. (50a9e262)
2018-11-05T22:41:25.3959238+02:00 0HLI32A0DTNFB:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:41:25.3962286+02:00 0HLI32A0DTNFB:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.1542ms (afa2e885)
2018-11-05T22:41:25.3964074+02:00 0HLI32A0DTNFB:00000002 [INF] Request finished in 9.5262ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:41:42.6142191+02:00 0HLI32A0DTNFB:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:41:42.6146672+02:00 0HLI32A0DTNFB:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:41:42.6148160+02:00 0HLI32A0DTNFB:00000003 [INF] Request finished in 0.705ms 204  (791a596a)
2018-11-05T22:41:43.0925154+02:00 0HLI32A0DTNFB:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:41:43.0927605+02:00 0HLI32A0DTNFB:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:41:43.0936527+02:00 0HLI32A0DTNFB:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:41:43.0937577+02:00 0HLI32A0DTNFB:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:41:43.0938915+02:00 0HLI32A0DTNFB:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:41:43.0942731+02:00 0HLI32A0DTNFB:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:41:43.0947520+02:00 0HLI32A0DTNFB:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:41:43.0969669+02:00 0HLI32A0DTNFB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:41:43.0991849+02:00 0HLI32A0DTNFB:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:41:43.0993413+02:00 0HLI32A0DTNFB:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.9725ms. (50a9e262)
2018-11-05T22:41:43.0994526+02:00 0HLI32A0DTNFB:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:41:43.0996693+02:00 0HLI32A0DTNFB:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7122ms (afa2e885)
2018-11-05T22:41:43.0998864+02:00 0HLI32A0DTNFB:00000004 [INF] Request finished in 7.4956ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:44:24.1045581+02:00 0HLI32A0DTNFC:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:44:24.1050251+02:00 0HLI32A0DTNFC:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:44:24.1051925+02:00 0HLI32A0DTNFC:00000001 [INF] Request finished in 0.7168ms 204  (791a596a)
2018-11-05T22:44:24.1952000+02:00 0HLI32A0DTNFC:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:44:24.1953563+02:00 0HLI32A0DTNFC:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:44:24.1962042+02:00 0HLI32A0DTNFC:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:44:24.1962879+02:00 0HLI32A0DTNFC:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:44:24.1964312+02:00 0HLI32A0DTNFC:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:44:24.1968444+02:00 0HLI32A0DTNFC:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:44:24.1972948+02:00 0HLI32A0DTNFC:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:44:24.1995571+02:00 0HLI32A0DTNFC:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:44:24.2015991+02:00 0HLI32A0DTNFC:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:44:24.2017668+02:00 0HLI32A0DTNFC:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8541ms. (50a9e262)
2018-11-05T22:44:24.2018710+02:00 0HLI32A0DTNFC:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:44:24.2020641+02:00 0HLI32A0DTNFC:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5689ms (afa2e885)
2018-11-05T22:44:24.2021904+02:00 0HLI32A0DTNFC:00000002 [INF] Request finished in 8.7268ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:45:18.8410352+02:00 0HLI32A0DTNFC:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:45:18.8412263+02:00 0HLI32A0DTNFC:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:45:18.8413455+02:00 0HLI32A0DTNFC:00000003 [INF] Request finished in 0.4555ms 204  (791a596a)
2018-11-05T22:45:18.9302095+02:00 0HLI32A0DTNFC:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:45:18.9303899+02:00 0HLI32A0DTNFC:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:45:18.9314178+02:00 0HLI32A0DTNFC:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:45:18.9316661+02:00 0HLI32A0DTNFC:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:45:18.9318860+02:00 0HLI32A0DTNFC:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:45:18.9735660+02:00 0HLI32A0DTNFC:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:45:18.9744174+02:00 0HLI32A0DTNFC:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:45:18.9767500+02:00 0HLI32A0DTNFC:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:45:19.0147479+02:00 0HLI32A0DTNFC:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:45:19.0150010+02:00 0HLI32A0DTNFC:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.174ms. (50a9e262)
2018-11-05T22:45:19.0151249+02:00 0HLI32A0DTNFC:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:45:19.0451416+02:00 0HLI32A0DTNFC:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 113.1455ms (afa2e885)
2018-11-05T22:45:19.0453489+02:00 0HLI32A0DTNFC:00000004 [INF] Request finished in 115.1101ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:48:42.2397171+02:00 0HLI32A0DTNFD:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:48:42.2399310+02:00 0HLI32A0DTNFD:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:48:42.2400636+02:00 0HLI32A0DTNFD:00000001 [INF] Request finished in 0.4578ms 204  (791a596a)
2018-11-05T22:48:42.3421273+02:00 0HLI32A0DTNFD:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:48:42.3429460+02:00 0HLI32A0DTNFD:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:48:42.3440469+02:00 0HLI32A0DTNFD:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:48:42.3442355+02:00 0HLI32A0DTNFD:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:48:42.3444053+02:00 0HLI32A0DTNFD:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:48:42.3449275+02:00 0HLI32A0DTNFD:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:48:42.3454474+02:00 0HLI32A0DTNFD:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:48:42.3495100+02:00 0HLI32A0DTNFD:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:48:42.3518059+02:00 0HLI32A0DTNFD:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:48:42.3527071+02:00 0HLI32A0DTNFD:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.6741ms. (50a9e262)
2018-11-05T22:48:42.3528370+02:00 0HLI32A0DTNFD:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:48:42.3537445+02:00 0HLI32A0DTNFD:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 9.2538ms (afa2e885)
2018-11-05T22:48:42.3538582+02:00 0HLI32A0DTNFD:00000002 [INF] Request finished in 11.8176ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:49:16.7330675+02:00 0HLI32A0DTNFD:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:49:16.7333044+02:00 0HLI32A0DTNFD:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T22:49:16.7334346+02:00 0HLI32A0DTNFD:00000003 [INF] Request finished in 0.4353ms 204  (791a596a)
2018-11-05T22:49:16.8405647+02:00 0HLI32A0DTNFD:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:49:16.8410151+02:00 0HLI32A0DTNFD:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T22:49:16.8426920+02:00 0HLI32A0DTNFD:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:49:16.8428274+02:00 0HLI32A0DTNFD:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:49:16.8429723+02:00 0HLI32A0DTNFD:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:49:16.8435552+02:00 0HLI32A0DTNFD:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:49:16.8440040+02:00 0HLI32A0DTNFD:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:49:16.8466315+02:00 0HLI32A0DTNFD:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:49:16.8489150+02:00 0HLI32A0DTNFD:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:49:16.8497463+02:00 0HLI32A0DTNFD:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4493ms. (50a9e262)
2018-11-05T22:49:16.8499007+02:00 0HLI32A0DTNFD:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:49:16.8500961+02:00 0HLI32A0DTNFD:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.0512ms (afa2e885)
2018-11-05T22:49:16.8502188+02:00 0HLI32A0DTNFD:00000004 [INF] Request finished in 9.7437ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:49:33.3249459+02:00 0HLI32A0DTNFD:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:49:33.3251882+02:00 0HLI32A0DTNFD:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T22:49:33.3253260+02:00 0HLI32A0DTNFD:00000005 [INF] Request finished in 0.5846ms 204  (791a596a)
2018-11-05T22:49:33.4239870+02:00 0HLI32A0DTNFD:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:49:33.4241982+02:00 0HLI32A0DTNFD:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T22:49:33.4372665+02:00 0HLI32A0DTNFD:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:49:33.4374662+02:00 0HLI32A0DTNFD:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:49:33.4377133+02:00 0HLI32A0DTNFD:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:49:33.4380883+02:00 0HLI32A0DTNFD:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:49:33.4385181+02:00 0HLI32A0DTNFD:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:49:33.4406703+02:00 0HLI32A0DTNFD:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:49:33.4426558+02:00 0HLI32A0DTNFD:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:49:33.4428516+02:00 0HLI32A0DTNFD:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.6839ms. (50a9e262)
2018-11-05T22:49:33.4429731+02:00 0HLI32A0DTNFD:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:49:33.4432787+02:00 0HLI32A0DTNFD:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.4908ms (afa2e885)
2018-11-05T22:49:33.4433920+02:00 0HLI32A0DTNFD:00000006 [INF] Request finished in 19.5194ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:50:14.4661037+02:00 0HLI32A0DTNFD:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:50:14.4664972+02:00 0HLI32A0DTNFD:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T22:50:14.4667277+02:00 0HLI32A0DTNFD:00000007 [INF] Request finished in 0.6201ms 204  (791a596a)
2018-11-05T22:50:14.5597586+02:00 0HLI32A0DTNFD:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:50:14.5599098+02:00 0HLI32A0DTNFD:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T22:50:14.5609519+02:00 0HLI32A0DTNFD:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:50:14.5610554+02:00 0HLI32A0DTNFD:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:50:14.5612365+02:00 0HLI32A0DTNFD:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:50:14.5617607+02:00 0HLI32A0DTNFD:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:50:14.5622060+02:00 0HLI32A0DTNFD:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:50:14.5644761+02:00 0HLI32A0DTNFD:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:50:14.5663973+02:00 0HLI32A0DTNFD:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:50:14.5665682+02:00 0HLI32A0DTNFD:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.7266ms. (50a9e262)
2018-11-05T22:50:14.5666772+02:00 0HLI32A0DTNFD:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:50:14.5668556+02:00 0HLI32A0DTNFD:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.5535ms (afa2e885)
2018-11-05T22:50:14.5669787+02:00 0HLI32A0DTNFD:00000008 [INF] Request finished in 7.2734ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:50:59.9493748+02:00 0HLI32A0DTNFD:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:50:59.9498789+02:00 0HLI32A0DTNFD:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T22:50:59.9500084+02:00 0HLI32A0DTNFD:00000009 [INF] Request finished in 0.7357ms 204  (791a596a)
2018-11-05T22:51:00.2424849+02:00 0HLI32A0DTNFD:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:51:00.2428367+02:00 0HLI32A0DTNFD:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T22:51:00.2439506+02:00 0HLI32A0DTNFD:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:51:00.2440706+02:00 0HLI32A0DTNFD:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:51:00.2442179+02:00 0HLI32A0DTNFD:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:51:00.2788029+02:00 0HLI32A0DTNFD:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:51:00.3007512+02:00 0HLI32A0DTNFD:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:51:00.3036107+02:00 0HLI32A0DTNFD:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:51:00.3058335+02:00 0HLI32A0DTNFD:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:51:00.3060174+02:00 0HLI32A0DTNFD:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.1228ms. (50a9e262)
2018-11-05T22:51:00.3061310+02:00 0HLI32A0DTNFD:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:51:00.3063079+02:00 0HLI32A0DTNFD:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 62.017ms (afa2e885)
2018-11-05T22:51:00.3064275+02:00 0HLI32A0DTNFD:0000000A [INF] Request finished in 63.993ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T22:55:42.6524465+02:00 0HLI32A0DTNFE:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T22:55:42.6526604+02:00 0HLI32A0DTNFE:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T22:55:42.6527974+02:00 0HLI32A0DTNFE:00000001 [INF] Request finished in 0.4381ms 204  (791a596a)
2018-11-05T22:55:42.9240863+02:00 0HLI32A0DTNFE:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T22:55:42.9245146+02:00 0HLI32A0DTNFE:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T22:55:42.9257616+02:00 0HLI32A0DTNFE:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T22:55:42.9258990+02:00 0HLI32A0DTNFE:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T22:55:42.9261011+02:00 0HLI32A0DTNFE:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T22:55:42.9267331+02:00 0HLI32A0DTNFE:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T22:55:42.9573893+02:00 0HLI32A0DTNFE:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T22:55:42.9602412+02:00 0HLI32A0DTNFE:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T22:55:42.9624072+02:00 0HLI32A0DTNFE:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T22:55:42.9625879+02:00 0HLI32A0DTNFE:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 35.7629ms. (50a9e262)
2018-11-05T22:55:42.9626988+02:00 0HLI32A0DTNFE:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T22:55:42.9750854+02:00 0HLI32A0DTNFE:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 48.8773ms (afa2e885)
2018-11-05T22:55:42.9752595+02:00 0HLI32A0DTNFE:00000002 [INF] Request finished in 51.2639ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:01:16.4417285+02:00 0HLI32A0DTNFF:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:01:16.4419891+02:00 0HLI32A0DTNFF:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:01:16.4781578+02:00 0HLI32A0DTNFF:00000001 [INF] Request finished in 49.9648ms 204  (791a596a)
2018-11-05T23:01:16.7398049+02:00 0HLI32A0DTNFF:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:01:16.7400133+02:00 0HLI32A0DTNFF:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:01:16.7414541+02:00 0HLI32A0DTNFF:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:01:16.7415828+02:00 0HLI32A0DTNFF:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:01:16.7417758+02:00 0HLI32A0DTNFF:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:01:16.7422799+02:00 0HLI32A0DTNFF:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:01:16.7428405+02:00 0HLI32A0DTNFF:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:01:16.7841739+02:00 0HLI32A0DTNFF:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:01:16.8133028+02:00 0HLI32A0DTNFF:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:01:16.8135480+02:00 0HLI32A0DTNFF:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 71.141ms. (50a9e262)
2018-11-05T23:01:16.8137576+02:00 0HLI32A0DTNFF:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:01:16.8139720+02:00 0HLI32A0DTNFF:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 72.1262ms (afa2e885)
2018-11-05T23:01:16.8141073+02:00 0HLI32A0DTNFF:00000002 [INF] Request finished in 74.5033ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:03:40.9167742+02:00 0HLI32A0DTNFG:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:03:40.9169735+02:00 0HLI32A0DTNFG:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:03:40.9171018+02:00 0HLI32A0DTNFG:00000001 [INF] Request finished in 0.4172ms 204  (791a596a)
2018-11-05T23:03:41.0604622+02:00 0HLI32A0DTNFG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:03:41.0606466+02:00 0HLI32A0DTNFG:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:03:41.0619334+02:00 0HLI32A0DTNFG:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:03:41.0620507+02:00 0HLI32A0DTNFG:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:03:41.0624209+02:00 0HLI32A0DTNFG:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:03:41.0629175+02:00 0HLI32A0DTNFG:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:03:41.0634414+02:00 0HLI32A0DTNFG:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:03:41.0661654+02:00 0HLI32A0DTNFG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:03:41.0746006+02:00 0HLI32A0DTNFG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:03:41.0747999+02:00 0HLI32A0DTNFG:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 11.7999ms. (50a9e262)
2018-11-05T23:03:41.0749172+02:00 0HLI32A0DTNFG:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:03:41.0755330+02:00 0HLI32A0DTNFG:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 13.0303ms (afa2e885)
2018-11-05T23:03:41.0756648+02:00 0HLI32A0DTNFG:00000002 [INF] Request finished in 15.2791ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:05:42.3745602+02:00 0HLI32A0DTNFH:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:05:42.3749104+02:00 0HLI32A0DTNFH:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:05:42.3750947+02:00 0HLI32A0DTNFH:00000001 [INF] Request finished in 0.6402ms 204  (791a596a)
2018-11-05T23:05:42.5239116+02:00 0HLI32A0DTNFH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:05:42.5243285+02:00 0HLI32A0DTNFH:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:05:42.5252849+02:00 0HLI32A0DTNFH:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:05:42.5253986+02:00 0HLI32A0DTNFH:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:05:42.5255573+02:00 0HLI32A0DTNFH:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:05:42.5260495+02:00 0HLI32A0DTNFH:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:05:42.5267225+02:00 0HLI32A0DTNFH:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:05:42.5296981+02:00 0HLI32A0DTNFH:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:05:42.5319161+02:00 0HLI32A0DTNFH:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:05:42.5321581+02:00 0HLI32A0DTNFH:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.0225ms. (50a9e262)
2018-11-05T23:05:42.5323029+02:00 0HLI32A0DTNFH:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:05:42.5327988+02:00 0HLI32A0DTNFH:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.1546ms (afa2e885)
2018-11-05T23:05:42.5329401+02:00 0HLI32A0DTNFH:00000002 [INF] Request finished in 9.0995ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:09:41.2928103+02:00 0HLI32A0DTNFI:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:09:41.2931158+02:00 0HLI32A0DTNFI:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:09:41.2932824+02:00 0HLI32A0DTNFI:00000001 [INF] Request finished in 0.6019ms 204  (791a596a)
2018-11-05T23:09:41.7052700+02:00 0HLI32A0DTNFI:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:09:41.7063444+02:00 0HLI32A0DTNFI:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:09:41.7203388+02:00 0HLI32A0DTNFI:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:09:41.7204730+02:00 0HLI32A0DTNFI:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:09:41.7206439+02:00 0HLI32A0DTNFI:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:09:41.7211500+02:00 0HLI32A0DTNFI:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:09:41.7219374+02:00 0HLI32A0DTNFI:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:09:41.7833205+02:00 0HLI32A0DTNFI:00000002 [INF] Executed DbCommand ("60"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:09:41.7854066+02:00 0HLI32A0DTNFI:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:09:41.7856407+02:00 0HLI32A0DTNFI:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 64.398ms. (50a9e262)
2018-11-05T23:09:41.7858018+02:00 0HLI32A0DTNFI:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:09:41.7864448+02:00 0HLI32A0DTNFI:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 65.6742ms (afa2e885)
2018-11-05T23:09:41.7865972+02:00 0HLI32A0DTNFI:00000002 [INF] Request finished in 81.3635ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:10:12.4646084+02:00 0HLI32A0DTNFI:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:10:12.4648496+02:00 0HLI32A0DTNFI:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T23:10:12.4649869+02:00 0HLI32A0DTNFI:00000003 [INF] Request finished in 0.5293ms 204  (791a596a)
2018-11-05T23:10:12.6559185+02:00 0HLI32A0DTNFI:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:10:12.6561913+02:00 0HLI32A0DTNFI:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T23:10:12.6577344+02:00 0HLI32A0DTNFI:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:10:12.6578244+02:00 0HLI32A0DTNFI:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:10:12.6579487+02:00 0HLI32A0DTNFI:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:10:12.6583655+02:00 0HLI32A0DTNFI:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:10:12.6589253+02:00 0HLI32A0DTNFI:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:10:12.6622308+02:00 0HLI32A0DTNFI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:10:12.6645215+02:00 0HLI32A0DTNFI:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:10:12.6647173+02:00 0HLI32A0DTNFI:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.2763ms. (50a9e262)
2018-11-05T23:10:12.6649391+02:00 0HLI32A0DTNFI:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:10:12.6651459+02:00 0HLI32A0DTNFI:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.1277ms (afa2e885)
2018-11-05T23:10:12.6652821+02:00 0HLI32A0DTNFI:00000004 [INF] Request finished in 9.9241ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:10:51.2221010+02:00 0HLI32A0DTNFI:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:10:51.2223715+02:00 0HLI32A0DTNFI:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T23:10:51.2226158+02:00 0HLI32A0DTNFI:00000005 [INF] Request finished in 0.4811ms 204  (791a596a)
2018-11-05T23:10:51.4144880+02:00 0HLI32A0DTNFI:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:10:51.4147233+02:00 0HLI32A0DTNFI:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T23:10:51.4338298+02:00 0HLI32A0DTNFI:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:10:51.4339794+02:00 0HLI32A0DTNFI:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:10:51.4342360+02:00 0HLI32A0DTNFI:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:10:51.4347930+02:00 0HLI32A0DTNFI:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:10:51.4472822+02:00 0HLI32A0DTNFI:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:10:51.4653225+02:00 0HLI32A0DTNFI:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:10:51.4673839+02:00 0HLI32A0DTNFI:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:10:51.4675591+02:00 0HLI32A0DTNFI:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 32.6559ms. (50a9e262)
2018-11-05T23:10:51.4676827+02:00 0HLI32A0DTNFI:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:10:51.4679010+02:00 0HLI32A0DTNFI:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 33.5934ms (afa2e885)
2018-11-05T23:10:51.4680636+02:00 0HLI32A0DTNFI:00000006 [INF] Request finished in 54.0977ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:11:15.7196641+02:00 0HLI32A0DTNFI:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:11:15.7198338+02:00 0HLI32A0DTNFI:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T23:11:15.7200805+02:00 0HLI32A0DTNFI:00000007 [INF] Request finished in 0.4946ms 204  (791a596a)
2018-11-05T23:11:15.9182260+02:00 0HLI32A0DTNFI:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:11:15.9184581+02:00 0HLI32A0DTNFI:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T23:11:15.9197402+02:00 0HLI32A0DTNFI:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:11:15.9198460+02:00 0HLI32A0DTNFI:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:11:15.9635890+02:00 0HLI32A0DTNFI:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:11:15.9642861+02:00 0HLI32A0DTNFI:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:11:15.9651597+02:00 0HLI32A0DTNFI:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:11:15.9676899+02:00 0HLI32A0DTNFI:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:11:15.9919000+02:00 0HLI32A0DTNFI:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:11:15.9922091+02:00 0HLI32A0DTNFI:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 27.8275ms. (50a9e262)
2018-11-05T23:11:15.9923741+02:00 0HLI32A0DTNFI:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:11:15.9936282+02:00 0HLI32A0DTNFI:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 29.9069ms (afa2e885)
2018-11-05T23:11:15.9937625+02:00 0HLI32A0DTNFI:00000008 [INF] Request finished in 75.626ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:12:22.7514240+02:00 0HLI32A0DTNFJ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:12:22.7516854+02:00 0HLI32A0DTNFJ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:12:22.7518200+02:00 0HLI32A0DTNFJ:00000001 [INF] Request finished in 0.6742ms 204  (791a596a)
2018-11-05T23:12:23.0007995+02:00 0HLI32A0DTNFJ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:12:23.0020322+02:00 0HLI32A0DTNFJ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:12:23.0037474+02:00 0HLI32A0DTNFJ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:12:23.0039444+02:00 0HLI32A0DTNFJ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:12:23.0414026+02:00 0HLI32A0DTNFJ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:12:23.0421484+02:00 0HLI32A0DTNFJ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:12:23.0433400+02:00 0HLI32A0DTNFJ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:12:23.0464446+02:00 0HLI32A0DTNFJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:12:23.0490215+02:00 0HLI32A0DTNFJ:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:12:23.0650594+02:00 0HLI32A0DTNFJ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 22.7436ms. (50a9e262)
2018-11-05T23:12:23.0652414+02:00 0HLI32A0DTNFJ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:12:23.0845492+02:00 0HLI32A0DTNFJ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 42.9862ms (afa2e885)
2018-11-05T23:12:23.0847032+02:00 0HLI32A0DTNFJ:00000002 [INF] Request finished in 83.9889ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:12:58.5050960+02:00 0HLI32A0DTNFJ:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:12:58.5055926+02:00 0HLI32A0DTNFJ:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T23:12:58.5058239+02:00 0HLI32A0DTNFJ:00000003 [INF] Request finished in 0.7957ms 204  (791a596a)
2018-11-05T23:12:58.6952993+02:00 0HLI32A0DTNFJ:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:12:58.6957059+02:00 0HLI32A0DTNFJ:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T23:12:58.7158802+02:00 0HLI32A0DTNFJ:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:12:58.7160041+02:00 0HLI32A0DTNFJ:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:12:58.7161584+02:00 0HLI32A0DTNFJ:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:12:58.7166810+02:00 0HLI32A0DTNFJ:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:12:58.7172171+02:00 0HLI32A0DTNFJ:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:12:58.7198651+02:00 0HLI32A0DTNFJ:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:12:58.7217388+02:00 0HLI32A0DTNFJ:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:12:58.7219382+02:00 0HLI32A0DTNFJ:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1766ms. (50a9e262)
2018-11-05T23:12:58.7470645+02:00 0HLI32A0DTNFJ:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:12:58.7475737+02:00 0HLI32A0DTNFJ:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 31.2605ms (afa2e885)
2018-11-05T23:12:58.7477083+02:00 0HLI32A0DTNFJ:00000004 [INF] Request finished in 52.846ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:13:54.8730166+02:00 0HLI32A0DTNFJ:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:13:54.8732416+02:00 0HLI32A0DTNFJ:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T23:13:54.8735933+02:00 0HLI32A0DTNFJ:00000005 [INF] Request finished in 0.7531ms 204  (791a596a)
2018-11-05T23:13:55.1223766+02:00 0HLI32A0DTNFJ:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:13:55.1226770+02:00 0HLI32A0DTNFJ:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T23:13:55.1236876+02:00 0HLI32A0DTNFJ:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:13:55.1239142+02:00 0HLI32A0DTNFJ:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:13:55.1240823+02:00 0HLI32A0DTNFJ:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:13:55.1524297+02:00 0HLI32A0DTNFJ:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:13:55.1531907+02:00 0HLI32A0DTNFJ:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:13:55.1577381+02:00 0HLI32A0DTNFJ:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:13:55.1600726+02:00 0HLI32A0DTNFJ:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:13:55.1602597+02:00 0HLI32A0DTNFJ:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 7.7179ms. (50a9e262)
2018-11-05T23:13:55.1603896+02:00 0HLI32A0DTNFJ:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:13:55.1608877+02:00 0HLI32A0DTNFJ:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 36.7201ms (afa2e885)
2018-11-05T23:13:55.1610133+02:00 0HLI32A0DTNFJ:00000006 [INF] Request finished in 38.7171ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:14:50.9111788+02:00 0HLI32A0DTNFJ:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:14:50.9114598+02:00 0HLI32A0DTNFJ:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T23:14:50.9116837+02:00 0HLI32A0DTNFJ:00000007 [INF] Request finished in 0.6678ms 204  (791a596a)
2018-11-05T23:14:51.0918151+02:00 0HLI32A0DTNFJ:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:14:51.0921992+02:00 0HLI32A0DTNFJ:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T23:14:51.0935145+02:00 0HLI32A0DTNFJ:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:14:51.0936101+02:00 0HLI32A0DTNFJ:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:14:51.0937427+02:00 0HLI32A0DTNFJ:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:14:51.0942997+02:00 0HLI32A0DTNFJ:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:14:51.0947824+02:00 0HLI32A0DTNFJ:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:14:51.0973241+02:00 0HLI32A0DTNFJ:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:14:51.0990369+02:00 0HLI32A0DTNFJ:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:14:51.0992828+02:00 0HLI32A0DTNFJ:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8051ms. (50a9e262)
2018-11-05T23:14:51.0993811+02:00 0HLI32A0DTNFJ:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:14:51.0996425+02:00 0HLI32A0DTNFJ:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.8417ms (afa2e885)
2018-11-05T23:14:51.0997502+02:00 0HLI32A0DTNFJ:00000008 [INF] Request finished in 8.0108ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:15:24.7644291+02:00 0HLI32A0DTNFJ:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:15:24.7646860+02:00 0HLI32A0DTNFJ:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T23:15:24.7649035+02:00 0HLI32A0DTNFJ:00000009 [INF] Request finished in 0.6872ms 204  (791a596a)
2018-11-05T23:15:24.9957515+02:00 0HLI32A0DTNFJ:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:15:24.9961652+02:00 0HLI32A0DTNFJ:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T23:15:24.9973297+02:00 0HLI32A0DTNFJ:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:15:24.9974399+02:00 0HLI32A0DTNFJ:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:15:24.9975922+02:00 0HLI32A0DTNFJ:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:15:24.9980370+02:00 0HLI32A0DTNFJ:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:15:24.9986059+02:00 0HLI32A0DTNFJ:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:15:25.0009818+02:00 0HLI32A0DTNFJ:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:15:25.0028994+02:00 0HLI32A0DTNFJ:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:15:25.0241340+02:00 0HLI32A0DTNFJ:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 25.971ms. (50a9e262)
2018-11-05T23:15:25.0243105+02:00 0HLI32A0DTNFJ:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:15:25.0246377+02:00 0HLI32A0DTNFJ:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 26.9278ms (afa2e885)
2018-11-05T23:15:25.0247585+02:00 0HLI32A0DTNFJ:0000000A [INF] Request finished in 29.0713ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:16:21.8727896+02:00 0HLI32A0DTNFJ:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:16:21.8731010+02:00 0HLI32A0DTNFJ:0000000B [INF] Policy execution successful. (0204925d)
2018-11-05T23:16:21.8733272+02:00 0HLI32A0DTNFJ:0000000B [INF] Request finished in 0.746ms 204  (791a596a)
2018-11-05T23:16:22.1602932+02:00 0HLI32A0DTNFJ:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:16:22.1610768+02:00 0HLI32A0DTNFJ:0000000C [INF] Policy execution successful. (0204925d)
2018-11-05T23:16:22.1626546+02:00 0HLI32A0DTNFJ:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:16:22.1627714+02:00 0HLI32A0DTNFJ:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:16:22.1629747+02:00 0HLI32A0DTNFJ:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:16:22.1634543+02:00 0HLI32A0DTNFJ:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:16:22.1642821+02:00 0HLI32A0DTNFJ:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:16:22.1667946+02:00 0HLI32A0DTNFJ:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:16:22.1687438+02:00 0HLI32A0DTNFJ:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:16:22.1688986+02:00 0HLI32A0DTNFJ:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3719ms. (50a9e262)
2018-11-05T23:16:22.1690237+02:00 0HLI32A0DTNFJ:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:16:22.1693241+02:00 0HLI32A0DTNFJ:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2775ms (afa2e885)
2018-11-05T23:16:22.1694323+02:00 0HLI32A0DTNFJ:0000000C [INF] Request finished in 10.4325ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:16:41.7021622+02:00 0HLI32A0DTNFJ:0000000D [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:16:41.7024449+02:00 0HLI32A0DTNFJ:0000000D [INF] Policy execution successful. (0204925d)
2018-11-05T23:16:41.7025684+02:00 0HLI32A0DTNFJ:0000000D [INF] Request finished in 0.615ms 204  (791a596a)
2018-11-05T23:16:41.8988751+02:00 0HLI32A0DTNFJ:0000000E [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:16:41.8994988+02:00 0HLI32A0DTNFJ:0000000E [INF] Policy execution successful. (0204925d)
2018-11-05T23:16:41.9005350+02:00 0HLI32A0DTNFJ:0000000E [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:16:41.9006281+02:00 0HLI32A0DTNFJ:0000000E [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:16:41.9311829+02:00 0HLI32A0DTNFJ:0000000E [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:16:41.9319369+02:00 0HLI32A0DTNFJ:0000000E [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:16:41.9335123+02:00 0HLI32A0DTNFJ:0000000E [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:16:41.9358835+02:00 0HLI32A0DTNFJ:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:16:41.9379898+02:00 0HLI32A0DTNFJ:0000000E [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:16:41.9381833+02:00 0HLI32A0DTNFJ:0000000E [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 6.1587ms. (50a9e262)
2018-11-05T23:16:41.9383084+02:00 0HLI32A0DTNFJ:0000000E [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:16:41.9385014+02:00 0HLI32A0DTNFJ:0000000E [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 7.2359ms (afa2e885)
2018-11-05T23:16:41.9386404+02:00 0HLI32A0DTNFJ:0000000E [INF] Request finished in 39.9645ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:17:04.3899034+02:00 0HLI32A0DTNFJ:0000000F [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:17:04.3902589+02:00 0HLI32A0DTNFJ:0000000F [INF] Policy execution successful. (0204925d)
2018-11-05T23:17:04.3904970+02:00 0HLI32A0DTNFJ:0000000F [INF] Request finished in 0.7823ms 204  (791a596a)
2018-11-05T23:17:04.6170739+02:00 0HLI32A0DTNFJ:00000010 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:17:04.6173996+02:00 0HLI32A0DTNFJ:00000010 [INF] Policy execution successful. (0204925d)
2018-11-05T23:17:04.6182747+02:00 0HLI32A0DTNFJ:00000010 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:17:04.6183883+02:00 0HLI32A0DTNFJ:00000010 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:17:04.6185253+02:00 0HLI32A0DTNFJ:00000010 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:17:04.6188924+02:00 0HLI32A0DTNFJ:00000010 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:17:04.6193602+02:00 0HLI32A0DTNFJ:00000010 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:17:04.6220023+02:00 0HLI32A0DTNFJ:00000010 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:17:04.6241038+02:00 0HLI32A0DTNFJ:00000010 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:17:04.6243240+02:00 0HLI32A0DTNFJ:00000010 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3538ms. (50a9e262)
2018-11-05T23:17:04.6244578+02:00 0HLI32A0DTNFJ:00000010 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:17:04.6247444+02:00 0HLI32A0DTNFJ:00000010 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.1531ms (afa2e885)
2018-11-05T23:17:04.6248668+02:00 0HLI32A0DTNFJ:00000010 [INF] Request finished in 11.8011ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:17:58.7297924+02:00 0HLI32A0DTNFJ:00000011 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:17:58.7301954+02:00 0HLI32A0DTNFJ:00000011 [INF] Policy execution successful. (0204925d)
2018-11-05T23:17:58.7304133+02:00 0HLI32A0DTNFJ:00000011 [INF] Request finished in 0.7476ms 204  (791a596a)
2018-11-05T23:17:58.9420382+02:00 0HLI32A0DTNFJ:00000012 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:17:58.9421902+02:00 0HLI32A0DTNFJ:00000012 [INF] Policy execution successful. (0204925d)
2018-11-05T23:17:58.9430310+02:00 0HLI32A0DTNFJ:00000012 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:17:58.9431526+02:00 0HLI32A0DTNFJ:00000012 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:17:58.9432774+02:00 0HLI32A0DTNFJ:00000012 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:17:58.9436266+02:00 0HLI32A0DTNFJ:00000012 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:17:58.9440691+02:00 0HLI32A0DTNFJ:00000012 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:17:58.9465296+02:00 0HLI32A0DTNFJ:00000012 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:17:58.9486599+02:00 0HLI32A0DTNFJ:00000012 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:17:58.9488324+02:00 0HLI32A0DTNFJ:00000012 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1327ms. (50a9e262)
2018-11-05T23:17:58.9490705+02:00 0HLI32A0DTNFJ:00000012 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:17:58.9495955+02:00 0HLI32A0DTNFJ:00000012 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2305ms (afa2e885)
2018-11-05T23:17:58.9497281+02:00 0HLI32A0DTNFJ:00000012 [INF] Request finished in 10.3689ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:18:12.8190787+02:00 0HLI32A0DTNFJ:00000013 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:18:12.8193830+02:00 0HLI32A0DTNFJ:00000013 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:12.8195200+02:00 0HLI32A0DTNFJ:00000013 [INF] Request finished in 0.5163ms 204  (791a596a)
2018-11-05T23:18:13.0766568+02:00 0HLI32A0DTNFJ:00000014 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:18:13.0768214+02:00 0HLI32A0DTNFJ:00000014 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:13.0776740+02:00 0HLI32A0DTNFJ:00000014 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:18:13.0777699+02:00 0HLI32A0DTNFJ:00000014 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:18:13.0779393+02:00 0HLI32A0DTNFJ:00000014 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:18:13.0783246+02:00 0HLI32A0DTNFJ:00000014 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:18:13.0788081+02:00 0HLI32A0DTNFJ:00000014 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:18:13.0816857+02:00 0HLI32A0DTNFJ:00000014 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:18:13.1541721+02:00 0HLI32A0DTNFJ:00000014 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:18:13.1543410+02:00 0HLI32A0DTNFJ:00000014 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 75.9295ms. (50a9e262)
2018-11-05T23:18:13.1544448+02:00 0HLI32A0DTNFJ:00000014 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:18:13.1546596+02:00 0HLI32A0DTNFJ:00000014 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 76.6464ms (afa2e885)
2018-11-05T23:18:13.1547547+02:00 0HLI32A0DTNFJ:00000014 [INF] Request finished in 83.1848ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:18:31.0408559+02:00 0HLI32A0DTNFJ:00000015 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:18:31.0410383+02:00 0HLI32A0DTNFJ:00000015 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:31.0411504+02:00 0HLI32A0DTNFJ:00000015 [INF] Request finished in 0.3548ms 204  (791a596a)
2018-11-05T23:18:31.1761017+02:00 0HLI32A0DTNFJ:00000016 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:18:31.1762628+02:00 0HLI32A0DTNFJ:00000016 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:31.1770645+02:00 0HLI32A0DTNFJ:00000016 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:18:31.1771648+02:00 0HLI32A0DTNFJ:00000016 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:18:31.1773029+02:00 0HLI32A0DTNFJ:00000016 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:18:31.1776701+02:00 0HLI32A0DTNFJ:00000016 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:18:31.1780909+02:00 0HLI32A0DTNFJ:00000016 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:18:31.1802875+02:00 0HLI32A0DTNFJ:00000016 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:18:31.1821093+02:00 0HLI32A0DTNFJ:00000016 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:18:31.1822762+02:00 0HLI32A0DTNFJ:00000016 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5319ms. (50a9e262)
2018-11-05T23:18:31.1823962+02:00 0HLI32A0DTNFJ:00000016 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:18:31.1825683+02:00 0HLI32A0DTNFJ:00000016 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.1797ms (afa2e885)
2018-11-05T23:18:31.1826931+02:00 0HLI32A0DTNFJ:00000016 [INF] Request finished in 6.6422ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:18:53.7410937+02:00 0HLI32A0DTNFJ:00000017 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:18:53.7412650+02:00 0HLI32A0DTNFJ:00000017 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:53.7414829+02:00 0HLI32A0DTNFJ:00000017 [INF] Request finished in 0.4057ms 204  (791a596a)
2018-11-05T23:18:53.8966090+02:00 0HLI32A0DTNFJ:00000018 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:18:53.8968225+02:00 0HLI32A0DTNFJ:00000018 [INF] Policy execution successful. (0204925d)
2018-11-05T23:18:53.8977360+02:00 0HLI32A0DTNFJ:00000018 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:18:53.8978335+02:00 0HLI32A0DTNFJ:00000018 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:18:53.8979708+02:00 0HLI32A0DTNFJ:00000018 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:18:53.8983585+02:00 0HLI32A0DTNFJ:00000018 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:18:53.8987985+02:00 0HLI32A0DTNFJ:00000018 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:18:53.9014883+02:00 0HLI32A0DTNFJ:00000018 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:18:53.9034367+02:00 0HLI32A0DTNFJ:00000018 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:18:53.9036056+02:00 0HLI32A0DTNFJ:00000018 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.1687ms. (50a9e262)
2018-11-05T23:18:53.9037185+02:00 0HLI32A0DTNFJ:00000018 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:18:53.9038918+02:00 0HLI32A0DTNFJ:00000018 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.8512ms (afa2e885)
2018-11-05T23:18:53.9040055+02:00 0HLI32A0DTNFJ:00000018 [INF] Request finished in 7.4451ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:19:38.2699418+02:00 0HLI32A0DTNFJ:00000019 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:19:38.2702481+02:00 0HLI32A0DTNFJ:00000019 [INF] Policy execution successful. (0204925d)
2018-11-05T23:19:38.2705556+02:00 0HLI32A0DTNFJ:00000019 [INF] Request finished in 0.761ms 204  (791a596a)
2018-11-05T23:19:38.4759974+02:00 0HLI32A0DTNFJ:0000001A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:19:38.4765959+02:00 0HLI32A0DTNFJ:0000001A [INF] Policy execution successful. (0204925d)
2018-11-05T23:19:38.4782711+02:00 0HLI32A0DTNFJ:0000001A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:19:38.4783773+02:00 0HLI32A0DTNFJ:0000001A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:19:38.4785206+02:00 0HLI32A0DTNFJ:0000001A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:19:38.4789291+02:00 0HLI32A0DTNFJ:0000001A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:19:38.4794028+02:00 0HLI32A0DTNFJ:0000001A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:19:38.5143791+02:00 0HLI32A0DTNFJ:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:19:38.5167459+02:00 0HLI32A0DTNFJ:0000001A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:19:38.5169931+02:00 0HLI32A0DTNFJ:0000001A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 37.9655ms. (50a9e262)
2018-11-05T23:19:38.5171466+02:00 0HLI32A0DTNFJ:0000001A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:19:38.5174454+02:00 0HLI32A0DTNFJ:0000001A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 38.8387ms (afa2e885)
2018-11-05T23:19:38.5175796+02:00 0HLI32A0DTNFJ:0000001A [INF] Request finished in 41.6666ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:19:58.0158070+02:00 0HLI32A0DTNFJ:0000001B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:19:58.0161450+02:00 0HLI32A0DTNFJ:0000001B [INF] Policy execution successful. (0204925d)
2018-11-05T23:19:58.0162997+02:00 0HLI32A0DTNFJ:0000001B [INF] Request finished in 0.7263ms 204  (791a596a)
2018-11-05T23:19:58.2021091+02:00 0HLI32A0DTNFJ:0000001C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:19:58.2022895+02:00 0HLI32A0DTNFJ:0000001C [INF] Policy execution successful. (0204925d)
2018-11-05T23:19:58.2032590+02:00 0HLI32A0DTNFJ:0000001C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:19:58.2033557+02:00 0HLI32A0DTNFJ:0000001C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:19:58.2034875+02:00 0HLI32A0DTNFJ:0000001C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:19:58.2333645+02:00 0HLI32A0DTNFJ:0000001C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:19:58.2339160+02:00 0HLI32A0DTNFJ:0000001C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:19:58.2363901+02:00 0HLI32A0DTNFJ:0000001C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:19:58.2383718+02:00 0HLI32A0DTNFJ:0000001C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:19:58.2385368+02:00 0HLI32A0DTNFJ:0000001C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.0704ms. (50a9e262)
2018-11-05T23:19:58.2386390+02:00 0HLI32A0DTNFJ:0000001C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:19:58.2389082+02:00 0HLI32A0DTNFJ:0000001C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 35.3472ms (afa2e885)
2018-11-05T23:19:58.2390330+02:00 0HLI32A0DTNFJ:0000001C [INF] Request finished in 37.0016ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:22:02.2369475+02:00 0HLI32A0DTNFK:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:22:02.2371536+02:00 0HLI32A0DTNFK:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:22:02.2372894+02:00 0HLI32A0DTNFK:00000001 [INF] Request finished in 0.4519ms 204  (791a596a)
2018-11-05T23:22:02.4671241+02:00 0HLI32A0DTNFK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:22:02.4672808+02:00 0HLI32A0DTNFK:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:22:02.4682361+02:00 0HLI32A0DTNFK:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:22:02.4683399+02:00 0HLI32A0DTNFK:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:22:02.4685057+02:00 0HLI32A0DTNFK:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:22:02.4690398+02:00 0HLI32A0DTNFK:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:22:02.4698348+02:00 0HLI32A0DTNFK:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:22:02.4724945+02:00 0HLI32A0DTNFK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:22:02.4745539+02:00 0HLI32A0DTNFK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:22:02.4747342+02:00 0HLI32A0DTNFK:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4604ms. (50a9e262)
2018-11-05T23:22:02.4748511+02:00 0HLI32A0DTNFK:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:22:02.4751357+02:00 0HLI32A0DTNFK:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.555ms (afa2e885)
2018-11-05T23:22:02.4752643+02:00 0HLI32A0DTNFK:00000002 [INF] Request finished in 8.201ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:22:51.7189145+02:00 0HLI32A0DTNFK:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:22:51.7191044+02:00 0HLI32A0DTNFK:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T23:22:51.7192330+02:00 0HLI32A0DTNFK:00000003 [INF] Request finished in 0.3852ms 204  (791a596a)
2018-11-05T23:22:51.8817912+02:00 0HLI32A0DTNFK:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:22:51.8819803+02:00 0HLI32A0DTNFK:00000004 [INF] Policy execution successful. (0204925d)
2018-11-05T23:22:51.8830860+02:00 0HLI32A0DTNFK:00000004 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:22:51.8833492+02:00 0HLI32A0DTNFK:00000004 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:22:51.8838147+02:00 0HLI32A0DTNFK:00000004 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:22:51.8843630+02:00 0HLI32A0DTNFK:00000004 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:22:51.9213299+02:00 0HLI32A0DTNFK:00000004 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:22:51.9236304+02:00 0HLI32A0DTNFK:00000004 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:22:51.9255745+02:00 0HLI32A0DTNFK:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:22:51.9257391+02:00 0HLI32A0DTNFK:00000004 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 41.2991ms. (50a9e262)
2018-11-05T23:22:51.9258489+02:00 0HLI32A0DTNFK:00000004 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:22:51.9260135+02:00 0HLI32A0DTNFK:00000004 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 42.1237ms (afa2e885)
2018-11-05T23:22:51.9261240+02:00 0HLI32A0DTNFK:00000004 [INF] Request finished in 44.4479ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:23:49.7588048+02:00 0HLI32A0DTNFK:00000005 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:23:49.7592790+02:00 0HLI32A0DTNFK:00000005 [INF] Policy execution successful. (0204925d)
2018-11-05T23:23:49.7595493+02:00 0HLI32A0DTNFK:00000005 [INF] Request finished in 0.8913ms 204  (791a596a)
2018-11-05T23:23:50.0048688+02:00 0HLI32A0DTNFK:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:23:50.0051392+02:00 0HLI32A0DTNFK:00000006 [INF] Policy execution successful. (0204925d)
2018-11-05T23:23:50.0065603+02:00 0HLI32A0DTNFK:00000006 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:23:50.0067328+02:00 0HLI32A0DTNFK:00000006 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:23:50.0068883+02:00 0HLI32A0DTNFK:00000006 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:23:50.0073407+02:00 0HLI32A0DTNFK:00000006 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:23:50.0078937+02:00 0HLI32A0DTNFK:00000006 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:23:50.0106900+02:00 0HLI32A0DTNFK:00000006 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:23:50.0126460+02:00 0HLI32A0DTNFK:00000006 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:23:50.0128177+02:00 0HLI32A0DTNFK:00000006 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3941ms. (50a9e262)
2018-11-05T23:23:50.0129480+02:00 0HLI32A0DTNFK:00000006 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:23:50.0132239+02:00 0HLI32A0DTNFK:00000006 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2546ms (afa2e885)
2018-11-05T23:23:50.0133297+02:00 0HLI32A0DTNFK:00000006 [INF] Request finished in 8.9668ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:24:23.8300761+02:00 0HLI32A0DTNFK:00000007 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:24:23.8302513+02:00 0HLI32A0DTNFK:00000007 [INF] Policy execution successful. (0204925d)
2018-11-05T23:24:23.8303717+02:00 0HLI32A0DTNFK:00000007 [INF] Request finished in 0.4448ms 204  (791a596a)
2018-11-05T23:24:24.0542407+02:00 0HLI32A0DTNFK:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:24:24.0545455+02:00 0HLI32A0DTNFK:00000008 [INF] Policy execution successful. (0204925d)
2018-11-05T23:24:24.0553879+02:00 0HLI32A0DTNFK:00000008 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:24:24.0554731+02:00 0HLI32A0DTNFK:00000008 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:24:24.0556026+02:00 0HLI32A0DTNFK:00000008 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:24:24.0559551+02:00 0HLI32A0DTNFK:00000008 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:24:24.0563392+02:00 0HLI32A0DTNFK:00000008 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:24:24.0585482+02:00 0HLI32A0DTNFK:00000008 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:24:24.0603000+02:00 0HLI32A0DTNFK:00000008 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:24:24.0605432+02:00 0HLI32A0DTNFK:00000008 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.5138ms. (50a9e262)
2018-11-05T23:24:24.0606592+02:00 0HLI32A0DTNFK:00000008 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:24:24.0609312+02:00 0HLI32A0DTNFK:00000008 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.2492ms (afa2e885)
2018-11-05T23:24:24.0762905+02:00 0HLI32A0DTNFK:00000008 [INF] Request finished in 22.0351ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:25:00.9691410+02:00 0HLI32A0DTNFK:00000009 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:25:00.9693222+02:00 0HLI32A0DTNFK:00000009 [INF] Policy execution successful. (0204925d)
2018-11-05T23:25:00.9694766+02:00 0HLI32A0DTNFK:00000009 [INF] Request finished in 0.3971ms 204  (791a596a)
2018-11-05T23:25:01.2295430+02:00 0HLI32A0DTNFK:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:25:01.2587392+02:00 0HLI32A0DTNFK:0000000A [INF] Policy execution successful. (0204925d)
2018-11-05T23:25:01.2595566+02:00 0HLI32A0DTNFK:0000000A [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:25:01.2596557+02:00 0HLI32A0DTNFK:0000000A [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:25:01.2599509+02:00 0HLI32A0DTNFK:0000000A [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:25:01.2603784+02:00 0HLI32A0DTNFK:0000000A [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:25:01.2608632+02:00 0HLI32A0DTNFK:0000000A [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:25:01.2631867+02:00 0HLI32A0DTNFK:0000000A [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:25:01.2651690+02:00 0HLI32A0DTNFK:0000000A [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:25:01.2653482+02:00 0HLI32A0DTNFK:0000000A [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8912ms. (50a9e262)
2018-11-05T23:25:01.2654619+02:00 0HLI32A0DTNFK:0000000A [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:25:01.2657682+02:00 0HLI32A0DTNFK:0000000A [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7221ms (afa2e885)
2018-11-05T23:25:01.2662028+02:00 0HLI32A0DTNFK:0000000A [INF] Request finished in 36.6964ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:25:46.1489271+02:00 0HLI32A0DTNFK:0000000B [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:25:46.1491154+02:00 0HLI32A0DTNFK:0000000B [INF] Policy execution successful. (0204925d)
2018-11-05T23:25:46.1492425+02:00 0HLI32A0DTNFK:0000000B [INF] Request finished in 0.4871ms 204  (791a596a)
2018-11-05T23:25:46.3288656+02:00 0HLI32A0DTNFK:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:25:46.3290445+02:00 0HLI32A0DTNFK:0000000C [INF] Policy execution successful. (0204925d)
2018-11-05T23:25:46.3302066+02:00 0HLI32A0DTNFK:0000000C [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:25:46.3304434+02:00 0HLI32A0DTNFK:0000000C [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:25:46.3305681+02:00 0HLI32A0DTNFK:0000000C [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:25:46.3309072+02:00 0HLI32A0DTNFK:0000000C [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:25:46.3313264+02:00 0HLI32A0DTNFK:0000000C [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:25:46.3338622+02:00 0HLI32A0DTNFK:0000000C [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:25:46.3359035+02:00 0HLI32A0DTNFK:0000000C [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:25:46.3360590+02:00 0HLI32A0DTNFK:0000000C [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.085ms. (50a9e262)
2018-11-05T23:25:46.3361644+02:00 0HLI32A0DTNFK:0000000C [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:25:46.3627251+02:00 0HLI32A0DTNFK:0000000C [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 32.0598ms (afa2e885)
2018-11-05T23:25:46.3628692+02:00 0HLI32A0DTNFK:0000000C [INF] Request finished in 34.0801ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:27:02.1526440+02:00 0HLI32A0DTNFL:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:27:02.1528134+02:00 0HLI32A0DTNFL:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:27:02.1529310+02:00 0HLI32A0DTNFL:00000001 [INF] Request finished in 0.3789ms 204  (791a596a)
2018-11-05T23:27:02.4129225+02:00 0HLI32A0DTNFL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:27:02.4130669+02:00 0HLI32A0DTNFL:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:27:02.4145725+02:00 0HLI32A0DTNFL:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:27:02.4146953+02:00 0HLI32A0DTNFL:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:27:02.4148512+02:00 0HLI32A0DTNFL:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:27:02.4152894+02:00 0HLI32A0DTNFL:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:27:02.4157954+02:00 0HLI32A0DTNFL:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:27:02.4181812+02:00 0HLI32A0DTNFL:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:27:02.4200973+02:00 0HLI32A0DTNFL:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:27:02.4202757+02:00 0HLI32A0DTNFL:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 4.8967ms. (50a9e262)
2018-11-05T23:27:02.4203910+02:00 0HLI32A0DTNFL:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:27:02.4206306+02:00 0HLI32A0DTNFL:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 5.7075ms (afa2e885)
2018-11-05T23:27:02.4207451+02:00 0HLI32A0DTNFL:00000002 [INF] Request finished in 7.9725ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:28:40.3217284+02:00 0HLI32A0DTNFM:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:28:40.3219120+02:00 0HLI32A0DTNFM:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:28:40.3220750+02:00 0HLI32A0DTNFM:00000001 [INF] Request finished in 0.5103ms 204  (791a596a)
2018-11-05T23:28:40.5958145+02:00 0HLI32A0DTNFM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:28:40.5960880+02:00 0HLI32A0DTNFM:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:28:40.5970997+02:00 0HLI32A0DTNFM:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:28:40.5972232+02:00 0HLI32A0DTNFM:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:28:40.5973895+02:00 0HLI32A0DTNFM:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:28:40.5978470+02:00 0HLI32A0DTNFM:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:28:40.5984896+02:00 0HLI32A0DTNFM:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:28:40.6010873+02:00 0HLI32A0DTNFM:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:28:40.6031751+02:00 0HLI32A0DTNFM:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:28:40.6033619+02:00 0HLI32A0DTNFM:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.4367ms. (50a9e262)
2018-11-05T23:28:40.6034724+02:00 0HLI32A0DTNFM:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:28:40.6037033+02:00 0HLI32A0DTNFM:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.2495ms (afa2e885)
2018-11-05T23:28:40.6038016+02:00 0HLI32A0DTNFM:00000002 [INF] Request finished in 8.8914ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:33:33.8681246+02:00 0HLI32A0DTNFN:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:33:33.8683227+02:00 0HLI32A0DTNFN:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:33:33.8684570+02:00 0HLI32A0DTNFN:00000001 [INF] Request finished in 0.4835ms 204  (791a596a)
2018-11-05T23:33:33.9775545+02:00 0HLI32A0DTNFN:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:33:33.9780767+02:00 0HLI32A0DTNFN:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:33:33.9789874+02:00 0HLI32A0DTNFN:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:33:33.9790861+02:00 0HLI32A0DTNFN:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:33:33.9792333+02:00 0HLI32A0DTNFN:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:33:33.9802529+02:00 0HLI32A0DTNFN:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:33:33.9808726+02:00 0HLI32A0DTNFN:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:33:33.9836674+02:00 0HLI32A0DTNFN:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:33:33.9904782+02:00 0HLI32A0DTNFN:00000002 [INF] Executed DbCommand ("6"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:33:33.9906676+02:00 0HLI32A0DTNFN:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 10.3176ms. (50a9e262)
2018-11-05T23:33:33.9910241+02:00 0HLI32A0DTNFN:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:33:33.9913272+02:00 0HLI32A0DTNFN:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 12.0225ms (afa2e885)
2018-11-05T23:33:33.9914619+02:00 0HLI32A0DTNFN:00000002 [INF] Request finished in 14.1055ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:33:45.9299770+02:00 0HLI32A0DTNFN:00000003 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:33:45.9303184+02:00 0HLI32A0DTNFN:00000003 [INF] Policy execution successful. (0204925d)
2018-11-05T23:33:45.9304372+02:00 0HLI32A0DTNFN:00000003 [INF] Request finished in 0.5171ms 204  (791a596a)
2018-11-05T23:37:28.6854868+02:00 0HLI32A0DTNFO:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:37:28.6856653+02:00 0HLI32A0DTNFO:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:37:28.6858398+02:00 0HLI32A0DTNFO:00000001 [INF] Request finished in 0.4259ms 204  (791a596a)
2018-11-05T23:37:28.8008599+02:00 0HLI32A0DTNFO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:37:28.8010948+02:00 0HLI32A0DTNFO:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:37:28.8025017+02:00 0HLI32A0DTNFO:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:37:28.8026916+02:00 0HLI32A0DTNFO:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:37:28.8028534+02:00 0HLI32A0DTNFO:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:37:28.8032959+02:00 0HLI32A0DTNFO:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:37:28.8038445+02:00 0HLI32A0DTNFO:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:37:28.8066421+02:00 0HLI32A0DTNFO:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:37:28.8085537+02:00 0HLI32A0DTNFO:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:37:28.8087523+02:00 0HLI32A0DTNFO:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3368ms. (50a9e262)
2018-11-05T23:37:28.8088707+02:00 0HLI32A0DTNFO:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:37:28.8091044+02:00 0HLI32A0DTNFO:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.18ms (afa2e885)
2018-11-05T23:37:28.8092228+02:00 0HLI32A0DTNFO:00000002 [INF] Request finished in 8.4304ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:42:14.0926875+02:00 0HLI32A0DTNFP:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:42:14.0928904+02:00 0HLI32A0DTNFP:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:42:14.0930728+02:00 0HLI32A0DTNFP:00000001 [INF] Request finished in 0.4168ms 204  (791a596a)
2018-11-05T23:42:14.3154153+02:00 0HLI32A0DTNFP:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:42:14.3157480+02:00 0HLI32A0DTNFP:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:42:14.3169923+02:00 0HLI32A0DTNFP:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:42:14.3171229+02:00 0HLI32A0DTNFP:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:42:14.3173314+02:00 0HLI32A0DTNFP:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:42:14.3178311+02:00 0HLI32A0DTNFP:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:42:14.3184982+02:00 0HLI32A0DTNFP:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:42:14.3211639+02:00 0HLI32A0DTNFP:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:42:14.3230879+02:00 0HLI32A0DTNFP:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:42:14.3232513+02:00 0HLI32A0DTNFP:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 5.3368ms. (50a9e262)
2018-11-05T23:42:14.3233658+02:00 0HLI32A0DTNFP:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:42:14.3237104+02:00 0HLI32A0DTNFP:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 6.3071ms (afa2e885)
2018-11-05T23:42:14.3238300+02:00 0HLI32A0DTNFP:00000002 [INF] Request finished in 8.4671ms 200 application/json; charset=utf-8 (791a596a)
2018-11-05T23:59:11.6907787+02:00 0HLI32A0DTNFQ:00000001 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:44357/api/Doctors/8   (ca22a1cb)
2018-11-05T23:59:11.6910159+02:00 0HLI32A0DTNFQ:00000001 [INF] Policy execution successful. (0204925d)
2018-11-05T23:59:11.6912926+02:00 0HLI32A0DTNFQ:00000001 [INF] Request finished in 0.6205ms 204  (791a596a)
2018-11-05T23:59:12.0118991+02:00 0HLI32A0DTNFQ:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:44357/api/Doctors/8 application/json  (ca22a1cb)
2018-11-05T23:59:12.0124415+02:00 0HLI32A0DTNFQ:00000002 [INF] Policy execution successful. (0204925d)
2018-11-05T23:59:12.0137397+02:00 0HLI32A0DTNFQ:00000002 [INF] Failed to validate the token. (616bef97)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\Microsoft.IdentityModel.Tokens\Validators.cs:line 274
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 1178
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 735
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken) in C:\agent2\_work\56\s\src\System.IdentityModel.Tokens.Jwt\JwtSecurityTokenHandler.cs:line 719
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2018-11-05T23:59:12.0139829+02:00 0HLI32A0DTNFQ:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden]', Current time: '[PII is hidden]'." (48071232)
2018-11-05T23:59:12.0368222+02:00 0HLI32A0DTNFQ:00000002 [INF] Route matched with "{action = \"Get\", controller = \"Doctors\"}". Executing action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" (a44c0341)
2018-11-05T23:59:12.0374727+02:00 0HLI32A0DTNFQ:00000002 [INF] Executing action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" with arguments (["8"]) - Validation state: Valid (4e3479ed)
2018-11-05T23:59:12.0381385+02:00 0HLI32A0DTNFQ:00000002 [INF] Entity Framework Core "2.1.4-rtm-31024" initialized '"ApplicationContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=InternetHospital.WebApi " (9958f5bb)
2018-11-05T23:59:12.2404509+02:00 0HLI32A0DTNFQ:00000002 [INF] Executed DbCommand ("33"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"UserId\", d.\"Address\", d.\"DoctorsInfo\", d.\"IsApproved\", d.\"LicenseURL\", d.\"SpecializationId\", \"d.Specialization\".\"Id\", \"d.Specialization\".\"Description\", \"d.Specialization\".\"Name\", \"d.User\".\"Id\", \"d.User\".\"AccessFailedCount\", \"d.User\".\"AvatarURL\", \"d.User\".\"BirthDate\", \"d.User\".\"ConcurrencyStamp\", \"d.User\".\"Email\", \"d.User\".\"EmailConfirmed\", \"d.User\".\"FirstName\", \"d.User\".\"LastStatusChangeTime\", \"d.User\".\"LockoutEnabled\", \"d.User\".\"LockoutEnd\", \"d.User\".\"NormalizedEmail\", \"d.User\".\"NormalizedUserName\", \"d.User\".\"PassportURL\", \"d.User\".\"PasswordHash\", \"d.User\".\"PhoneNumber\", \"d.User\".\"PhoneNumberConfirmed\", \"d.User\".\"SecondName\", \"d.User\".\"SecurityStamp\", \"d.User\".\"SignUpTime\", \"d.User\".\"StatusId\", \"d.User\".\"ThirdName\", \"d.User\".\"TwoFactorEnabled\", \"d.User\".\"UserName\"
FROM \"Doctors\" AS d
LEFT JOIN \"Specializations\" AS \"d.Specialization\" ON d.\"SpecializationId\" = \"d.Specialization\".\"Id\"
INNER JOIN \"AspNetUsers\" AS \"d.User\" ON d.\"UserId\" = \"d.User\".\"Id\"
WHERE (d.\"UserId\" = @__id_0) AND d.\"UserId\" IS NOT NULL
ORDER BY d.\"UserId\"
LIMIT 1" (0723d8ff)
2018-11-05T23:59:12.3035562+02:00 0HLI32A0DTNFQ:00000002 [INF] Executed DbCommand ("30"ms) [Parameters=["@__id_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT \"d.Diplomas\".\"Id\", \"d.Diplomas\".\"DiplomaURL\", \"d.Diplomas\".\"DoctorId\", \"d.Diplomas\".\"IsValid\"
FROM \"Diplomas\" AS \"d.Diplomas\"
INNER JOIN (
    SELECT DISTINCT t.*
    FROM (
        SELECT d0.\"UserId\"
        FROM \"Doctors\" AS d0
        LEFT JOIN \"Specializations\" AS \"d.Specialization0\" ON d0.\"SpecializationId\" = \"d.Specialization0\".\"Id\"
        INNER JOIN \"AspNetUsers\" AS \"d.User0\" ON d0.\"UserId\" = \"d.User0\".\"Id\"
        WHERE (d0.\"UserId\" = @__id_0) AND d0.\"UserId\" IS NOT NULL
        ORDER BY d0.\"UserId\"
        LIMIT 1
    ) AS t
) AS t0 ON \"d.Diplomas\".\"DoctorId\" = t0.\"UserId\"
ORDER BY t0.\"UserId\"" (0723d8ff)
2018-11-05T23:59:12.3037595+02:00 0HLI32A0DTNFQ:00000002 [INF] Executed action method "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)", returned result "Microsoft.AspNetCore.Mvc.OkObjectResult" in 266.1936ms. (50a9e262)
2018-11-05T23:59:12.3038870+02:00 0HLI32A0DTNFQ:00000002 [INF] Executing ObjectResult, writing value of type '"InternetHospital.BusinessLogic.Models.DoctorDetailedModel"'. (8a1b66c8)
2018-11-05T23:59:12.3043646+02:00 0HLI32A0DTNFQ:00000002 [INF] Executed action "InternetHospital.WebApi.Controllers.DoctorsController.Get (InternetHospital.WebApi)" in 267.4299ms (afa2e885)
2018-11-05T23:59:12.3045099+02:00 0HLI32A0DTNFQ:00000002 [INF] Request finished in 292.6743ms 200 application/json; charset=utf-8 (791a596a)
